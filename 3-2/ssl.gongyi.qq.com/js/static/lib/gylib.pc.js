!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).GY={})}(this,(function(e){"use strict";var t=navigator.userAgent||"",n=t.match(/(iPad).*OS\s([\d_]+)/),r=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/),o=t.match(/(iPod).*OS\s([\d_]+)/),i=t.match(/(Android)\s+([\d.]+)/)||t.match(/Android/),a="undefined"!=typeof getApp?wx.getSystemInfoSync().system.toLowerCase().indexOf("ios")>-1?"ios":"android":r||n||o?"ios":"android";var s="undefined"!=typeof getApp||!!(n||r||n||i),c=Object.freeze({__proto__:null,platform:a,getClientInfo:function(){return new Promise((function(e){var n=t.match(/MicroMessenger\/([\d\.]+)/i),r=t.match(/QQ\/([\d\.]+)/),o=t.match("Qzone"),i=t.match(/Now\/([\d\.]+)/),a=t.match("QQBrowser"),s=t.match("qqnews"),c=t.match("QQMusic"),u=t.match("qqlive");"undefined"!=typeof wx?"undefined"!=typeof getApp?e("mp"):wx.miniProgram.getEnv((function(t){t.miniprogram?e("mpwebview"):e("wx")})):e(r?"qq":o?"qzone":n?"wx":a?"mqqbrowser":i?"Now":s?"qqnews":c?"qqmusic":u?"qqlive":"other")}))},isMobile:s});function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=Object.freeze({__proto__:null,format:function(e){if(isNaN(+e))return"";var t=parseFloat(String(e)).toString(),n="";if(t.indexOf(".")>-1){var r=v(t.split("."),2);t=r[0],n=r[1]}var o=t.length;if(o<=3)return String(e);var i=o%3,a="",s="",c=t.slice(i,o).match(/\d{3}/g);return c&&(s=c.join(",")),a=i>0?t.slice(0,i)+","+s:s,n?"".concat(a,".").concat(n):a},toChiness:function(e){if(e=parseFloat(String(e)),isNaN(+e))return console.error("TypeError in Number to Chiness."),!1;if(e>99999.99)return console.error("RangeError in Number to Chiness."),!1;var t,n,r=String(e),o=r.indexOf(".");o>-1?(t=r.slice(0,o),n=r.slice(o+1)):(t=r,n="");for(var i=["","十","百","千","万"],a=["零","一","二","三","四","五","六","七","八","九"],s="",c=0;c<t.length;++c)parseInt(t[c])?s+=a[parseInt(t[c])]+i[t.length-c-1]:s+="零";n&&(s+="点",s+=a[parseInt(n[0])],s+=n[1]?a[parseInt(n[1])]:"");var u=encodeURIComponent("点"),f=encodeURIComponent("零"),l=new RegExp("(("+f+")+)","g"),p=new RegExp("(?!"+u+")"+f+"$"),d=encodeURIComponent(s).replace(l,f).replace(encodeURIComponent("零点"),u).replace(p,"");return 0==d.indexOf(u)&&(d=f+d),decodeURIComponent(d)}});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Array(t+1).join(e)}function w(e,t){return e.charCodeAt(t)>127||94==e.charCodeAt(t)?1:.5}function S(e,t,n){var r,o=0;for(r=t;r<e.length&&!((o+=w(e,r))>n);++r);return r}function x(e,t){for(var n=0,r=0;r<t;)r+=w(e,n),n++;return r>t+.1?n-1:n}function O(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=e.replace(/\?/g,"&").split("&"),o=r.length,i=0;i<o;++i)if(!(r[i].indexOf("=")<0)){var a=r[i].split("=");n[a[0]]=t?decodeURIComponent(a[1]):a[1]}return n}function _(e){return e.replace(/&amp;/g,"").replace(/&gt;/,"").replace(/&lt;/g,"").replace(/quot;/g,"").replace(/#39;/g,"").replace(/&/g,"").replace(/>/g,"").replace(/</g,"").replace(/"/g,"").replace(/'/g,"").replace(/%3C/g,"").replace(/%3c/g,"").replace(/%3E/g,"").replace(/%3e/g,"").replace(/%+\/v8/g,"")}function C(e,t){for(var n=0;n<e.length;++n)t+=(t<<5)+e.charCodeAt(n);return 2147483647&t}var k=Object.freeze({__proto__:null,repeatStr:b,getCStrLen:function(e){for(var t=0,n=0;n<e.length;++n)t+=e.charCodeAt(n)>127||94==e.charCodeAt(n)?2:1;return t},encryUserName:function(e){var t=Math.max(~~(e.length-2),1);return"".concat(e.slice(0,1)).concat(b("*",t)).concat(e.slice(t+1))},getCharWeight:w,findEndIndex:S,resetStart:x,getSubCString:function(e,t,n){var r=x(e,t);return n?e.substring(r,S(e,r,n-t)):e.substring(r)},toJSON:O,toSafe:_,encodeToken:C});function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";"string"==typeof e&&(e=e.replace(/-/g,"/")),e instanceof Date||(e=new Date(e));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var r in/(y+)/i.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t}var E=Object.freeze({__proto__:null,diffDate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"u";"string"==typeof e&&(e=e.replace(/-/g,"/")),"string"==typeof t&&(t=t.replace(/-/g,"/"));var r=new Date(e),o=new Date(t);if(+o-+r<0){var i=[r,o];o=i[0],r=i[1]}switch(n){case"u":return+o-+r;case"s":return~~((+o-+r)/1e3);case"m":return~~((+o-+r)/6e4);case"h":return~~((+o-+r)/36e5);case"d":return~~((+o-+r)/864e5);case"w":return~~((+o-+r)/6048e5);case"M":return o.getMonth()+1+12*(o.getFullYear()-r.getFullYear())-(r.getMonth()+1);case"y":return o.getFullYear()-r.getFullYear();default:return+o-+r}},diffTimeFromNow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();"string"==typeof e&&(e=e.replace(/-/g,"/"));var n=new Date(t),r=new Date(e),o=Math.abs(+n-+r),i=[1e3,6e4,36e5,864e5],a=["刚刚"," 秒前"," 分钟前"," 小时前"," 天前"],s=0;for(s=0;s<i.length;++s)if(o<i[s])return 0==s?a[0]:~~(o/i[s-1])+a[s];var c=n.getFullYear()-r.getFullYear(),u=n.getMonth()-r.getMonth();if(c>=0){if(u<0){if(0==c)return String(e);u=12+u,c--}var f=n.getDate()-r.getDate();return u>0&&f<0&&u--,0==u&&0==c?Math.abs(~~(o/i[s-1]))+a[s]:c?c+"年前":u+"个月前"}return String(e)},formatDate:j,dateToUnix:function(e){return Math.round(new Date(e).getTime()/1e3)},unixToDate:function(e,t,n){return t?(!n&&(e+"").length<=10&&(e*=1e3),j(new Date(e),t)):new Date(e)}});function I(e){return function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;f(this,t),d(this,"maxCount",4),d(this,"waitingQueue",[]),d(this,"queueLength",0),this.maxCount=e}return p(t,[{key:"add",value:function(t){var n=this;this.queueLength>=this.maxCount?this.waitingQueue.push(t):(this.queueLength++,e(t).then((function(e){"function"==typeof t.success&&t.success(e)})).catch((function(e){"function"==typeof t.error&&t.error(e)})).finally((function(){if(n.queueLength--,n.waitingQueue.length>0){var e=n.waitingQueue[0];n.add(e),n.waitingQueue.shift()}})))}}]),t}()}function R(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";for(var r in e){if(e.hasOwnProperty(r)&&void 0!==e[r])n+=r+"="+(t?encodeURIComponent(e[r]):e[r])+"&"}return n.slice(0,n.length-1)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=O(e);if(t){var o=decodeURIComponent(r[t]||"");return n?o:_(o)}return r}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return q(location.search.substr(1),e,t)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return q(location.hash.substr(1),e,t)}function A(){return location.origin?location.origin+location.pathname:(e=location.href,(t=e.lastIndexOf("#"))>0&&(e=e.substring(0,t)),(t=e.lastIndexOf("?"))>0&&(e=e.substring(0,t)),e);var e,t}function U(){var e=location.search,t=N(),n=t.code,r=t.state;return e=(e=e.indexOf("?code=")>-1?e.replace("code="+n,""):e.replace("&code="+n,"")).indexOf("?state=")>-1?e.replace("state="+r,""):e.replace("&state="+r,""),"".concat(A()).concat("?"==e?"":e).concat(location.hash)}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return/\.(jpg|png|jpeg)$/i.test(e)||(e.lastIndexOf("/")==e.length-1?e+=t:e=e+"/"+t),e}var P={getUriPar:N,getHashPar:T,getPath:A,getOriginHref:U,fixImageUrl:D},M=Object.freeze({__proto__:null,getUriPar:N,getHashPar:T,getPath:A,getOriginHref:U,fixImageUrl:D,default:P,addParams:function(e,t){return"object"==u(e)?"".concat(R(e),"&").concat(R(t)):"".concat(e,"&").concat(R(t))}}),L=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},B=Object.prototype.toString;function F(e){return"[object Array]"===B.call(e)}function z(e){return null!==e&&"object"==typeof e}function K(e){return"[object Function]"===B.call(e)}function Y(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),F(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var $={isArray:F,isArrayBuffer:function(e){return"[object ArrayBuffer]"===B.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:z,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===B.call(e)},isFile:function(e){return"[object File]"===B.call(e)},isBlob:function(e){return"[object Blob]"===B.call(e)},isFunction:K,isStream:function(e){return z(e)&&K(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Y,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)Y(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)Y(arguments[r],n);return t},extend:function(e,t,n){return Y(t,(function(t,r){e[r]=n&&"function"==typeof t?L(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function H(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var J=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if($.isURLSearchParams(t))r=t.toString();else{var o=[];$.forEach(t,(function(e,t){null!=e&&($.isArray(e)?t+="[]":e=[e],$.forEach(e,(function(e){$.isDate(e)?e=e.toISOString():$.isObject(e)&&(e=JSON.stringify(e)),o.push(H(t)+"="+H(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function Q(){this.handlers=[]}Q.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},Q.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Q.prototype.forEach=function(e){$.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var X=Q,G=function(e,t,n){return $.forEach(n,(function(n){e=n(e,t)})),e},V=function(e){return!(!e||!e.__CANCEL__)},W=function(e,t){$.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Z=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},ee=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],te=$.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=$.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},ne=$.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),$.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),$.isString(r)&&a.push("path="+r),$.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},re=function(e){return new Promise((function(t,n){var r=e.data,o=e.headers;$.isFormData(r)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+s)}if(i.open(e.method.toUpperCase(),J(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r,o,a,s,c,u="getAllResponseHeaders"in i?(r=i.getAllResponseHeaders(),c={},r?($.forEach(r.split("\n"),(function(e){if(s=e.indexOf(":"),o=$.trim(e.substr(0,s)).toLowerCase(),a=$.trim(e.substr(s+1)),o){if(c[o]&&ee.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([a]):c[o]?c[o]+", "+a:a}})),c):c):null,f={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:i.status,statusText:i.statusText,headers:u,config:e,request:i};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(Z("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,f),i=null}},i.onabort=function(){i&&(n(Z("Request aborted",e,"ECONNABORTED",i)),i=null)},i.onerror=function(){n(Z("Network Error",e,null,i)),i=null},i.ontimeout=function(){n(Z("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},$.isStandardBrowserEnv()){var c=ne,u=(e.withCredentials||te(e.url))&&e.xsrfCookieName?c.read(e.xsrfCookieName):void 0;u&&(o[e.xsrfHeaderName]=u)}if("setRequestHeader"in i&&$.forEach(o,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)})),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){i&&(i.abort(),n(e),i=null)})),void 0===r&&(r=null),i.send(r)}))},oe={"Content-Type":"application/x-www-form-urlencoded"};function ie(e,t){!$.isUndefined(e)&&$.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ae,se={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?ae=re:"undefined"!=typeof XMLHttpRequest&&(ae=re),ae),transformRequest:[function(e,t){return W(t,"Accept"),W(t,"Content-Type"),$.isFormData(e)||$.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)?e:$.isArrayBufferView(e)?e.buffer:$.isURLSearchParams(e)?(ie(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):$.isObject(e)?(ie(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};se.headers={common:{Accept:"application/json, text/plain, */*"}},$.forEach(["delete","get","head"],(function(e){se.headers[e]={}})),$.forEach(["post","put","patch"],(function(e){se.headers[e]=$.merge(oe)}));var ce=se;function ue(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var fe=function(e){var t,n,r;return ue(e),e.baseURL&&(r=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(r))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=G(e.data,e.headers,e.transformRequest),e.headers=$.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),$.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ce.adapter)(e).then((function(t){return ue(e),t.data=G(t.data,t.headers,e.transformResponse),t}),(function(t){return V(t)||(ue(e),t&&t.response&&(t.response.data=G(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},le=function(e,t){t=t||{};var n={};return $.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),$.forEach(["headers","auth","proxy"],(function(r){$.isObject(t[r])?n[r]=$.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:$.isObject(e[r])?n[r]=$.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),$.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function pe(e){this.defaults=e,this.interceptors={request:new X,response:new X}}pe.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=le(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[fe,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},pe.prototype.getUri=function(e){return e=le(this.defaults,e),J(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},$.forEach(["delete","get","head","options"],(function(e){pe.prototype[e]=function(t,n){return this.request($.merge(n||{},{method:e,url:t}))}})),$.forEach(["post","put","patch"],(function(e){pe.prototype[e]=function(t,n,r){return this.request($.merge(r||{},{method:e,url:t,data:n}))}}));var de=pe;function he(e){this.message=e}he.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},he.prototype.__CANCEL__=!0;var ge=he;function me(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ge(e),t(n.reason))}))}me.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},me.source=function(){var e;return{token:new me((function(t){e=t})),cancel:e}};var ve=me;function ye(e){var t=new de(e),n=L(de.prototype.request,t);return $.extend(n,de.prototype,t),$.extend(n,t),n}var be=ye(ce);be.Axios=de,be.create=function(e){return ye(le(be.defaults,e))},be.Cancel=ge,be.CancelToken=ve,be.isCancel=V,be.all=function(e){return Promise.all(e)},be.spread=function(e){return function(t){return e.apply(null,t)}};var we=be,Se=be;we.default=Se;var xe=we,Oe={url:"#",type:"get",data:"",jsonpcallback:"",timeout:8e3,cancel:void 0},_e={timeout:{errMsg:"timeout"},jsonperror:{errMsg:"request error"},requesterror:function(e){return{errMsg:"request error",errDetail:e}},cancel:function(e){return{errMsg:"cancel",errDetail:{message:e}}},httpError:function(e){return{errMsg:"http status error",statusCode:e}}};function Ce(e){return new Promise((function(t,n){var r=e.jsonpcallback||"gyjsonpcb".concat(Date.now()),o=document.createElement("script");o.id=r,o.src=e.url;var i=setTimeout((function(){n(_e.timeout),window[r]=function(){},o.remove()}),e.timeout);window[r]=function(e){t(e),clearTimeout(i),o.remove()},o.onerror=function(){n(_e.jsonperror)},document.body.appendChild(o)}))}function ke(e){if("jsonp"==(e=Object.assign(Oe,e)).type)return Ce(e);var t={};if("function"==typeof e.cancel){var n=xe.CancelToken;t={cancelToken:new n((function(t){"function"==typeof e.cancel&&e.cancel(t)}))}}return new Promise((function(n,r){xe(Object.assign({url:e.url,data:e.data,method:e.type},t)).then((function(e){200==e.status&&n(e.data)})).catch((function(e){"string"==typeof e.message?r(_e.cancel(e.message)):e.response?r(_e.httpError(e.response.status)):e.request?r(_e.requesterror(e.request)):r(_e.jsonperror)}))}))}var je=I(ke);function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,r){var o=new Image;o.onload=function(){n(o)},o.onerror=function(){r()},t&&(o.crossOrigin="Anonymous"),o.src=e}))}var Ie={browser:c,number:y,string:k,time:E,createRequestQueueClass:I,uri:M,request:Object.freeze({__proto__:null,jsonp:Ce,load:ke,Queue:je}),storage:function(){function e(){f(this,e)}return p(e,null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="object"==u(t)?JSON.stringify(t):String(t);n?sessionStorage.setItem(e,r):localStorage.setItem(e,r)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?sessionStorage.getItem(e):localStorage.getItem(e)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?sessionStorage.removeItem(e):localStorage.removeItem(e)}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?sessionStorage.clear():localStorage.clear()}}]),e}(),cookie:function(){function e(){f(this,e)}return p(e,null,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="".concat(e,"=").concat(encodeURIComponent(t));if("number"==typeof n.expires){var o=new Date;o.setTime(o.getTime()+864e5*n.expires),n.expires=o}return document.cookie=[r,n.expires?"; expires=".concat(n.expires):"",n.path?"; path=".concat(n.path):"",n.domain?"; domain=".concat(n.domain):"",n.secure?"; secure=".concat(n.secure):""].join(""),document.cookie}},{key:"get",value:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;++n){var r=t[n].split("=");if(r[0]==e)return r[1]}return""}},{key:"keys",value:function(){return document.cookie.split("; ").map((function(e){return e.replace(/=(\S+)/g,"")}))}},{key:"list",value:function(){var e={},t=document.cookie.split("; ");if(1==t.length&&!t[0])return e;for(var n=0;n<t.length;++n){var r=t[n].split("=");e[r[0]]=r[1]}return e}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.set(t,"",{expires:new Date(0).toUTCString(),domain:n.domain,path:n.path})}}]),e}(),image:Object.freeze({__proto__:null,load:Ee})},Re=new(function(e){function t(){var e;return f(this,t),(e=m(this,h(t).call(this))).userInfo={uid:"",nick:"",face:"",sessionid:"",token:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),t}((function e(){f(this,e),d(this,"userInfo",void 0),this.userInfo={uid:"",face:"",nick:"",sessionid:"",token:""}})));function qe(){return{event:"debug",name:""}}function Ne(){return{event:"error",name:""}}var Te=function(){function e(){f(this,e)}return p(e,null,[{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r)e.session[t]=n;else try{wx.setStorageSync(t,n)}catch(e){console.error(e)}}},{key:"get",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n)return e.session[t];try{return wx.getStorageSync(t)}catch(e){return console.error(e),""}}},{key:"remove",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n)delete e.session[t];else try{wx.removeStorageSync(t)}catch(e){console.error(e)}}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)e.session={};else try{wx.clearStorageSync()}catch(e){console.error(e)}}}]),e}();d(Te,"session",{});var Ae=function(){function e(){f(this,e)}return p(e,null,[{key:"set",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"==typeof r.expires){var o=new Date;o.setTime(o.getTime()+864e5*r.expires),r.expires=o}if(r.expires){var i=Te.get(e.COOKIE_SKEY),a=i.findIndex((function(e){return 0==e.indexOf("".concat(t,"="))}));if(new Date>=new Date(r.expires))a>-1&&(i.splice(a,1),Te.set(e.COOKIE_SKEY,i));else{var s=["".concat(t,"=").concat(encodeURIComponent(n)),r.expires?"; expires=".concat(r.expires):"",r.path?"; path=".concat(r.path):"",r.domain?"; domain=".concat(r.domain):"",r.secure?"; secure=".concat(r.secure):""].join("");a>-1?i[a]=s:i.push(s),Te.set(e.COOKIE_SKEY,i)}}else e.sessionCookie[t]=encodeURIComponent(n)}},{key:"get",value:function(t){return e.sessionCookie[t]||e.cookie[t]}},{key:"update",value:function(t){for(var n=t.replace(/,(\w+)/g,", $1").split(", ").map((function(e){return e.split("; ")})),r=Te.get(e.COOKIE_SKEY),o=function(t){var o=n[t][0].split("="),i=n[t].findIndex((function(e){return 0==e.indexOf("expires=")}));if(i>-1){var a=r.findIndex((function(e){return 0==e.indexOf(o[0])})),s=n[t].join("; ");new Date>=new Date(n[t][i].replace("expires=",""))?r.splice(t,1):a>-1?r[a]=s:r.push(s)}else e.sessionCookie[o[0]]=encodeURIComponent(o[1])},i=0;i<n.length;++i)o(i);Te.set(e.COOKIE_SKEY,r)}},{key:"keys",value:function(){return Object.keys(e.cookie)}},{key:"list",value:function(){return e.cookie}},{key:"remove",value:function(t){e.set(t,"",{expires:new Date(0).toUTCString()})}},{key:"toString",value:function(){var t=e.cookie;return Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("; ")}},{key:"cookie",get:function(){for(var t=Te.get(e.COOKIE_SKEY)||[],n={},r=0;r<t.length;++r){var o=t[r].match(/^\S+=[^;]*/);o&&(n[(o=o.split("="))[0]]=o[1])}return Object.assign(n,e.sessionCookie)}}]),e}();d(Ae,"COOKIE_SKEY","LibCookieX-3.6.3"),d(Ae,"sessionCookie",{});var Ue={dataType:"text",responseType:"text"};I((function(e){return new Promise((function(t,n){var r=Ae.toString(),o=wx.request(Object.assign("jsonp"==e.type?Ue:{},r?{header:{Cookie:r}}:{},{url:e.url,type:"jsonp"==e.type?"GET":e.type,data:e.data,success:function(r){var o;Ae.update(r.header["Set-Cookie"]),200==r.statusCode?"jsonp"==e.type?t((o=r.data,JSON.parse(o.replace(/^\S+\(/,"").replace(/\)$/,"")))):t(r.data):n(_e.httpError(r.statusCode))},fail:function(e){e.statusCode?n(_e.httpError(e.statusCode)):n({errMsg:e.errMsg})}}));e.cancel&&"function"==typeof e.cancel&&e.cancel(o.abort)}))}));var De=new(I((function(e){return new Promise((function(t){Ee(e.url).then(t)}))})))(1);function Pe(e){var t,n,r,o={adtag:e.adtag,appid:e.appid,et:e.et,event:e.event,evt_value:e.name,openid:e.openid,page:e.page,pid:e.pid,relays:0,version:""},i=Math.floor(Date.now()/1e3),a=(t=o,n=i,r=[],Object.keys(t).sort((function(e,t){return e>t?1:-1})).forEach((function(e){r.push(t[e])})),r.push(n),C(r.join(""),3308)),s="".concat("https://monitor.gongyi.qq.com/cgi-bin/gywhd_PvMonitor","?").concat(R(Object.assign({hk:a,_ct:i,ext_data:e.value,query_par:e.query},o)));De.add({url:s})}var Me=new(function(){function e(t){f(this,e),d(this,"appid",void 0),d(this,"user",void 0),d(this,"parser",void 0),this.appid="",this.user=null,this.parser=t}return p(e,[{key:"init",value:function(e){this.appid=e.appid,this.user=e.user}},{key:"info",value:function(e){this.parserImpl(e)}},{key:"debug",value:function(e){this.parserImpl(Object.assign(qe,e))}},{key:"error",value:function(e){this.parserImpl(Object.assign(Ne,e))}},{key:"pv",value:function(){Pe(Object.assign({appid:this.appid,openid:this.user?this.user.userInfo.uid:""},this.parser({event:"pv"})))}},{key:"parserImpl",value:function(e){Pe(Object.assign({appid:this.appid,openid:this.user?this.user.userInfo.uid:""},this.parser(e)))}},{key:"payError",value:function(e){var t={event:"log",value:"".concat(e.cgi,"$").concat(JSON.stringify(e.data),"~").concat(JSON.stringify(e.return))};"3011"==e.return.code?t.name="pay_cc_err":"110063"==e.return.code?t.name="pay_max_err":"6"==e.return.code?t.name="pay_err_6":"8"==e.return.code?t.name="pay_err_8":"999"==e.return.code?t.name="pay_err_999":"-1"==e.return.code?t.name="pay_err_other":"3016"==e.return.code?t.name="pay_req_err":t.name="pay_err",this.parserImpl(t)}},{key:"interfaceError",value:function(e){var t,n,r="busi_error";try{r=(n=e).cgi.indexOf("WXCardSign")>-1?"sg_err":n.cgi.indexOf("WXGyLogin")>-1||n.cgi.indexOf("gywp_WXGetOIDInfo_eth1")>-1?"lg_login":n.return.code&&(0!=n.return.code||1!=n.return.code)||n.return.ret&&(0!=n.return.ret||1!=n.return.ret)?"req_busi_err":n.httpInfo&&200!=n.httpInfo.code?n.return.msg&&"timeout"==n.return.msg?"req_fail":"req_http_err":"req_fail"}catch(e){console.log("reporter parse error:",e)}t="".concat(encodeURIComponent(e.cgi),"$").concat(JSON.stringify(e.data||""),"~").concat(JSON.stringify(e.return));var o={event:"log",name:"busi_error"};o.name=r,o.value=t,this.parserImpl(o)}},{key:"jsError",value:function(e){var t={event:"js_error",name:"js_error"};t.value=e,this.parserImpl(t)}},{key:"loginError",value:function(e){var t={event:"log"};"110033"==e.return.code||"110063"==e.return.code?t.name="lg_op_limit":"get uin from cookie is error"==e.return.msg?t.name="lg_e_cookie":t.name="lg_ck_login",t.value="".concat(encodeURIComponent(e.cgi),"~").concat(encodeURIComponent(JSON.stringify(e.return))),this.parserImpl(t)}},{key:"loginInterfaceError",value:function(e){var t={event:"log"};e.error.errMsg.indexOf("request:fail")>-1?t.name="lg_ck_login":t.name="lg_login",t.value="".concat(encodeURIComponent(e.url.split("?")[0]),"$").concat(JSON.stringify(e.data)||"","~").concat(JSON.stringify(e.error)),this.parserImpl(t)}}]),e}())((function(e){var t=N(),n=e.page||location.pathname,r=e.pid||t.pid||t.id||"",o=e.et||t.et;return{adtag:t.adtag||t.ADTAG,page:n,query:encodeURIComponent(location.search.replace("?","")+location.hash),version:e.version||"",event:e.event||"no-set",name:e.name||"",value:e.value||"",pid:r,et:o,type:""}}));Me.init({appid:"wxc0db45f411664b2e",user:Re});try{setTimeout((function(){Me.pv()}),300)}catch(e){}e.Reporter=Me,e.Util=Ie,Object.defineProperty(e,"__esModule",{value:!0})}));
