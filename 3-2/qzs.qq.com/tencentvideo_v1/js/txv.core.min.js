/*! TenVideo - v1.0.0 - 2016-10-08 16:27:08
 * Copyright (c) 2016
 * Powered by Tencent-Video Web Front End Team 
*/
function _flash_view_history(a,b,c){if(3==arguments.length){if(txv.trace("_flash_view_history:"+a+","+b+","+c),-1!=a&&c<txv.history.timeLongLimit)return void txv.trace("小于一定时长的视频只记录开始播放点,当前限制为:"+txv.history.timeLongLimit);-2==a&&(txv.trace("播放结束了"),b=-2),txv.history.add(a,b,c)}}!function(a,b){function c(a){var b=a.length,c=ia.type(a);return ia.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=xa[a]={};return ia.each(a.match(ka)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(ia.acceptData(a)){var f,g,h=ia.expando,i="string"==typeof c,j=a.nodeType,k=j?ia.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=_.pop()||ia.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=ia.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=ia.extend(k[l],c):k[l].data=ia.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[ia.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[ia.camelCase(c)])):g=f,g}}function f(a,b,c){if(ia.acceptData(a)){var d,e,f,g=a.nodeType,i=g?ia.cache:a,j=g?a[ia.expando]:ia.expando;if(i[j]){if(b&&(f=c?i[j]:i[j].data)){ia.isArray(b)?b=b.concat(ia.map(b,ia.camelCase)):b in f?b=[b]:(b=ia.camelCase(b),b=b in f?[b]:b.split(" "));for(d=0,e=b.length;e>d;d++)delete f[b[d]];if(!(c?h:ia.isEmptyObject)(f))return}(c||(delete i[j].data,h(i[j])))&&(g?ia.cleanData([a],!0):ia.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(za,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ya.test(d)?ia.parseJSON(d):d}catch(f){}ia.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!ia.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function l(a,b,c){if(b=b||0,ia.isFunction(b))return ia.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return ia.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=ia.grep(a,function(a){return 1===a.nodeType});if(Ra.test(b))return ia.filter(b,d,!c);b=ia.filter(b,d)}return ia.grep(a,function(a){return ia.inArray(a,b)>=0===c})}function m(a){var b=Ua.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function n(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function o(a){var b=a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function p(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function q(a,b){for(var c,d=0;null!=(c=a[d]);d++)ia._data(c,"globalEval",!b||ia._data(b[d],"globalEval"))}function r(a,b){if(1===b.nodeType&&ia.hasData(a)){var c,d,e,f=ia._data(a),g=ia._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ia.event.add(b,c,h[c][d])}g.data&&(g.data=ia.extend({},g.data))}}function s(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ia.support.noCloneEvent&&b[ia.expando]){e=ia._data(b);for(d in e.events)ia.removeEvent(b,d,e.handle);b.removeAttribute(ia.expando)}"script"===c&&b.text!==a.text?(o(b).text=a.text,p(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ia.support.html5Clone&&a.innerHTML&&!ia.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function t(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==V?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==V?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||ia.nodeName(e,c)?g.push(e):ia.merge(g,t(e,c));return c===b||c&&ia.nodeName(a,c)?ia.merge([a],g):g}function u(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function v(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yb.length;e--;)if(b=yb[e]+c,b in a)return b;return d}function w(a,b){return a=b||a,"none"===ia.css(a,"display")||!ia.contains(a.ownerDocument,a)}function x(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ia._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&w(d)&&(f[g]=ia._data(d,"olddisplay",B(d.nodeName)))):f[g]||(e=w(d),(c&&"none"!==c||!e)&&ia._data(d,"olddisplay",e?c:ia.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function y(a,b,c){var d=rb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ia.css(a,c+xb[f],!0,e)),d?("content"===c&&(g-=ia.css(a,"padding"+xb[f],!0,e)),"margin"!==c&&(g-=ia.css(a,"border"+xb[f]+"Width",!0,e))):(g+=ia.css(a,"padding"+xb[f],!0,e),"padding"!==c&&(g+=ia.css(a,"border"+xb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kb(a),g=ia.support.boxSizing&&"border-box"===ia.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lb(a,b,f),(0>e||null==e)&&(e=a.style[b]),sb.test(e))return e;d=g&&(ia.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a){var b=W,c=ub[a];return c||(c=C(a,b),"none"!==c&&c||(jb=(jb||ia("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=C(a,b),jb.detach()),ub[a]=c),c}function C(a,b){var c=ia(b.createElement(a)).appendTo(b.body),d=ia.css(c[0],"display");return c.remove(),d}function D(a,b,c,d){var e;if(ia.isArray(b))ia.each(b,function(b,e){c||Ab.test(a)?d(a,e):D(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ia.type(b))d(a,b);else for(e in b)D(a+"["+e+"]",b[e],c,d)}function E(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ka)||[];if(ia.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function F(a,c,d,e){function f(i){var j;return g[i]=!0,ia.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Rb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function G(a,c){var d,e,f=ia.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&ia.extend(!0,a,d),a}function H(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(h in k)h in d&&(c[k[h]]=d[h]);for(;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function I(a,b){var c,d,e,f,g={},h=0,i=a.dataTypes.slice(),j=i[0];if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i[1])for(e in a.converters)g[e.toLowerCase()]=a.converters[e];for(;d=i[++h];)if("*"!==d){if("*"!==j&&j!==d){if(e=g[j+" "+d]||g["* "+d],!e)for(c in g)if(f=c.split(" "),f[1]===d&&(e=g[j+" "+f[0]]||g["* "+f[0]])){e===!0?e=g[c]:g[c]!==!0&&(d=f[0],i.splice(h--,0,d));break}if(e!==!0)if(e&&a["throws"])b=e(b);else try{b=e(b)}catch(k){return{state:"parsererror",error:e?k:"No conversion from "+j+" to "+d}}}j=d}return{state:"success",data:b}}function J(){try{return new a.XMLHttpRequest}catch(b){}}function K(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function L(){return setTimeout(function(){$b=b}),$b=ia.now()}function M(a,b){ia.each(b,function(b,c){for(var d=(ec[b]||[]).concat(ec["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function N(a,b,c){var d,e,f=0,g=dc.length,h=ia.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||L(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ia.extend({},b),opts:ia.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||L(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ia.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(O(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return M(j,k),ia.isFunction(j.opts.start)&&j.opts.start.call(a,j),ia.fx.timer(ia.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a,b){var c,d,e,f,g;for(e in a)if(d=ia.camelCase(e),f=b[d],c=a[e],ia.isArray(c)&&(f=c[1],c=a[e]=c[0]),e!==d&&(a[d]=c,delete a[e]),g=ia.cssHooks[d],g&&"expand"in g){c=g.expand(c),delete a[d];for(e in c)e in a||(a[e]=c[e],b[e]=f)}else b[d]=f}function P(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&w(a);c.queue||(k=ia._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,ia.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===ia.css(a,"display")&&"none"===ia.css(a,"float")&&(ia.support.inlineBlockNeedsLayout&&"inline"!==B(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ia.support.shrinkWrapBlocks||m.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(e in b)if(g=b[e],ac.exec(g)){if(delete b[e],i=i||"toggle"===g,g===(q?"hide":"show"))continue;p.push(e)}if(f=p.length){h=ia._data(a,"fxshow")||ia._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?ia(a).show():m.done(function(){ia(a).hide()}),m.done(function(){var b;ia._removeData(a,"fxshow");for(b in o)ia.style(a,b,o[b])});for(e=0;f>e;e++)d=p[e],j=m.createTween(d,q?h[d]:0),o[d]=h[d]||ia.style(a,d),d in h||(h[d]=j.start,q&&(j.end=j.start,j.start="width"===d||"height"===d?1:0))}}function Q(a,b,c,d,e){return new Q.prototype.init(a,b,c,d,e)}function R(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function S(a){return ia.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var T,U,V=typeof b,W=a.document,X=a.location,Y=a.jQuery,Z=a.$,$={},_=[],aa="1.9.1",ba=_.concat,ca=_.push,da=_.slice,ea=_.indexOf,fa=$.toString,ga=$.hasOwnProperty,ha=aa.trim,ia=function(a,b){return new ia.fn.init(a,b,U)},ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ka=/\S+/g,la=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ma=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,na=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oa=/^[\],:{}\s]*$/,pa=/(?:^|:|,)(?:\s*\[)+/g,qa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ra=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,sa=/^-ms-/,ta=/-([\da-z])/gi,ua=function(a,b){return b.toUpperCase()},va=function(a){(W.addEventListener||"load"===a.type||"complete"===W.readyState)&&(wa(),ia.ready())},wa=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",va,!1),a.removeEventListener("load",va,!1)):(W.detachEvent("onreadystatechange",va),a.detachEvent("onload",va))};ia.fn=ia.prototype={jquery:aa,constructor:ia,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ma.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof ia?c[0]:c,ia.merge(this,ia.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:W,!0)),na.test(e[1])&&ia.isPlainObject(c))for(e in c)ia.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=W.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=W,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ia.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),ia.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return da.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=ia.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ia.each(this,a,b)},ready:function(a){return ia.ready.promise().done(a),this},slice:function(){return this.pushStack(da.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(ia.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ca,sort:[].sort,splice:[].splice},ia.fn.init.prototype=ia.fn,ia.extend=ia.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||ia.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(ia.isPlainObject(d)||(c=ia.isArray(d)))?(c?(c=!1,g=a&&ia.isArray(a)?a:[]):g=a&&ia.isPlainObject(a)?a:{},h[e]=ia.extend(k,g,d)):d!==b&&(h[e]=d));return h},ia.extend({noConflict:function(b){return a.$===ia&&(a.$=Z),b&&a.jQuery===ia&&(a.jQuery=Y),ia},isReady:!1,readyWait:1,holdReady:function(a){a?ia.readyWait++:ia.ready(!0)},ready:function(a){if(a===!0?!--ia.readyWait:!ia.isReady){if(!W.body)return setTimeout(ia.ready);ia.isReady=!0,a!==!0&&--ia.readyWait>0||(T.resolveWith(W,[ia]),ia.fn.trigger&&ia(W).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===ia.type(a)},isArray:Array.isArray||function(a){return"array"===ia.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?$[fa.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==ia.type(a)||a.nodeType||ia.isWindow(a))return!1;try{if(a.constructor&&!ga.call(a,"constructor")&&!ga.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||ga.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||W;var d=na.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ia.buildFragment([a],b,e),e&&ia(e).remove(),ia.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=ia.trim(c),c&&oa.test(c.replace(qa,"@").replace(ra,"]").replace(pa,"")))?Function("return "+c)():(ia.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||ia.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ia.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(sa,"ms-").replace(ta,ua)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ha&&!ha.call("\ufeff ")?function(a){return null==a?"":ha.call(a)}:function(a){return null==a?"":(a+"").replace(la,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ia.merge(d,"string"==typeof a?[a]:a):ca.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ea)return ea.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return ba.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),ia.isFunction(a)?(d=da.call(arguments,2),e=function(){return a.apply(c||this,d.concat(da.call(arguments)))},e.guid=a.guid=a.guid||ia.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===ia.type(d)){f=!0;for(i in d)ia.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,ia.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(ia(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()}}),ia.ready.promise=function(b){if(!T)if(T=ia.Deferred(),"complete"===W.readyState)setTimeout(ia.ready);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",va,!1),a.addEventListener("load",va,!1);else{W.attachEvent("onreadystatechange",va),a.attachEvent("onload",va);var c=!1;try{c=null==a.frameElement&&W.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!ia.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}wa(),ia.ready()}}()}return T.promise(b)},ia.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){$["[object "+b+"]"]=b.toLowerCase()}),U=ia(W);var xa={};ia.Callbacks=function(a){a="string"==typeof a?xa[a]||d(a):ia.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){ia.each(b,function(b,c){var e=ia.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&ia.each(arguments,function(a,b){for(var d;(d=ia.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?ia.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||f&&!k||(c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},ia.extend({Deferred:function(a){var b=[["resolve","done",ia.Callbacks("once memory"),"resolved"],["reject","fail",ia.Callbacks("once memory"),"rejected"],["notify","progress",ia.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ia.Deferred(function(c){ia.each(b,function(b,f){var g=f[0],h=ia.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&ia.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ia.extend(a,d):d}},e={};return d.pipe=d.then,ia.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=da.call(arguments),g=f.length,h=1!==g||a&&ia.isFunction(a.promise)?g:0,i=1===h?a:ia.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?da.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&ia.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),ia.support=function(){var b,c,d,e,f,g,h,i,j,k,l=W.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*"),d=l.getElementsByTagName("a")[0],!c||!d||!c.length)return{};f=W.createElement("select"),h=f.appendChild(W.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={getSetAttribute:"t"!==l.className,leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:!!e.value,optSelected:h.selected,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=W.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=W.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;return l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip,ia(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=W.getElementsByTagName("body")[0];g&&(c=W.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===l.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==g.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(W.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==V&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}();var ya=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,za=/([A-Z])/g;ia.extend({cache:{},expando:"jQuery"+(aa+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?ia.cache[a[ia.expando]]:a[ia.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&ia.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),ia.fn.extend({data:function(a,c){var d,e,f=this[0],h=0,i=null;if(a===b){if(this.length&&(i=ia.data(f),1===f.nodeType&&!ia._data(f,"parsedAttrs"))){for(d=f.attributes;d.length>h;h++)e=d[h].name,e.indexOf("data-")||(e=ia.camelCase(e.slice(5)),g(f,e,i[e]));ia._data(f,"parsedAttrs",!0)}return i}return"object"==typeof a?this.each(function(){ia.data(this,a)}):ia.access(this,function(c){return c===b?f?g(f,a,ia.data(f,a)):null:(this.each(function(){ia.data(this,a,c)}),b)},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ia.removeData(this,a)})}}),ia.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=ia._data(a,c),d&&(!e||ia.isArray(d)?e=ia._data(a,c,ia.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=ia.queue(a,b),d=c.length,e=c.shift(),f=ia._queueHooks(a,b),g=function(){ia.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),f.cur=e,e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ia._data(a,c)||ia._data(a,c,{empty:ia.Callbacks("once memory").add(function(){ia._removeData(a,b+"queue"),ia._removeData(a,c)})})}}),ia.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?ia.queue(this[0],a):c===b?this:this.each(function(){var b=ia.queue(this,a,c);ia._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&ia.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ia.dequeue(this,a)})},delay:function(a,b){return a=ia.fx?ia.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=ia.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=ia._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Aa,Ba,Ca=/[\t\r\n]/g,Da=/\r/g,Ea=/^(?:input|select|textarea|button|object)$/i,Fa=/^(?:a|area)$/i,Ga=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ha=/^(?:checked|selected)$/i,Ia=ia.support.getSetAttribute,Ja=ia.support.input;ia.fn.extend({attr:function(a,b){return ia.access(this,ia.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ia.removeAttr(this,a)})},prop:function(a,b){return ia.access(this,ia.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ia.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(ia.isFunction(a))return this.each(function(b){ia(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ka)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ca," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=ia.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(ia.isFunction(a))return this.each(function(b){ia(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ka)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ca," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?ia.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return ia.isFunction(a)?this.each(function(c){ia(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=ia(this),h=b,i=a.match(ka)||[];e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else(c===V||"boolean"===c)&&(this.className&&ia._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ia._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ca," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=ia.isFunction(a),this.each(function(c){var f,g=ia(this);1===this.nodeType&&(f=e?a.call(this,c,g.val()):a,null==f?f="":"number"==typeof f?f+="":ia.isArray(f)&&(f=ia.map(f,function(a){return null==a?"":a+""})),d=ia.valHooks[this.type]||ia.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))})):f?(d=ia.valHooks[f.type]||ia.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Da,""):null==c?"":c)):void 0}}),ia.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(ia.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ia.nodeName(c.parentNode,"optgroup"))){if(b=ia(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=ia.makeArray(b);return ia(a).find("option").each(function(){this.selected=ia.inArray(ia(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?typeof a.getAttribute===V?ia.prop(a,c,d):(f=1!==h||!ia.isXMLDoc(a),f&&(c=c.toLowerCase(),e=ia.attrHooks[c]||(Ga.test(c)?Ba:Aa)),d===b?e&&f&&"get"in e&&null!==(g=e.get(a,c))?g:(typeof a.getAttribute!==V&&(g=a.getAttribute(c)),null==g?b:g):null!==d?e&&f&&"set"in e&&(g=e.set(a,d,c))!==b?g:(a.setAttribute(c,d+""),d):(ia.removeAttr(a,c),b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ka);if(f&&1===a.nodeType)for(;c=f[e++];)d=ia.propFix[c]||c,Ga.test(c)?!Ia&&Ha.test(c)?a[ia.camelCase("default-"+c)]=a[d]=!1:a[d]=!1:ia.attr(a,c,""),a.removeAttribute(Ia?c:d)},attrHooks:{type:{set:function(a,b){if(!ia.support.radioValue&&"radio"===b&&ia.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!ia.isXMLDoc(a),g&&(c=ia.propFix[c]||c,f=ia.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):Ea.test(a.nodeName)||Fa.test(a.nodeName)&&a.href?0:b;
}}}}),Ba={get:function(a,c){var d=ia.prop(a,c),e="boolean"==typeof d&&a.getAttribute(c),f="boolean"==typeof d?Ja&&Ia?null!=e:Ha.test(c)?a[ia.camelCase("default-"+c)]:!!e:a.getAttributeNode(c);return f&&f.value!==!1?c.toLowerCase():b},set:function(a,b,c){return b===!1?ia.removeAttr(a,c):Ja&&Ia||!Ha.test(c)?a.setAttribute(!Ia&&ia.propFix[c]||c,c):a[ia.camelCase("default-"+c)]=a[c]=!0,c}},Ja&&Ia||(ia.attrHooks.value={get:function(a,c){var d=a.getAttributeNode(c);return ia.nodeName(a,"input")?a.defaultValue:d&&d.specified?d.value:b},set:function(a,c,d){return ia.nodeName(a,"input")?(a.defaultValue=c,b):Aa&&Aa.set(a,c,d)}}),Ia||(Aa=ia.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&("id"===c||"name"===c||"coords"===c?""!==d.value:d.specified)?d.value:b},set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},ia.attrHooks.contenteditable={get:Aa.get,set:function(a,b,c){Aa.set(a,""===b?!1:b,c)}},ia.each(["width","height"],function(a,c){ia.attrHooks[c]=ia.extend(ia.attrHooks[c],{set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}})})),ia.support.hrefNormalized||(ia.each(["href","src","width","height"],function(a,c){ia.attrHooks[c]=ia.extend(ia.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null==d?b:d}})}),ia.each(["href","src"],function(a,b){ia.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})),ia.support.style||(ia.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),ia.support.optSelected||(ia.propHooks.selected=ia.extend(ia.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),ia.support.enctype||(ia.propFix.enctype="encoding"),ia.support.checkOn||ia.each(["radio","checkbox"],function(){ia.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),ia.each(["radio","checkbox"],function(){ia.valHooks[this]=ia.extend(ia.valHooks[this],{set:function(a,c){return ia.isArray(c)?a.checked=ia.inArray(ia(a).val(),c)>=0:b}})});var Ka=/^(?:input|select|textarea)$/i,La=/^key/,Ma=/^(?:mouse|contextmenu)|click/,Na=/^(?:focusinfocus|focusoutblur)$/,Oa=/^([^.]*)(?:\.(.+)|)$/;ia.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=ia._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=ia.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof ia===V||a&&ia.event.triggered===a.type?b:ia.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(ka)||[""],i=c.length;i--;)g=Oa.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),k=ia.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=ia.event.special[o]||{},m=ia.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&ia.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),ia.event.global[o]=!0;a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ia.hasData(a)&&ia._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ka)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ia.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ia.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ia.event.remove(a,n+b[j],c,d,!0);ia.isEmptyObject(k)&&(delete q.handle,ia._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||W],o=ga.call(c,"type")?c.type:c,p=ga.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||W,3!==e.nodeType&&8!==e.nodeType&&!Na.test(o+ia.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,c=c[ia.expando]?c:new ia.Event(o,"object"==typeof c&&c),c.isTrigger=!0,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:ia.makeArray(d,[c]),k=ia.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!ia.isWindow(e)){for(j=k.delegateType||o,Na.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||W)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(ia._data(i,"events")||{})[c.type]&&ia._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&ia.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!(f||c.isDefaultPrevented()||k._default&&k._default.apply(e.ownerDocument,d)!==!1||"click"===o&&ia.nodeName(e,"a")||!ia.acceptData(e)||!h||!e[o]||ia.isWindow(e))){l=e[h],l&&(e[h]=null),ia.event.triggered=o;try{e[o]()}catch(q){}ia.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=ia.event.fix(a);var c,d,e,f,g,h=[],i=da.call(arguments),j=(ia._data(this,"events")||{})[a.type]||[],k=ia.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=ia.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((ia.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?ia(d,this).index(j)>=0:ia.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[ia.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ma.test(e)?this.mouseHooks:La.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ia.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||W),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||W,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return ia.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==W.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===W.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ia.extend(new ia.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ia.event.trigger(e,null,b):ia.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ia.removeEvent=W.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===V&&(a[d]=null),a.detachEvent(d,c))},ia.Event=function(a,c){return this instanceof ia.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,c&&ia.extend(this,c),this.timeStamp=a&&a.timeStamp||ia.now(),this[ia.expando]=!0,b):new ia.Event(a,c)},ia.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},ia.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ia.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ia.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ia.support.submitBubbles||(ia.event.special.submit={setup:function(){return ia.nodeName(this,"form")?!1:(ia.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=ia.nodeName(c,"input")||ia.nodeName(c,"button")?c.form:b;d&&!ia._data(d,"submitBubbles")&&(ia.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),ia._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&ia.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return ia.nodeName(this,"form")?!1:(ia.event.remove(this,"._submit"),b)}}),ia.support.changeBubbles||(ia.event.special.change={setup:function(){return Ka.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ia.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ia.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ia.event.simulate("change",this,a,!0)})),!1):(ia.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ka.test(b.nodeName)&&!ia._data(b,"changeBubbles")&&(ia.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ia.event.simulate("change",this.parentNode,a,!0)}),ia._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return ia.event.remove(this,"._change"),!Ka.test(this.nodeName)}}),ia.support.focusinBubbles||ia.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){ia.event.simulate(b,a.target,ia.event.fix(a),!0)};ia.event.special[b]={setup:function(){0===c++&&W.addEventListener(a,d,!0)},teardown:function(){0===--c&&W.removeEventListener(a,d,!0)}}}),ia.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return ia().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=ia.guid++)),this.each(function(){ia.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,ia(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){ia.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){ia.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?ia.event.trigger(a,c,d,!0):b}}),function(a,b){function c(a){return oa.test(a+"")}function d(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>y.cacheLength&&delete a[b.shift()],a[c]=d}}function e(a){return a[N]=!0,a}function f(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}}function g(a,b,c,d){var e,f,g,h,i,j,k,n,o,p;if((b?b.ownerDocument||b:O)!==F&&E(b),b=b||F,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(!H&&!d){if(e=pa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&L(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return Z.apply(c,$.call(b.getElementsByTagName(a),0)),c;if((g=e[3])&&P.getByClassName&&b.getElementsByClassName)return Z.apply(c,$.call(b.getElementsByClassName(g),0)),c}if(P.qsa&&!I.test(a)){if(k=!0,n=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=l(a),(k=b.getAttribute("id"))?n=k.replace(sa,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return Z.apply(c,$.call(o.querySelectorAll(p),0)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return u(a.replace(ga,"$1"),b,c,d)}function h(a,b){var c=b&&a,d=c&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a,b){var c,d,e,f,h,i,j,k=T[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!c||(d=ha.exec(h)))&&(d&&(h=h.slice(d[0].length)||h),i.push(e=[])),c=!1,(d=ja.exec(h))&&(c=d.shift(),e.push({value:c,type:d[0].replace(ga," ")}),h=h.slice(c.length));for(f in y.filter)!(d=ma[f].exec(h))||j[f]&&!(d=j[f](d))||(c=d.shift(),e.push({value:c,type:f,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?g.error(a):T(a,i).slice(0)}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=R++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=Q+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===x)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||x,i[1]===!0)return!0}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function q(a,b,c,d,f,g){return d&&!d[N]&&(d=q(d)),f&&!f[N]&&(f=q(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,q=e||t(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?q:p(q,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=p(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?_.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=p(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):Z.apply(g,s)})}function r(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return _.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[n(o(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return q(h>1&&o(k),h>1&&m(a.slice(0,h-1)).replace(ga,"$1"),c,d>h&&r(a.slice(h,d)),e>d&&r(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function s(a,b){var c=0,d=b.length>0,f=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],q=0,r="0",s=e&&[],t=null!=k,u=D,v=e||f&&y.find.TAG("*",k&&h.parentNode||h),w=Q+=null==u?1:Math.random()||.1;for(t&&(D=h!==F&&h,x=c);null!=(l=v[r]);r++){if(f&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(Q=w,x=++c)}d&&((l=!n&&l)&&q--,e&&s.push(l))}if(q+=r,d&&r!==q){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(q>0)for(;r--;)s[r]||o[r]||(o[r]=Y.call(j));o=p(o)}Z.apply(j,o),t&&!e&&o.length>0&&q+b.length>1&&g.uniqueSort(j)}return t&&(Q=w,D=u),s};return d?e(h):h}function t(a,b,c){for(var d=0,e=b.length;e>d;d++)g(a,b[d],c);return c}function u(a,b,c,d){var e,f,g,h,i,j=l(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&!H&&y.relative[f[1].type]){if(b=y.find.ID(g.matches[0].replace(ua,va),b)[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ma.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(ua,va),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return Z.apply(c,$.call(d,0)),c;break}}return B(a,j)(d,b,H,c,na.test(a)),c}function v(){}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P={},Q=0,R=0,S=d(),T=d(),U=d(),V=typeof b,W=1<<31,X=[],Y=X.pop,Z=X.push,$=X.slice,_=X.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca=ba.replace("w","w#"),da="([*^$|!~]?=)",ea="\\["+aa+"*("+ba+")"+aa+"*(?:"+da+aa+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ca+")|)|)"+aa+"*\\]",fa=":("+ba+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ea.replace(3,8)+")*)|.*)\\)|)",ga=RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ha=RegExp("^"+aa+"*,"+aa+"*"),ja=RegExp("^"+aa+"*([\\x20\\t\\r\\n\\f>+~])"+aa+"*"),ka=RegExp(fa),la=RegExp("^"+ca+"$"),ma={ID:RegExp("^#("+ba+")"),CLASS:RegExp("^\\.("+ba+")"),NAME:RegExp("^\\[name=['\"]?("+ba+")['\"]?\\]"),TAG:RegExp("^("+ba.replace("w","w*")+")"),ATTR:RegExp("^"+ea),PSEUDO:RegExp("^"+fa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),needsContext:RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},na=/[\x20\t\r\n\f]*[+~]/,oa=/^[^{]+\{\s*\[native code/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,sa=/'|\\/g,ta=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{$.call(O.documentElement.childNodes,0)[0].nodeType}catch(wa){$=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}A=g.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},E=g.setDocument=function(a){var d=a?a.ownerDocument||a:O;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=d.documentElement,H=A(d),P.tagNameNoComments=f(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),P.attributes=f(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),P.getByClassName=f(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),P.getByName=f(function(a){a.id=N+0,a.innerHTML="<a name='"+N+"'></a><div name='"+N+"'></div>",G.insertBefore(a,G.firstChild);var b=d.getElementsByName&&d.getElementsByName(N).length===2+d.getElementsByName(N+0).length;return P.getIdNotName=!d.getElementById(N),G.removeChild(a),b}),y.attrHandle=f(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==V&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},P.getIdNotName?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&!H){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(y.find.ID=function(a,c){if(typeof c.getElementById!==V&&!H){var d=c.getElementById(a);return d?d.id===a||typeof d.getAttributeNode!==V&&d.getAttributeNode("id").value===a?[d]:b:[]}},y.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=P.tagNameNoComments?function(a,c){return typeof c.getElementsByTagName!==V?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.NAME=P.getByName&&function(a,c){return typeof c.getElementsByName!==V?c.getElementsByName(name):b},y.find.CLASS=P.getByClassName&&function(a,c){return typeof c.getElementsByClassName===V||H?b:c.getElementsByClassName(a)},J=[],I=[":focus"],(P.qsa=c(d.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||I.push(":checked")}),f(function(a){a.innerHTML="<input type='hidden' i=''/>",a.querySelectorAll("[i^='']").length&&I.push("[*^$]="+aa+"*(?:\"\"|'')"),a.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(P.matchesSelector=c(K=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&f(function(a){P.disconnectedMatch=K.call(a,"div"),K.call(a,"[s!='']:x"),J.push("!=",fa)}),I=RegExp(I.join("|")),J=RegExp(J.join("|")),L=c(G.contains)||G.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},M=G.compareDocumentPosition?function(a,b){var c;return a===b?(C=!0,0):(c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))?1&c||a.parentNode&&11===a.parentNode.nodeType?a===d||L(O,a)?-1:b===d||L(O,b)?1:0:4&c?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return C=!0,0;if(!f||!g)return a===d?-1:b===d?1:f?-1:g?1:0;if(f===g)return h(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},C=!1,[0,0].sort(M),P.detectDuplicates=C,F):F},g.matches=function(a,b){return g(a,null,null,b)},g.matchesSelector=function(a,b){if((a.ownerDocument||a)!==F&&E(a),b=b.replace(ta,"='$1']"),!(!P.matchesSelector||H||J&&J.test(b)||I.test(b)))try{var c=K.call(a,b);if(c||P.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return g(b,F,null,[a]).length>0},g.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},g.attr=function(a,b){var c;return(a.ownerDocument||a)!==F&&E(a),H||(b=b.toLowerCase()),(c=y.attrHandle[b])?c(a):H||P.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&a[b]===!0?b:c&&c.specified?c.value:null},g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},g.uniqueSort=function(a){var b,c=[],d=1,e=0;if(C=!P.detectDuplicates,a.sort(M),C){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},z=g.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=z(b);return c},y=g.selectors={cacheLength:50,createPseudo:e,match:ma,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ma.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&ka.test(c)&&(b=l(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ua,va).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=S[a+" "];return b||(b=RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&S(a,function(a){return b.test(a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=g.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===Q&&j[1],m=j[0]===Q&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[Q,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===Q)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[Q,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var c,d=y.pseudos[a]||y.setFilters[a.toLowerCase()]||g.error("unsupported pseudo: "+a);return d[N]?d(b):d.length>1?(c=[a,a,"",b],y.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var e,f=d(a,b),g=f.length;g--;)e=_.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:e(function(a){var b=[],c=[],d=B(a.replace(ga,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return g(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:e(function(a){return la.test(a||"")||g.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=H?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=j(w);B=g.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=l(a)),c=b.length;c--;)f=r(b[c]),f[N]?d.push(f):e.push(f);f=U(a,s(e,d))}return f},y.pseudos.nth=y.pseudos.eq,y.filters=v.prototype=y.pseudos,y.setFilters=new v,E(),g.attr=ia.attr,ia.find=g,ia.expr=g.selectors,ia.expr[":"]=ia.expr.pseudos,ia.unique=g.uniqueSort,ia.text=g.getText,ia.isXMLDoc=g.isXML,ia.contains=g.contains}(a);var Pa=/Until$/,Qa=/^(?:parents|prev(?:Until|All))/,Ra=/^.[^:#\[\.,]*$/,Sa=ia.expr.match.needsContext,Ta={children:!0,contents:!0,next:!0,prev:!0};ia.fn.extend({find:function(a){var b,c,d,e=this.length;if("string"!=typeof a)return d=this,this.pushStack(ia(a).filter(function(){for(b=0;e>b;b++)if(ia.contains(d[b],this))return!0}));for(c=[],b=0;e>b;b++)ia.find(a,this[b],c);return c=this.pushStack(e>1?ia.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,c=ia(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ia.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(l(this,a,!1))},filter:function(a){return this.pushStack(l(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Sa.test(a)?ia(a,this.context).index(this[0])>=0:ia.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sa.test(a)||"string"!=typeof a?ia(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:ia.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return this.pushStack(f.length>1?ia.unique(f):f)},index:function(a){return a?"string"==typeof a?ia.inArray(this[0],ia(a)):ia.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?ia(a,b):ia.makeArray(a&&a.nodeType?[a]:a),d=ia.merge(this.get(),c);return this.pushStack(ia.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ia.fn.andSelf=ia.fn.addBack,ia.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ia.dir(a,"parentNode")},
parentsUntil:function(a,b,c){return ia.dir(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return ia.dir(a,"nextSibling")},prevAll:function(a){return ia.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ia.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ia.dir(a,"previousSibling",c)},siblings:function(a){return ia.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ia.sibling(a.firstChild)},contents:function(a){return ia.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ia.merge([],a.childNodes)}},function(a,b){ia.fn[a]=function(c,d){var e=ia.map(this,b,c);return Pa.test(a)||(d=c),d&&"string"==typeof d&&(e=ia.filter(d,e)),e=this.length>1&&!Ta[a]?ia.unique(e):e,this.length>1&&Qa.test(a)&&(e=e.reverse()),this.pushStack(e)}}),ia.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?ia.find.matchesSelector(b[0],a)?[b[0]]:[]:ia.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!ia(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=RegExp("<(?:"+Ua+")[\\s/>]","i"),Xa=/^\s+/,Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,$a=/<tbody/i,_a=/<|&#?\w+;/,ab=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,db=/^$|\/(?:java|ecma)script/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ia.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hb=m(W),ib=hb.appendChild(W.createElement("div"));gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td,ia.fn.extend({text:function(a){return ia.access(this,function(a){return a===b?ia.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(ia.isFunction(a))return this.each(function(b){ia(this).wrapAll(a.call(this,b))});if(this[0]){var b=ia(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return ia.isFunction(a)?this.each(function(b){ia(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ia(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ia.isFunction(a);return this.each(function(c){ia(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ia.nodeName(this,"body")||ia(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||ia.filter(a,[c]).length>0)&&(b||1!==c.nodeType||ia.cleanData(t(c)),c.parentNode&&(b&&ia.contains(c.ownerDocument,c)&&q(t(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ia.cleanData(t(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ia.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ia.clone(this,a,b)})},html:function(a){return ia.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Va,""):b;if(!("string"!=typeof a||ab.test(a)||!ia.support.htmlSerialize&&Wa.test(a)||!ia.support.leadingWhitespace&&Xa.test(a)||gb[(Za.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ya,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(ia.cleanData(t(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){var b=ia.isFunction(a);return b||"string"==typeof a||(a=ia(a).not(this).detach()),this.domManip([a],!0,function(a){var b=this.nextSibling,c=this.parentNode;c&&(ia(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=ba.apply([],a);var e,f,g,h,i,j,k=0,l=this.length,m=this,q=l-1,r=a[0],s=ia.isFunction(r);if(s||!(1>=l||"string"!=typeof r||ia.support.checkClone)&&cb.test(r))return this.each(function(e){var f=m.eq(e);s&&(a[0]=r.call(this,e,c?f.html():b)),f.domManip(a,c,d)});if(l&&(j=ia.buildFragment(a,this[0].ownerDocument,!1,this),e=j.firstChild,1===j.childNodes.length&&(j=e),e)){for(c=c&&ia.nodeName(e,"tr"),h=ia.map(t(j,"script"),o),g=h.length;l>k;k++)f=j,k!==q&&(f=ia.clone(f,!0,!0),g&&ia.merge(h,t(f,"script"))),d.call(c&&ia.nodeName(this[k],"table")?n(this[k],"tbody"):this[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,ia.map(h,p),k=0;g>k;k++)f=h[k],db.test(f.type||"")&&!ia._data(f,"globalEval")&&ia.contains(i,f)&&(f.src?ia.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):ia.globalEval((f.text||f.textContent||f.innerHTML||"").replace(fb,"")));j=e=null}return this}}),ia.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ia.fn[a]=function(a){for(var c,d=0,e=[],f=ia(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ia(f[d])[b](c),ca.apply(e,c.get());return this.pushStack(e)}}),ia.extend({clone:function(a,b,c){var d,e,f,g,h,i=ia.contains(a.ownerDocument,a);if(ia.support.html5Clone||ia.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(ia.support.noCloneEvent&&ia.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ia.isXMLDoc(a)))for(d=t(f),h=t(a),g=0;null!=(e=h[g]);++g)d[g]&&s(e,d[g]);if(b)if(c)for(h=h||t(a),d=d||t(f),g=0;null!=(e=h[g]);g++)r(e,d[g]);else r(a,f);return d=t(f,"script"),d.length>0&&q(d,!i&&t(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,n=m(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===ia.type(f))ia.merge(o,f.nodeType?[f]:f);else if(_a.test(f)){for(h=h||n.appendChild(b.createElement("div")),i=(Za.exec(f)||["",""])[1].toLowerCase(),k=gb[i]||gb._default,h.innerHTML=k[1]+f.replace(Ya,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ia.support.leadingWhitespace&&Xa.test(f)&&o.push(b.createTextNode(Xa.exec(f)[0])),!ia.support.tbody)for(f="table"!==i||$a.test(f)?"<table>"!==k[1]||$a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ia.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ia.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=n.lastChild}else o.push(b.createTextNode(f));for(h&&n.removeChild(h),ia.support.appendChecked||ia.grep(t(o,"input"),u),p=0;f=o[p++];)if((!d||-1===ia.inArray(f,d))&&(g=ia.contains(f.ownerDocument,f),h=t(n.appendChild(f),"script"),g&&q(h),c))for(e=0;f=h[e++];)db.test(f.type||"")&&c.push(f);return h=null,n},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ia.expando,i=ia.cache,j=ia.support.deleteExpando,k=ia.event.special;null!=(c=a[g]);g++)if((b||ia.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ia.event.remove(c,d):ia.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==V?c.removeAttribute(h):c[h]=null,_.push(e))}}});var jb,kb,lb,mb=/alpha\([^)]*\)/i,nb=/opacity\s*=\s*([^)]*)/,ob=/^(top|right|bottom|left)$/,pb=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,rb=RegExp("^("+ja+")(.*)$","i"),sb=RegExp("^("+ja+")(?!px)[a-z%]+$","i"),tb=RegExp("^([+-])=("+ja+")","i"),ub={BODY:"block"},vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],yb=["Webkit","O","Moz","ms"];ia.fn.extend({css:function(a,c){return ia.access(this,function(a,c,d){var e,f,g={},h=0;if(ia.isArray(c)){for(f=kb(a),e=c.length;e>h;h++)g[c[h]]=ia.css(a,c[h],!1,f);return g}return d!==b?ia.style(a,c,d):ia.css(a,c)},a,c,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:w(this))?ia(this).show():ia(this).hide()})}}),ia.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ia.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=ia.camelCase(c),j=a.style;if(c=ia.cssProps[i]||(ia.cssProps[i]=v(j,i)),h=ia.cssHooks[c]||ia.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(ia.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||ia.cssNumber[i]||(d+="px"),ia.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=ia.camelCase(c);return c=ia.cssProps[i]||(ia.cssProps[i]=v(a.style,i)),h=ia.cssHooks[c]||ia.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lb(a,c,e)),"normal"===g&&c in wb&&(g=wb[c]),""===d||d?(f=parseFloat(g),d===!0||ia.isNumeric(f)?f||0:g):g},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),a.getComputedStyle?(kb=function(b){return a.getComputedStyle(b,null)},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||ia.contains(a.ownerDocument,a)||(i=ia.style(a,c)),sb.test(i)&&qb.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):W.documentElement.currentStyle&&(kb=function(a){return a.currentStyle},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sb.test(i)&&!ob.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),ia.each(["height","width"],function(a,c){ia.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&pb.test(ia.css(a,"display"))?ia.swap(a,vb,function(){return A(a,c,e)}):A(a,c,e):b},set:function(a,b,d){var e=d&&kb(a);return y(a,b,d?z(a,c,d,ia.support.boxSizing&&"border-box"===ia.css(a,"boxSizing",!1,e),e):0)}}}),ia.support.opacity||(ia.cssHooks.opacity={get:function(a,b){return nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ia.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ia.trim(f.replace(mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mb.test(f)?f.replace(mb,e):f+" "+e)}}),ia(function(){ia.support.reliableMarginRight||(ia.cssHooks.marginRight={get:function(a,c){return c?ia.swap(a,{display:"inline-block"},lb,[a,"marginRight"]):b}}),!ia.support.pixelPosition&&ia.fn.position&&ia.each(["top","left"],function(a,c){ia.cssHooks[c]={get:function(a,d){return d?(d=lb(a,c),sb.test(d)?ia(a).position()[c]+"px":d):b}}})}),ia.expr&&ia.expr.filters&&(ia.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!ia.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||ia.css(a,"display"))},ia.expr.filters.visible=function(a){return!ia.expr.filters.hidden(a)}),ia.each({margin:"",padding:"",border:"Width"},function(a,b){ia.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xb[d]+b]=f[d]||f[d-2]||f[0];return e}},qb.test(a)||(ia.cssHooks[a+b].set=y)});var zb=/%20/g,Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;ia.fn.extend({serialize:function(){return ia.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ia.prop(this,"elements");return a?ia.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ia(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!bb.test(a))}).map(function(a,b){var c=ia(this).val();return null==c?null:ia.isArray(c)?ia.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}}),ia.param=function(a,c){var d,e=[],f=function(a,b){b=ia.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=ia.ajaxSettings&&ia.ajaxSettings.traditional),ia.isArray(a)||a.jquery&&!ia.isPlainObject(a))ia.each(a,function(){f(this.name,this.value)});else for(d in a)D(d,a[d],c,f);return e.join("&").replace(zb,"+")},ia.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ia.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ia.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var Eb,Fb,Gb=ia.now(),Hb=/\?/,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pb=ia.fn.load,Qb={},Rb={},Sb="*/".concat("*");try{Fb=X.href}catch(Tb){Fb=W.createElement("a"),Fb.href="",Fb=Fb.href}Eb=Ob.exec(Fb.toLowerCase())||[],ia.fn.load=function(a,c,d){if("string"!=typeof a&&Pb)return Pb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),ia.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&ia.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?ia("<div>").append(ia.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},ia.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ia.fn[b]=function(a){return this.on(b,a)}}),ia.each(["get","post"],function(a,c){ia[c]=function(a,d,e,f){return ia.isFunction(d)&&(f=f||e,e=d,d=b),ia.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),ia.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:Lb.test(Eb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":ia.parseJSON,"text xml":ia.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?G(G(a,ia.ajaxSettings),b):G(ia.ajaxSettings,a)},ajaxPrefilter:E(Qb),ajaxTransport:E(Rb),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,d&&(t=H(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ia.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(ia.etag[g]=v)),204===a?(f=!0,x="nocontent"):304===a?(f=!0,x="notmodified"):(f=I(m,t),x=f.state,l=f.data,s=f.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--ia.active||ia.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=ia.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ia(n):ia.event,p=ia.Deferred(),q=ia.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fb)+"").replace(Ib,"").replace(Nb,Eb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ia.trim(m.dataType||"*").toLowerCase().match(ka)||[""],null==m.crossDomain&&(e=Ob.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Eb[1]&&e[2]===Eb[2]&&(e[3]||("http:"===e[1]?80:443))==(Eb[3]||("http:"===Eb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ia.param(m.data,m.traditional)),F(Qb,m,c,w),2===u)return w;j=m.global,j&&0===ia.active++&&ia.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jb.test(g)?g.replace(Jb,"$1_="+Gb++):g+(Hb.test(g)?"&":"?")+"_="+Gb++)),m.ifModified&&(ia.lastModified[g]&&w.setRequestHeader("If-Modified-Since",ia.lastModified[g]),ia.etag[g]&&w.setRequestHeader("If-None-Match",ia.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=F(Rb,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getScript:function(a,c){return ia.get(a,b,c,"script")},getJSON:function(a,b,c){return ia.get(a,b,c,"json")}}),ia.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ia.globalEval(a),a}}}),ia.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ia.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=W.head||ia("head")[0]||W.documentElement;return{send:function(b,e){c=W.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Ub=[],Vb=/(=)\?(?=&|$)|\?\?/;ia.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ub.pop()||ia.expando+"_"+Gb++;return this[a]=!0,a}}),ia.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=ia.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vb,"$1"+f):c.jsonp!==!1&&(c.url+=(Hb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||ia.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Ub.push(f)),h&&ia.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var Wb,Xb,Yb=0,Zb=a.ActiveXObject&&function(){var a;for(a in Wb)Wb[a](b,!0)};ia.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&J()||K()}:J,Xb=ia.ajaxSettings.xhr(),ia.support.cors=!!Xb&&"withCredentials"in Xb,Xb=ia.support.ajax=!!Xb,Xb&&ia.ajaxTransport(function(c){if(!c.crossDomain||ia.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=ia.noop,Zb&&delete Wb[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yb,Zb&&(Wb||(Wb={},ia(a).unload(Zb)),Wb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=RegExp("^(?:([+-])=|)("+ja+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[P],ec={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=bc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(ia.cssNumber[a]?"":"px"),"px"!==d&&h){h=ia.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,ia.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};ia.Animation=ia.extend(N,{tweener:function(a,b){ia.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),ia.Tween=Q,Q.prototype={constructor:Q,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ia.cssNumber[c]?"":"px")},cur:function(){var a=Q.propHooks[this.prop];return a&&a.get?a.get(this):Q.propHooks._default.get(this)},run:function(a){var b,c=Q.propHooks[this.prop];return this.pos=b=this.options.duration?ia.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Q.propHooks._default.set(this),this}},Q.prototype.init.prototype=Q.prototype,Q.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ia.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ia.fx.step[a.prop]?ia.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ia.cssProps[a.prop]]||ia.cssHooks[a.prop])?ia.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ia.each(["toggle","show","hide"],function(a,b){var c=ia.fn[b];ia.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(R(b,!0),a,d,e)}}),ia.fn.extend({fadeTo:function(a,b,c,d){return this.filter(w).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ia.isEmptyObject(a),f=ia.speed(b,c,d),g=function(){var b=N(this,ia.extend({},a),f);g.finish=function(){b.stop(!0)},(e||ia._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=ia.timers,g=ia._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&ia.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ia._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ia.timers,g=d?d.length:0;for(c.finish=!0,ia.queue(this,a,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ia.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ia.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ia.speed=function(a,b,c){var d=a&&"object"==typeof a?ia.extend({},a):{complete:c||!c&&b||ia.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ia.isFunction(b)&&b};return d.duration=ia.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ia.fx.speeds?ia.fx.speeds[d.duration]:ia.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ia.isFunction(d.old)&&d.old.call(this),d.queue&&ia.dequeue(this,d.queue)},d},ia.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ia.timers=[],ia.fx=Q.prototype.init,ia.fx.tick=function(){var a,c=ia.timers,d=0;for($b=ia.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||ia.fx.stop(),$b=b},ia.fx.timer=function(a){a()&&ia.timers.push(a)&&ia.fx.start()},ia.fx.interval=13,ia.fx.start=function(){_b||(_b=setInterval(ia.fx.tick,ia.fx.interval))},ia.fx.stop=function(){clearInterval(_b),_b=null},ia.fx.speeds={slow:600,fast:200,_default:400},ia.fx.step={},ia.expr&&ia.expr.filters&&(ia.expr.filters.animated=function(a){return ia.grep(ia.timers,function(b){return a===b.elem}).length}),ia.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){ia.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(c=g.documentElement,ia.contains(c,f)?(typeof f.getBoundingClientRect!==V&&(e=f.getBoundingClientRect()),d=S(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e):void 0},ia.offset={setOffset:function(a,b,c){var d=ia.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=ia(a),h=g.offset(),i=ia.css(a,"top"),j=ia.css(a,"left"),k=("absolute"===d||"fixed"===d)&&ia.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),ia.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},ia.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ia.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ia.nodeName(a[0],"html")||(c=a.offset()),c.top+=ia.css(a[0],"borderTopWidth",!0),c.left+=ia.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ia.css(d,"marginTop",!0),left:b.left-c.left-ia.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||W.documentElement;a&&!ia.nodeName(a,"html")&&"static"===ia.css(a,"position");)a=a.offsetParent;return a||W.documentElement})}}),ia.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);ia.fn[a]=function(e){return ia.access(this,function(a,e,f){var g=S(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?ia(g).scrollLeft():f,d?f:ia(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),ia.each({Height:"height",Width:"width"},function(a,c){ia.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){ia.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return ia.access(this,function(c,d,e){var f;return ia.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?ia.css(c,d,h):ia.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=ia,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ia})}(window);var $j=jQuery.noConflict();window.QZFL=window.QZONE=window.QZFL||window.QZONE||{},QZFL.version="2.1.1.7",QZFL._qzfl=2.116,QZFL.emptyFn=function(){},QZFL.returnFn=function(a){return a},function(){var a,b,c,d=QZFL.userAgent={},e=navigator.userAgent;navigator.appVersion;if(d.adjustBehaviors=QZFL.emptyFn,window.ActiveXObject){if(d.ie=6,(window.XMLHttpRequest||e.indexOf("MSIE 7.0")>-1)&&(d.ie=7),(window.XDomainRequest||e.indexOf("Trident/4.0")>-1)&&(d.ie=8),e.indexOf("Trident/5.0")>-1&&(d.ie=9),e.indexOf("Trident/6.0")>-1&&(d.ie=10),d.isBeta=navigator.appMinorVersion&&navigator.appMinorVersion.toLowerCase().indexOf("beta")>-1,d.ie<7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}QZFL._doc=document,c=function(a){return function(b,c){var d;return"function"==typeof b?(d=Array.prototype.slice.call(arguments,2),a(function(){b.apply(null,d)},c)):"string"==typeof b?a(b,c):void 0}},window.setTimeout=QZFL._setTimeout=c(QZFL.nativeSetTimeout=window.setTimeout),window.setInterval=QZFL._setInterval=c(QZFL.nativeSetInterval=window.setInterval)}else document.getBoxObjectFor||"undefined"!=typeof window.mozInnerScreenX?(a=/(?:Firefox|GranParadiso|Iceweasel|Minefield).(\d+\.\d+)/i,d.firefox=parseFloat((a.exec(e)||a.exec("Firefox/3.3"))[1],10)):navigator.taintEnabled?window.opera?d.opera=parseFloat(window.opera.version(),10):/Trident\/\d+.+rv:(\d+\.\d+?)/i.test(e)?d.ie=RegExp.$1:d.ie=6:(b=/AppleWebKit.(\d+\.\d+)/i.exec(e),d.webkit=b?parseFloat(b[1],10):document.evaluate?document.querySelector?525:420:419,(b=/Chrome.(\d+\.\d+)/i.exec(e))||window.chrome?d.chrome=b?parseFloat(b[1],10):"2.0":((b=/Version.(\d+\.\d+)/i.exec(e))||window.safariHandler)&&(d.safari=b?parseFloat(b[1],10):"3.3"),d.air=e.indexOf("AdobeAIR")>-1?1:0,d.isiPod=e.indexOf("iPod")>-1,d.isiPad=e.indexOf("iPad")>-1,d.isiPhone=e.indexOf("iPhone")>-1);(d.macs=e.indexOf("Mac OS X")>-1)||(d.windows=(b=/Windows.+?(\d+\.\d+)/i.exec(e),b&&parseFloat(b[1],10)),d.linux=e.indexOf("Linux")>-1,d.android=e.indexOf("Android")>-1),d.iOS=e.indexOf("iPhone OS")>-1,!d.iOS&&(b=/OS (\d+(?:_\d+)*) like Mac OS X/i.exec(e),d.iOS=b&&b[1]?!0:!1)}(),QZFL.object={map:function(a,b){return QZFL.object.extend(b||window,a)},extend:function(){var a={};return a=1==arguments.length?$j.extend(QZFL.object,arguments[0]):$j.extend.apply(QZFL.object,arguments)},each:function(a,b){return $j.each(a,function(c,d){return $j.isFunction(b)?b.call(d,d,c,a):!1})},getType:function(a){return $j.type(a)},routeRE:/([\d\w_]+)/g,route:function(a,b){a=a||{},b=String(b);var c,d=QZFL.object.routeRE;for(d.lastIndex=0;null!==(c=d.exec(b))&&(a=a[c[0]],void 0!==a&&null!==a););return a},bind:function(a,b){var c=Array.prototype.slice,d=c.call(arguments,2);
return function(){return a=a||this,b="string"==typeof b?a[b]:b,b="function"==typeof b?b:QZFL.emptyFn,b.apply(a,d.concat(c.call(arguments,0)))}},ease:function(a,b,c){b&&("function"!=typeof c&&(c=QZFL.object._eachFn),QZFL.object.each(a,function(a,d){"function"==typeof a&&(b[c(d)]=a)}))},_easeFn:function(a){return"$"+a}},QZFL.namespace=QZFL.object,QZFL.runTime={isDebugMode:!1,error:QZFL.emptyFn,warn:QZFL.emptyFn},QZFL.console=window.console||{},QZFL.console.log=QZFL.console.log||function(){},QZFL.console.print=QZFL.console.log,QZFL.widget={},QZFL.object.map(QZFL.object,QZFL),QZFL.config=QZFL.config||{},"undefined"==typeof QZFL.config.debugLevel&&(QZFL.config.debugLevel=0),"undefined"==typeof QZFL.config.defaultDataCharacterSet&&(QZFL.config.defaultDataCharacterSet="GB2312"),"undefined"==typeof QZFL.config.DCCookieDomain&&(QZFL.config.DCCookieDomain="qzone.qq.com"),"undefined"==typeof QZFL.config.domainPrefix&&(QZFL.config.domainPrefix="qq.com"),"undefined"==typeof QZFL.config.domain&&(QZFL.config.domain="qzs.qq.com"),"undefined"==typeof QZFL.config.resourceDomain&&(QZFL.config.resourceDomain="qzonestyle.gtimg.cn"),QZFL.config.gbEncoderPath="http://"+QZFL.config.domain+"/qzone/v5/toolpages/",QZFL.config.FSHelperPage="http://"+QZFL.config.domain+"/qzone/v5/toolpages/fp_gbk.html",QZFL.config.defaultShareObject="http://"+QZFL.config.resourceDomain+"/qzone/v5/toolpages/getset.swf",QZFL.config.staticServer="http://"+QZFL.config.resourceDomain+"/ac/qzone/qzfl/lc/",QZFL.css={classFileNameCache:{},convertHexColor:function(a){return a=String(a||""),"#"==a.charAt(0)&&(a=a.substring(1)),3==a.length&&(a=a.replace(/([0-9a-f])/gi,"$1$1")),6==a.length?[parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16)]:[0,0,0]},rgb2hsl:function(a,b,c){var d,e=Math.max(a/255,0),f=Math.max(b/255,0),g=Math.max(c/255,0),h=Math.max(e,f,g),i=Math.min(e,f,g),j={h:0,s:0,l:Math.max((h+i)/2,0)};return h!=i&&(h==e?j.h=(d=60*((f-g)/(h-i)))<0?d+360:d:h==f?j.h=60*((g-e)/(h-i))+120:h==g&&(j.h=60*((e-f)/(h-i))+240),j.l<=.5?j.s=(h-i)/(2*j.l):.5<j.l&&(j.s=(h-i)/(2-2*j.l)),j.h=Math.round(j.h),j.s=Math.round(100*j.s)/100,j.l=Math.round(100*j.l)/100),j},getStyleSheetById:function(a){var b;return(b=QZFL.dom.get(a))&&b.sheet||(b=document.styleSheets)&&b[a]},getRulesBySheet:function(a){var b,c,d="object"==typeof a?a:QZFL.css.getStyleSheetById(a),e={};return d&&!(e=d.cssRules||d.rules)&&(b=document.getElementsByTagName("head")[0])&&(c=b.getElementsByTagName("base")[0])&&(QZFL.dom.removeElement(c),e=d.cssRules,b.appendChild(c)),e},getRuleBySelector:function(a,b){b=String(b).toLowerCase();for(var c=QZFL.css.getStyleSheetById(a),d=QZFL.css.getRulesBySheet(c),e=0,f=d.length;f>e;++e)if(b==d[e].selectorText.toLowerCase())return d[e];return null},insertCSSLink:function(a,b){var c,d,e,f,g;if(!QZFL.css.classFileNameCache[a]){"string"==typeof b&&(c=b),b="object"==typeof b?b:{},c=b.linkID||c,d=b.doc||document,g=d.getElementsByTagName("head")[0],f=(e=d.getElementById(c))&&"LINK"==e.nodeName?e:null,f||(f=d.createElement("link"),c&&(f.id=c),f.rel=f.rev="stylesheet",f.type="text/css",f.media=b.media||"screen",g.appendChild(f));try{a&&(f.href=a)}catch(h){}return QZFL.css.classFileNameCache[a]=!0,QZFL.userAgent.ie<9&&f.sheet||f}},insertStyleSheet:function(a,b){var c=document.createElement("style");return c.type="text/css",a&&(c.id=a),document.getElementsByTagName("head")[0].appendChild(c),b&&(c.styleSheet?c.styleSheet.cssText=b:c.appendChild(document.createTextNode(b))),c.sheet||c},removeStyleSheet:function(a){var b=QZFL.css.getStyleSheetById(a);b&&QZFL.dom.removeElement(b.owningElement||b.ownerNode)},updateClassName:function(a,b,c){return $j(QZFL.dom.get(a)).removeClass(b).addClass(c).attr("class")},hasClassName:function(a,b){return $j(QZFL.dom.get(a)).hasClass(b)},addClassName:function(a,b){return $j(QZFL.dom.get(a)).addClass(b).attr("class")},removeClassName:function(a,b){return $j(QZFL.dom.get(a)).removeClass(b).attr("class")},replaceClassName:function(a,b,c){QZFL.css.swapClassName(a,b,c,!0)},swapClassName:function(a,b,c,d){if(a&&"object"==typeof a){void 0===a.length&&(a=[a]);for(var e,f=0,g=a.length;g>f;++f)(e=a[f])&&1==e.nodeType&&(QZFL.css.hasClassName(e,b)?QZFL.css.updateClassName(e,b,c):!d&&QZFL.css.hasClassName(e,c)&&QZFL.css.updateClassName(e,c,b))}},toggleClassName:function(a,b){$j(QZFL.dom.get(a)).toggleClass(b)}},QZFL.dom={getById:function(a){return document.getElementById(a)},getByName:function(a,b,c){return QZFL.selector((b||"")+'[name="'+a+'"]',c)},get:function(a){return"string"==typeof a?document.getElementById(a):a},removeElement:function(a){$j(QZFL.dom.get(a)).remove()},searchChain:function(a,b,c){for(b=b||"parentNode";a&&a.nodeType&&1==a.nodeType;){if(!c||c.call(a,a))return a;a=a[b]}return null},getElementsByClassName:function(a,b,c){return QZFL.selector((b||"")+"."+a,QZFL.dom.get(c))},isAncestor:function(a,b){return a&&b&&a!=b&&QZFL.dom.contains(a,b)},getAncestorBy:function(a,b){return a=QZFL.dom.get(a),QZFL.dom.searchChain(a.parentNode,"parentNode",function(a){return 1==a.nodeType&&(!b||b(a))})},getFirstChild:function(a){return $j(QZFL.dom.get(a)).children().first().get(0)},getLastChild:function(a){return $j(QZFL.dom.get(a)).children().last().get(0)},getNextSibling:function(a){return $j(QZFL.dom.get(a)).next().get(0)},getPreviousSibling:function(a){return $j(QZFL.dom.get(a)).prev().get(0)},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},createElementIn:function(a,b,c,d){var e,f=(b=QZFL.dom.get(b)||document.body).ownerDocument.createElement(a||"div");if("object"==typeof d)for(e in d)"class"==e?f.className=d[e]:"style"==e?f.style.cssText=d[e]:f[e]=d[e];return c?b.insertBefore(f,b.firstChild):b.appendChild(f),f},getStyle:function(a,b){return $j(QZFL.dom.get(a)).css(b)},setStyle:function(a,b,c){return $j(QZFL.dom.get(a)).css(b,c),!0},createNamedElement:function(a,b,c){var d,e=c||document;try{d=e.createElement("<"+a+' name="'+b+'">')}catch(f){}return d||(d=e.createElement(a)),d.name||(d.name=b),d},getRect:function(a){if(a=QZFL.dom.get(a)){var b=QZFL.object.extend({},a.getBoundingClientRect());return"undefined"==typeof b.width&&(b.width=b.right-b.left,b.height=b.bottom-b.top),b}},getPosition:function(a){var b,c,d;return(b=QZFL.dom.getRect(a))?((c=QZFL.dom.getScrollLeft(d=a.ownerDocument))&&(b.left+=c,b.right+=c),(c=QZFL.dom.getScrollTop(d))&&(b.top+=c,b.bottom+=c),b):void 0},setPosition:function(a,b){QZFL.dom.setXY(a,b.left,b.top),QZFL.dom.setSize(a,b.width,b.height)},getXY:function(a){var b=QZFL.dom.getPosition(a)||{left:0,top:0};return[b.left,b.top]},getSize:function(a){var b=QZFL.dom.getPosition(a)||{width:-1,height:-1};return[b.width,b.height]},setXY:function(a,b,c){var d=parseInt(QZFL.dom.getStyle(a,"marginLeft"))||0,e=parseInt(QZFL.dom.getStyle(a,"marginTop"))||0;QZFL.dom.setStyle(a,{left:(parseInt(b,10)||0)-d+"px",top:(parseInt(c,10)||0)-e+"px"})},getScrollLeft:function(a){var b=a||document;return b.defaultView&&b.defaultView.pageXOffset||Math.max(b.documentElement.scrollLeft,b.body.scrollLeft)},getScrollTop:function(a){var b=a||document;return b.defaultView&&b.defaultView.pageYOffset||Math.max(b.documentElement.scrollTop,b.body.scrollTop)},getScrollHeight:function(a){var b=a||document;return Math.max(b.documentElement.scrollHeight,b.body.scrollHeight)},getScrollWidth:function(a){var b=a||document;return Math.max(b.documentElement.scrollWidth,b.body.scrollWidth)},setScrollLeft:function(a,b){var c=b||document;c["CSS1Compat"!=c.compatMode||QZFL.userAgent.webkit?"body":"documentElement"].scrollLeft=a},setScrollTop:function(a,b){var c=b||document;c["CSS1Compat"!=c.compatMode||QZFL.userAgent.webkit?"body":"documentElement"].scrollTop=a},getClientHeight:function(a){var b=a||document;return"CSS1Compat"==b.compatMode?b.documentElement.clientHeight:b.body.clientHeight},getClientWidth:function(a){var b=a||document;return"CSS1Compat"==b.compatMode?b.documentElement.clientWidth:b.body.clientWidth},_SET_SIZE_RE:/^\d+(?:\.\d*)?(px|%|em|in|cm|mm|pc|pt)?$/,setSize:function(a,b,c){a=QZFL.dom.get(a);var d,e=QZFL.dom._SET_SIZE_RE;QZFL.dom.setStyle(a,"width",(d=e.exec(b))?d[1]?b:parseInt(b,10)+"px":"auto"),QZFL.dom.setStyle(a,"height",(d=e.exec(c))?d[1]?c:parseInt(c,10)+"px":"auto")},getDocumentWindow:function(a){var b=a||document;return b.parentWindow||b.defaultView},getElementsByTagNameNS:function(a,b,c){a=a||document;var d=[];if(a.getElementsByTagNameNS)return a.getElementsByTagName(b+":"+c);if(a.getElementsByTagName){var e=document.namespaces;if(e.length>0)for(var f=a.getElementsByTagName(c),g=0,h=f.length;h>g;++g)f[g].scopeName==b&&d.push(f[g])}return d},getElementByTagNameBubble:function(a,b){if(!b)return null;var c=15;return b=String(b).toUpperCase(),"BODY"==b?document.body:(a=QZFL.dom.searchChain(a=QZFL.dom.get(a),"parentNode",function(a){return a.tagName==b||"BODY"==a.tagName||--c<0}),!a||0>c?null:a)},insertAdjacent:function(a,b,c,d){var e,f,g=["beforeBegin","afterBegin","beforeEnd","afterEnd"];return QZFL.lang.isElement(a)&&g[b]&&(QZFL.lang.isString(c)||QZFL.lang.isElement(c))?(a.insertAdjacentHTML?a["insertAdjacent"+("object"==typeof c?"Element":d?"Text":"HTML")](g[b],c):(e=(f=a.ownerDocument).createRange(),e[1==b||2==b?"selectNodeContents":"selectNode"](a),e.collapse(2>b),e.insertNode("string"!=typeof c?c:d?f.createTextNode(c):e.createContextualFragment(c))),!0):!1}},QZFL.event={KEYS:{BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},addEvent:function(a,b,c,d){return $j.event.add(a,b,function(b){var d=[b];$j.isArray(b.data)&&(d=d.concat(b.data)),$j.isFunction(c)?c.apply(a,d):null},d),!0},purgeEvent:function(a,b){return $j.event.remove(a,b),!0},getEvent:function(a){var b,a=window.event||a||null,c=QZFL.event.getEvent,d=0;if(!a)for(b=arguments.callee;b&&d<c.MAX_LEVEL&&(!(a=b.arguments[0])||"undefined"==typeof a.button||"undefined"==typeof a.ctrlKey);)++d,b=b.caller;return a},getButton:function(a){var b=QZFL.event.getEvent(a);return b?QZFL.userAgent.ie?b.button-Math.ceil(b.button/2):b.button:-1},getTarget:function(a){var b=QZFL.event.getEvent(a);return b?b.srcElement||b.target:null},getCurrentTarget:function(a){var b=QZFL.event.getEvent(a);return b?b.currentTarget||document.activeElement:null},cancelBubble:function(a){return(a=QZFL.event.getEvent(a))?void(a.stopPropagation?a.stopPropagation():a.cancelBubble||(a.cancelBubble=!0)):!1},preventDefault:function(a){return(a=QZFL.event.getEvent(a))?void(a.preventDefault?a.preventDefault():a.returnValue=!1):!1},mouseX:function(a){return a=QZFL.event.getEvent(a),a.pageX||a.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)},mouseY:function(a){return a=QZFL.event.getEvent(a),a.pageY||a.clientY+(document.documentElement.scrollTop||document.body.scrollTop)},getRelatedTarget:function(a){a=QZFL.event.getEvent(a);var b=a.relatedTarget;return b||("mouseout"==a.type?b=a.toElement:"mouseover"==a.type&&(b=a.fromElement)),b},onDomReady:function(a){$j(a)}},QZFL.event.on=QZFL.event.addEvent,QZFL.event.bind=QZFL.object.bind,QZFL.event.getEvent.MAX_LEVEL=10,QZFL.lang={isString:function(a){return"string"==QZFL.object.getType(a)},isArray:function(a){return"array"==QZFL.object.getType(a)},isFunction:function(a){return"function"==QZFL.object.getType(a)},isHashMap:function(a){return"object"==QZFL.object.getType(a)},isNode:function(a){return a&&("undefined"!=typeof a.nodeName||"undefined"!=typeof a.nodeType)},isElement:function(a){return a&&1==a.nodeType}},QZFL.string={RegExps:{trim:/^\s+|\s+$/g,ltrim:/^\s+/,rtrim:/\s+$/,nl2br:/\n/g,s2nb:/[\x20]{2}/g,URIencode:/[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,escHTML:{re_amp:/&/g,re_lt:/</g,re_gt:/>/g,re_apos:/\x27/g,re_quot:/\x22/g},escString:{bsls:/\\/g,sls:/\//g,nl:/\n/g,rt:/\r/g,tab:/\t/g},restXHTML:{re_amp:/&amp;/g,re_lt:/&lt;/g,re_gt:/&gt;/g,re_apos:/&(?:apos|#0?39);/g,re_quot:/&quot;/g},write:/\{(\d{1,2})(?:\:([xodQqb]))?\}/g,isURL:/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,cut:/[\x00-\xFF]/,getRealLen:{r0:/[^\x00-\xFF]/g,r1:/[\x00-\xFF]/g},format:/\{([\d\w\.]+)\}/g},commonReplace:function(a,b,c){return a.replace(b,c)},listReplace:function(a,b){if(QZFL.lang.isHashMap(b)){for(var c in b)a=QZFL.string.commonReplace(a,b[c],c);return a}return a+""},trim:function(a){return QZFL.string.commonReplace(a+"",QZFL.string.RegExps.trim,"")},ltrim:function(a){return QZFL.string.commonReplace(a+"",QZFL.string.RegExps.ltrim,"")},rtrim:function(a){return QZFL.string.commonReplace(a+"",QZFL.string.RegExps.rtrim,"")},nl2br:function(a){return QZFL.string.commonReplace(a+"",QZFL.string.RegExps.nl2br,"<br />")},s2nb:function(a){return QZFL.string.commonReplace(a+"",QZFL.string.RegExps.s2nb,"&nbsp;&nbsp;")},URIencode:function(a){var b,c;return(a+"").replace(QZFL.string.RegExps.URIencode,function(a){return" "==a?"+":"\r"==a?"":(b=a.charCodeAt(0),c=b.toString(16),"%"+(16>b?"0"+c:c))})},escHTML:function(a){var b=QZFL.string.RegExps.escHTML;return QZFL.string.listReplace(a+"",{"&amp;":b.re_amp,"&lt;":b.re_lt,"&gt;":b.re_gt,"&#039;":b.re_apos,"&quot;":b.re_quot})},escString:function(a){var b=QZFL.string.RegExps.escString,c=QZFL.string.RegExps.escHTML;return QZFL.string.listReplace(a+"",{"\\\\":b.bsls,"\\n":b.nl,"":b.rt,"\\t":b.tab,"\\/":b.sls,"\\'":c.re_apos,'\\"':c.re_quot})},restXHTML:function(a){var b=QZFL.string.RegExps.restXHTML;return QZFL.string.listReplace(a+"",{"<":b.re_lt,">":b.re_gt,"'":b.re_apos,'"':b.re_quot,"&":b.re_amp})},write:function(a,b){if(arguments.length<1||!QZFL.lang.isString(a))return"";var c=QZFL.lang.arg2arr(arguments),d=c.shift();return d.replace(QZFL.string.RegExps.write,function(a,b,d){if(b=parseInt(b,10),0>b||"undefined"==typeof c[b])return"(n/a)";if(!d)return c[b];switch(d){case"x":return"0x"+c[b].toString(16);case"o":return"o"+c[b].toString(8);case"d":return c[b].toString(10);case"Q":return'"'+c[b].toString(16)+'"';case"q":return"`"+c[b].toString(16)+"'";case"b":return"<"+!!c[b]+">"}})},isURL:function(a){return QZFL.string.RegExps.isURL.test(a)},escapeURI:function(a){return window.encodeURIComponent?encodeURIComponent(a):window.escape?escape(a):""},fillLength:function(a,b,c,d){if((a=String(a)).length<b){var e=new Array(b-a.length);e[d?"unshift":"push"](a),a=e.join(c||"0")}return a},cut:function(a,b,c){if(a=String(a),b-=0,c=c||"",isNaN(b))return a;for(var d=a.length,e=Math.min(Math.floor(b/2),d),f=QZFL.string.getRealLen(a.slice(0,e));d>e&&b>f;e++)f+=1+(a.charCodeAt(e)>255);return a.slice(0,f>b?e-1:e)+(d>e?c:"")},getRealLen:function(a,b){if("string"!=typeof a)return 0;if(b){var c=a.replace(QZFL.string.RegExps.getRealLen.r1,"");return a.length-c.length+encodeURI(c).length/3}return a.replace(QZFL.string.RegExps.getRealLen.r0,"**").length},format:function(a){var b,c=Array.prototype.slice.call(arguments);return a=String(c.shift()),1==c.length&&"object"==typeof c[0]&&(c=c[0]),QZFL.string.RegExps.format.lastIndex=0,a.replace(QZFL.string.RegExps.format,function(a,d){return b=QZFL.object.route(c,d),void 0===b?a:b})}},QZFL.string.restHTML=QZFL.string.restXHTML,QZFL.util={buildUri:function(a){return new QZFL.util.URI(a)},URI:function(a){if("string"!=QZFL.object.getType(a))return null;a.indexOf("://")<1&&(a=location.protocol+"//"+location.host+(0==a.indexOf("/")?"":location.pathname.substr(0,location.pathname.lastIndexOf("/")+1))+a);var b=a.split("://");if("array"==QZFL.object.getType(b)&&b.length>1&&/^[a-zA-Z]+$/.test(b[0])){this.protocol=b[0].toLowerCase();var c=b[1].split("/");if("array"==QZFL.object.getType(c)){this.host=c[0],this.pathname="/"+c.slice(1).join("/").replace(/(\?|\#).+/i,""),this.href=a;var d=b[1].lastIndexOf("?"),e=b[1].lastIndexOf("#");return this.search=d>=0?b[1].substring(d):"",this.hash=e>=0?b[1].substring(e):"",this.search.length>0&&this.hash.length>0&&(d>e?this.search="":this.search=b[1].substring(d,e)),this}return null}return null}},QZFL.string=QZONE.string||{},QZFL.string.parseXML=$j.parseXML,QZFL.string.timeFormatString=function(a,b,c){try{a=a.getTime?a:new Date(a)}catch(d){return""}var e,f,g,h=QZFL.string.timeFormatString,i=h._map,j=h._units,k=!1;if(b)return b.replace(h._re,function(b,d,e){return(k="_"==d.charAt(0))&&(d=d.charAt(1)),i[d]?k?Math.floor(Math.abs(a-c)/i[d][1]):(g=a[i[d][0]](),"y"==d&&(g%=100),"M"==d&&g++,10>g?QZFL.string.fillLength(g,2,e):g.toString()):b});c=c||new Date,f=Math.abs(a-c);for(var l=0,m=j.length;m>l;++l)if(e=i[j[l]],f>e[1])return Math.floor(f/e[1])+e[2];return"刚刚"},QZFL.string.timeFormatString._re=/\{([_yYMdhms]{1,2})(?:\:([\d\w\s]))?\}/g,QZFL.string.timeFormatString._map={y:["getYear",31104e6],Y:["getFullYear",31104e6,"年前"],M:["getMonth",2592e6,"个月前"],d:["getDate",864e5,"天前"],h:["getHours",36e5,"小时前"],m:["getMinutes",6e4,"分钟前"],s:["getSeconds",1e3,"秒前"]},QZFL.string.timeFormatString._units=["Y","M","d","h","m","s"],QZFL.lang.isValidXMLdom=function(a){return!!(a&&a.xml&&/^<\?xml/.test(a.xml))},QZFL.lang.arg2arr=function(a,b){return Array.prototype.slice.call(a,b||0)},QZFL.lang.getObjByNameSpace=function(a,b){if("string"!=typeof a)return a;var c=a.split("."),d=window;try{for(var e=0,f=c.length;f>e;++e){if("undefined"==typeof d[c[e]]){if(!b)return;d[c[e]]={}}d=d[c[e]]}return d}catch(g){return}},QZFL.lang.objectClone=function(a,b){if("object"==typeof a){var c=QZFL.lang.isArray(a)?[]:{};for(var d in a)d!=b&&(c[d]=QZFL.lang.objectClone(a[d],b));return c}return"function"==typeof a?Object:a},QZFL.lang.obj2str=function(a){var b,c;if("object"==typeof a){if(null===a)return"null";if(window.JSON&&window.JSON.stringify)return JSON.stringify(a);c=QZFL.lang.isArray(a),b=[];for(var d in a)b.push((c?"":'"'+QZFL.string.escString(d)+'":')+obj2str(a[d]));return b=b.join(),c?"["+b+"]":"{"+b+"}"}return"undefined"==typeof a?"undefined":"number"==typeof a||"function"==typeof a?a.toString():a?'"'+QZFL.string.escString(a)+'"':'""'},QZFL.lang.propertieCopy=function(a,b,c,d){var e=c&&"object"==typeof c?c:b;a=a||{};for(var f in e)d&&f in a||(a[f]=e[f]);return a},QZFL.lang.tryThese=function(){for(var a=0,b=arguments.length;b>a;++a)try{return arguments[a]()}catch(c){}},QZFL.cookie={set:function(a,b,c,d,e){if(e){var f=new Date;f.setTime(f.getTime()+36e5*e)}return document.cookie=a+"="+b+"; "+(e?"expires="+f.toGMTString()+"; ":"")+(d?"path="+d+"; ":"path=/; ")+(c?"domain="+c+";":"domain="+QZFL.config.domainPrefix+";"),!0},get:function(a){var b=new RegExp("(?:^|;+|\\s+)"+a+"=([^;]*)"),c=document.cookie.match(b);return c?c[1]:""},del:function(a,b,c){document.cookie=a+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(c?"path="+c+"; ":"path=/; ")+(b?"domain="+b+";":"domain="+QZFL.config.domainPrefix+";")}},$j.extend({time33:function(a){for(var b=0,c=a.length,d=5381;c>b;++b)d+=(d<<5)+a.charAt(b).charCodeAt();return 2147483647&d},getJsonp:function(a,b,c,d){return $j.isFunction(c)&&(d=c),$j.get(a,b,d,"jsonp")},getJson:function(a,b,c,d){return $j.isFunction(c)&&(d=c),$j.get(a,b,d,"json")},getToken:function(){var a=Live.login.getSkey(),b=a?$j.time33(a):"";return b},ajaxQueue:function(a){a=a||{};var b,c=a.urls,d=a.success||QZFL.emptyFn,e=a.error||QZFL.emptyFn,f=a.complete||QZFL.emptyFn,g=a.beforeSend||QZFL.emptyFn,h=[];return c="array"==QZFL.object.getType(c)?c:[c],g(),$j.each(c,function(a,b){h.push($j.ajax(b))}),b=$j.when.apply(null,h).always(f).done(d).fail(e).promise(),b.success=b.done,b.error=b.fail,b.complete=b.always,b},ajaxSetup:function(){var a=$j.ajaxSetup;return function(b,c){return b=a(b,c),b.CSRF&&(b.data=b.data||{},b.data.g_tk=$j.getToken()),b.charset&&(b.scriptCharset=b.charset),b.low_login&&(b.data=b.data||{},b.data.low_login=1),"script"==b.dataType&&b.cache!==!1&&(b.cache=!0),b}}()}),$j.ajaxSetup({timeout:5e3,charset:"utf-8"}),$j.extend({sub:function(){function a(b,c){return new a.fn.init(b,c)}var b=$j;$j.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,e){e&&e instanceof b&&!(e instanceof a)&&(e=a(e));var f=$j.fn.init.call(this,d,e,c);return this.makeElementsArray(f),f},a.fn.makeElementsArray=function(a){a.elements=[].slice.call(a,0)},a.fn.init.prototype=a.fn;var c=a(document);return a}}),QZFL.object.map(QZFL.lang||{});var ua=window.ua||QZFL.userAgent,$e=$j.sub(),$=QZFL.dom.get,getElementById=QZFL.dom.get,removeNode=QZFL.dom.removeElement,addEvent=QZFL.event.addEvent,removeEvent=QZFL.event.removeEvent,getEvent=QZFL.event.getEvent;QZFL.ElementHandler=$e,QZFL.selector=$j.find,QZFL.dom.contains=QZFL.selector.contains,$e.extend($e.fn,{get:function(a){return $j.fn.eq.call(this,a)},eq:function(a){return $j.fn.get.call(this,a)},onMouseEnter:function(a){return this.mouseenter(a)},onMouseLeave:function(a){return this.mouseleave(a)},delegate:function(a,b,c){return a?this.on(b,a,c):this},pushStack:function(a){return function(){var b=a.apply(this,arguments);return this.makeElementsArray(b),b}}($e.fn.pushStack),each:function(a){var b=this.elements;return $j.fn.each.call(this,function(){$j.isFunction(a)&&a.call(this,arguments[1],arguments[0],b)})},create:function(a,b){var c=[];return this.each(function(d){c.push(QZFL.dom.createElementIn(a,d,!1,b))}),$e(c)},getSize:function(a){var b,c=[];return a=a||0,b=this.get(a),1==b.size()&&(c=[b.width(),b.height()]),c},setSize:function(a,b){return this.each(function(c){QZFL.dom.setSize(c,a,b)})},setXY:function(a,b){return this.each(function(c){QZFL.dom.setXY(c,a,b)})},getXY:function(a){var b=this.eq(a||0);return b?QZFL.dom.getXY(b):null},getVal:function(a){return a=a||0,this.get(a).val()},setVal:function(a){return this.val(a)},setHtml:function(a,b){return b=b||0,this.html(a)},getHtml:function(a){return a=a||0,this.get(a).html()},setAttr:function(a,b){return this.attr(a,b)},getAttr:function(a){return this.attr(a)},setStyle:function(a,b){return this.css(a,b)},getStyle:function(a){return this.css(a)},unBind:function(a,b){return this.unbind(a,b)},load:function(a){return function(b,c){var d=this,e=arguments,f=function(a){var b=e[e.length-1];$j.isFunction(b)&&b(d,a)};return 2==e.length?a.call(d,b,f):a.call(d,b,c,f)}}($e.fn.load)}),$j.each(["Prev","Parent","Children","Next"],function(a,b){$e.fn["get"+b]=$e.fn[b.toLowerCase()]}),$j.each(["Click","MouseDown","MouseUp","MouseOver","MouseMove","MouseOut","Focus","Blur","KeyDown","KeyPress","KeyUp","Hover"],function(a,b){$e.fn["on"+b]=$e.fn[b.toLowerCase()]});var Live=QZFL;Live.Callback=function(a){$j.extend(this,$j.Callbacks(a))},Live.Deferred=function(a){$j.extend(this,$j.Deferred(a))},Live.Deferred.prototype={isFired:function(){return"pending"!=this.state()},isResolved:function(){return"resolved"==this.state()},isRejected:function(){return"rejected"==this.state()}},Live.Deferred.when=$j.when,QZFL.Storage={helperUrl:"http://v.qq.com/storage_helper.html?max_age=6048000&v=1",ifrCallback:null,instance:null,getInstance:function(){var a=this.instance;return a?a:null}},QZFL.Storage.create=function(a,b){if("function"==typeof a){b=b||{};var c=null,d=b.dbname||"qzone_database",e=(b.domain||document.domain,b.helper||QZFL.Storage.helperUrl),f=b.share||!1,g=["localStorage","userData"],h=QZFL.Storage,i=function(b,f){var g=document.createElement("iframe");g.id="userData_iframe_"+d,g.style.display="none",QZFL.Storage.ifrCallback=function(){c=g.contentWindow.create(d,f),a(c?b:!1)},g.src=e,document.body.appendChild(g)},j=function(a){var b=new Date;return a=a||1095,b.setDate(b.getDate()+a),b.toUTCString()},k={};k.userData={isSupport:!!window.ActiveXObject,type:1,get:function(a,b){c.load(d);var e=c.getAttribute(a);return"function"==typeof b&&b(e),e},set:function(a,b){try{return c.load(d),c.setAttribute(a,b),c.save(d),!0}catch(e){return!1}},remove:function(a){c.load(d),c.removeAttribute(a),c.save(d)},init:function(){if(f)return void i(this,"userData");var b=document.documentElement||document.body;b.addBehavior("#default#userdata"),b.load(d),c=b,a(this)},clear:function(){try{return c.load(d),c.expires=new Date(123456789e4).toUTCString(),c.save(d),c.load(d),c.expires=j(),c.save(d),!0}catch(a){return!1}}},k.localStorage={isSupport:"undefined"!=typeof window.localStorage,type:3,get:function(a,b){var d=(d=c.getItem(a))&&d.value?d.value:d;return"function"==typeof b&&b(d),d},set:function(a,b){try{return c.setItem(a,b),!0}catch(d){return!1}},remove:function(a){c.removeItem(a)},init:function(){return f?void i(this,"localStorage"):void a((c=window.localStorage)?this:!1)},clear:function(){c.clear()}},function(){try{for(var b=0,c=g.length;c>b;b++)if(k[g[b]].isSupport)return void(h.instance=k[g[b]]).init();a(!1)}catch(d){var e=new Image;e.src="http://pinghot.qq.com/pingd?dm=v.qq.com.hot&url=/virtualpage/storage.html&arg=&hottag=txv.storage.error&hotx=9999&hoty=9999&rand=13106",a(!1)}}()}},function(a){var b=!1,c=[],d={share:!0,domain:"qq.com"};a.setOptions=function(a){d=a},a.init=function(){var e=arguments;return b?void c.push([e[0],e[1]]):(c.push([e[0],e[1]]),b=!0,void a.create(function(b){var d;if(b)for(a.get=b.get,a.set=b.set,a.remove=b.remove,a.clear=b.clear;d=c.pop();)b[d[0]].apply(null,d[1]);else{for(;d=c.pop();)QZFL.lang.isArray(d)&&"get"==d[0]&&d[1]&&"function"==typeof d[1][1]&&d[1][1](null);a.get=function(a,b){return QZFL.lang.isFunction(b)&&b(null),null}}},d))},a.get=function(){var b,c=[].slice.call(arguments,0),d=null;QZFL.lang.isFunction(c[1])&&(b=c[1],d=setTimeout(function(){b.call(null,null),b=QZFL.emptyFn},500),c[1]=function(a){clearTimeout(d),b.call(null,a),b=QZFL.emptyFn}),a.init("get",c)},a.set=function(){a.init("set",arguments)},a.remove=function(){a.init("remove",arguments)},a.clear=function(){a.init("clear",arguments)}}(QZFL.Storage),function(a,b){function c(a){return function(b){return Object.prototype.toString.call(b)==="[object "+a+"]"}}function d(){return A++}function e(a){return a.match(G)[0]}function f(a){for(a=a.replace(H,"/");a.indexOf("/../")>0;){var b=a.indexOf("/../"),c=a.substr(0,b),d=c.substr(c.lastIndexOf("/"));a=a.replace(d,"").replace("/../","/")}return a}function g(a){var b=a.length-1,c=a.charAt(b);return"#"===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||".css"===a.substring(b-3)||"/"===c?a:a+".js"}function h(a){var b=v.alias;return b&&x(b[a])?b[a]:a}function i(a){var b,c=v.paths;return c&&(b=a.match(I))&&x(c[b[1]])&&(a=c[b[1]]+b[2]),a}function j(a){var b=v.vars;return b&&a.indexOf("{")>-1&&(a=a.replace(J,function(a,c){return x(b[c])?b[c]:a})),a}function k(a){var b=v.map,c=a;if(b)for(var d=0,e=b.length;e>d;d++){var f=b[d];if(c=z(f)?f(a)||a:a.replace(f[0],f[1]),c!==a)break}return c}function l(a,b){var c,d=a.charAt(0);if(K.test(a))c=a;else if("."===d)c=f((b?e(b):v.cwd)+a);else if("/"===d){var g=v.cwd.match(L);c=g?g[0]+a.substring(1):a}else c=v.base+a;return c}function m(a,b){if(!a)return"";a=h(a),a=i(a),a=j(a),a=g(a);var c=l(a,b);return c=k(c)}function n(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function o(a,b,c){var d=U.test(a),e=M.createElement(d?"link":"script");if(c){var f=z(c)?c(a):c;f&&(e.charset=f)}p(e,b,d),d?(e.rel="stylesheet",e.href=a):(e.async=!0,e.src=a),C=e,T?S.insertBefore(e,T):S.appendChild(e),C=null}function p(a,b,c){var d=c&&(W||!("onload"in a));return d?void setTimeout(function(){q(a,b)},1):void(a.onload=a.onerror=a.onreadystatechange=function(){V.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,c||v.debug||S.removeChild(a),a=null,b())})}function q(a,b){var c,d=a.sheet;if(W)d&&(c=!0);else if(d)try{d.cssRules&&(c=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(c=!0)}setTimeout(function(){c?b():q(a,b)},20)}function r(){if(C)return C;if(D&&"interactive"===D.readyState)return D;for(var a=S.getElementsByTagName("script"),b=a.length-1;b>=0;b--){var c=a[b];if("interactive"===c.readyState)return D=c}}function s(a){var b=[];return a.replace(Y,"").replace(X,function(a,c,d){d&&b.push(d)}),b}function t(a,b){this.uri=a,this.dependencies=b||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!a.seajs){var u=a.seajs={version:"2.1.1"},v=u.data={},w=c("Object"),x=c("String"),y=Array.isArray||c("Array"),z=c("Function"),A=0,B=v.events={};u.on=function(a,b){var c=B[a]||(B[a]=[]);return c.push(b),u},u.off=function(a,b){if(!a&&!b)return B=v.events={},u;var c=B[a];if(c)if(b)for(var d=c.length-1;d>=0;d--)c[d]===b&&c.splice(d,1);else delete B[a];return u};var C,D,E,F=u.emit=function(a,b){var c,d=B[a];if(d)for(d=d.slice();c=d.shift();)c(b);return u},G=/[^?#]*\//,H=/\/\.\//g,I=/^([^\/:]+)(\/.+)$/,J=/{([^{]+)}/g,K=/^\/\/.|:\//,L=/^.*?\/\/.*?\//,M=document,N=location,O=e(N.href),P=M.getElementsByTagName("script"),Q=M.getElementById("seajsnode")||P[P.length-1],R=e(n(Q)||O),S=M.getElementsByTagName("head")[0]||M.documentElement,T=S.getElementsByTagName("base")[0],U=/\.css(?:\?|$)/i,V=/^(?:loaded|complete|undefined)$/,W=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,X=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,Y=/\\\\/g,Z=u.cache={},$={},_={},aa={},ba=t.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};t.prototype.resolve=function(){for(var a=this,b=a.dependencies,c=[],d=0,e=b.length;e>d;d++)c[d]=t.resolve(b[d],a.uri);return c},t.prototype.load=function(){var a=this;if(!(a.status>=ba.LOADING)){a.status=ba.LOADING;var b=a.resolve();F("load",b);for(var c,d=a._remain=b.length,e=0;d>e;e++)c=t.get(b[e]),c.status<ba.LOADED?c._waitings[a.uri]=(c._waitings[a.uri]||0)+1:a._remain--;if(0===a._remain)return void a.onload();var f={};for(e=0;d>e;e++)c=Z[b[e]],c.status<ba.FETCHING?c.fetch(f):c.status===ba.SAVED&&c.load();for(var g in f)f.hasOwnProperty(g)&&f[g]()}},t.prototype.onload=function(){var a=this;a.status=ba.LOADED,a.callback&&a.callback();var b,c,d=a._waitings;for(b in d)d.hasOwnProperty(b)&&(c=Z[b],c._remain-=d[b],0===c._remain&&c.onload());delete a._waitings,delete a._remain},t.prototype.fetch=function(a){function b(){o(f.requestUri,f.onRequest,f.charset)}function c(){delete $[g],_[g]=!0,E&&(t.save(e,E),E=null);var a,b=aa[g];for(delete aa[g];a=b.shift();)a.load()}var d=this,e=d.uri;d.status=ba.FETCHING;var f={uri:e};F("fetch",f);var g=f.requestUri||e;return!g||_[g]?void d.load():$[g]?void aa[g].push(d):($[g]=!0,aa[g]=[d],F("request",f={uri:e,requestUri:g,onRequest:c,charset:v.charset}),void(f.requested||(a?a[f.requestUri]=b:b())))},t.prototype.exec=function(){function a(b){return t.get(a.resolve(b)).exec()}var c=this;if(c.status>=ba.EXECUTING)return c.exports;c.status=ba.EXECUTING;var e=c.uri;a.resolve=function(a){return t.resolve(a,e)},a.async=function(b,c){return t.use(b,c,e+"_async_"+d()),a};var f=c.factory,g=z(f)?f(a,c.exports={},c):f;return g===b&&(g=c.exports),null!==g||U.test(e)||F("error",c),delete c.factory,c.exports=g,c.status=ba.EXECUTED,F("exec",c),g},t.resolve=function(a,b){var c={id:a,refUri:b};return F("resolve",c),c.uri||m(c.id,b)},t.define=function(a,c,d){var e=arguments.length;1===e?(d=a,a=b):2===e&&(d=c,y(a)?(c=a,a=b):c=b),!y(c)&&z(d)&&(c=s(d.toString()));var f={id:a,uri:t.resolve(a),deps:c,factory:d};if(!f.uri&&M.attachEvent){var g=r();g&&(f.uri=g.src)}F("define",f),f.uri?t.save(f.uri,f):E=f},t.save=function(a,b){var c=t.get(a);c.status<ba.SAVED&&(c.id=b.id||a,c.dependencies=b.deps||[],c.factory=b.factory,c.status=ba.SAVED)},t.get=function(a,b){return Z[a]||(Z[a]=new t(a,b))},t.use=function(b,c,d){var e=t.get(d,y(b)?b:[b]);e.callback=function(){for(var b=[],d=e.resolve(),f=0,g=d.length;g>f;f++)b[f]=Z[d[f]].exec();c&&c.apply(a,b),delete e.callback},e.load()},t.preload=function(a){var b=v.preload,c=b.length;c?t.use(b,function(){b.splice(0,c),t.preload(a)},v.cwd+"_preload_"+d()):a()},u.use=function(a,b){return t.preload(function(){t.use(a,b,v.cwd+"_use_"+d())}),u},t.define.cmd={},a.define=t.define,u.Module=t,v.fetchedList=_,v.cid=d,u.resolve=m,u.require=function(a){return(Z[t.resolve(a)]||{}).exports};var ca=/^(.+?\/)(\?\?)?(seajs\/)+/;v.base=(R.match(ca)||["",R])[1],v.dir=R,v.cwd=O,v.charset="utf-8",v.preload=function(){var a=[],b=N.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2");return b+=" "+M.cookie,b.replace(/(seajs-\w+)=1/g,function(b,c){
a.push(c)}),a}(),u.config=function(a){for(var b in a){var c=a[b],d=v[b];if(d&&w(d))for(var e in c)d[e]=c[e];else y(d)?c=d.concat(c):"base"===b&&("/"===c.slice(-1)||(c+="/"),c=l(c)),v[b]=c}return F("config",a),u}}}(this),function(a){a.util={},a.extend(a.util,{getUrlParam:function(a,b){b=b||location.href;var c,d=new RegExp("[?&#]"+a+"=([^&#]+)","gi"),e=b.match(d);return e&&e.length>0?(c=e[e.length-1].split("="),c&&c.length>1?c[1]:""):""},setUrlParam:function(a,b,c){c=c||location.href;var d,e,f=new RegExp("[?&#]"+a+"=([^&#]+)","gi"),g=c.match(f),h="{key"+(new Date).getTime()+"}";if(d=g&&g.length>0?g[g.length-1]:"",e=a+"="+b,d){var i=d.charAt(0);c=c.replace(d,h),c=c.replace(h,b?i+e:"")}else b&&(c+=c.indexOf("?")>-1?"&"+e:"?"+e);return c},getUrlParamObject:function(a){a=a||location.href;var b,c,d,e,f=a.split("#"),g=f[1]||"",h=f[0].split("?")[1]||"",i=g.split("&"),j=h.split("&"),k=j.concat(i),l={};for(e=0,len=k.length;e<len;e++)b=k[e].split("="),c=b[0],d=b[1]||"",c&&(l[c]=decodeURIComponent(d));return l},genHttpParamString:function(a,b){var c="",d="";return b=b||"",c=$j.param(a),b&&c&&(d=-1!=b.indexOf("?")?"&":"?"),b+d+c},strToDate:function(b){var c,d,e=/^(\d{4})-(\d{2})-(\d{2})(\s+?(\d{2}):(\d{2}):(\d{2}))?$/;return d=Date.parse?new Date(Date.parse(b)):new Date(b),isNaN(d.getDate())&&a.type(b)&&(c=b.match(e))&&(d=c[4]&&c[4].length>0?new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10),parseInt(c[5],10),parseInt(c[6],10),parseInt(c[7],10)):new Date(parseInt(c[1],10),parseInt(c[2],10)-1,parseInt(c[3],10))),isNaN(d.getDate())?null:d},formatNum:function(a){if(!/^(\+|-)?(\d+)(\.\d+)?$/.test(a))return a;for(var b=RegExp.$1,c=RegExp.$2,d=RegExp.$3,e=new RegExp("(\\d)(\\d{3})(,|$)");e.test(c);)c=c.replace(e,"$1,$2$3");return b+""+c+d},isEventSupported:function(a){if("string"!=typeof a&&0==a.length)return!1;var b=!1,c={select:"input",change:"input",propertychange:"input",input:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},d=document.createElement(c[a]||"div");return d&&(a="on"+a,b=a in d,b||(d.setAttribute(a,"return;"),b="function"==typeof d.getAttribute(a))),b},useHtml5:function(){var a=navigator.userAgent,b=!1;return $j.each(["iPhone","iPad","iPod"],function(c,d){b||-1==a.indexOf(d)||(b=!0)}),$j.util.getUrlParam("usehtml5")||b},getFunCallTrace:function(){function a(a){if("function"==typeof a||"object"==typeof a)var b=(""+a).match(/function\s*([\w\$]*)\s*\(/);return b&&b[1]||"[unknown]"}for(var b=[],c=arguments.callee.caller;c;)b.unshift(a(c)),c=c&&c.caller;return b},showAtCenter:function(a,b,c,d){if(a){var e,f=window==top,g=f?document:top.document,h=g.body.scrollTop,i=g.documentElement.clientHeight,j=$j(a);b=b||j.width()||373,c=c||j.height()||235,d=d===!1?!0:!1,0==h&&(h=g.documentElement.scrollTop),0==i&&(i=g.body.clientHeight),e=parseInt(j.css("zIndex")),j.css({width:b+"px",height:c+"px",top:6!=Live.userAgent.ie&&f?"50%":i/2+h-c/2+"px",left:"50%",marginLeft:-b/2+"px",marginTop:6!=Live.userAgent.ie?-c/2+"px":"0px",position:6!=Live.userAgent.ie?"fixed":"absolute",zIndex:e||"10001",display:"block"}),d&&j.css({padding:"0px",backgroundColor:"#ffffff"}),$j.util.useHtml5()&&(g.documentElement.scrollTop=0)}},formatTimeBySec:function(a,b,c,d){if(isNaN(a)||"string"!=$j.type(b))return"";var e={};return c="boolean"==typeof c?c:!0,d="boolean"==typeof d?d:!0,e.h=Math.floor(a/3600),e.hh=e.h<10?"0"+e.h:e.h,e.m=Math.floor(a/60)-60*e.h,/{h+}/.test(b)||(e.m+=60*e.h),e.mm=e.m<10?"0"+e.m:e.m,e.s=a%60,/{m+}/.test(b)||(e.s+=60*e.m),e.ss=e.s<10?"0"+e.s:e.s,e.h<1&&!c&&(b=b.replace(/{h+}[^{]+/,""),e.m<1&&(b=b.replace(/{m+}[^{]+/,""))),e.s<1&&!d&&(b=b.replace(/{s+}[^{]+/,"")),b.replace(/{([smh]+)}/g,function(a,b){return"undefined"==typeof e[b]?a:e[b]})},log:function(){var a,b;return function(c){"undefined"==typeof a&&(a="true"==$j.util.getUrlParam("debug")),"undefined"==typeof b&&(b=window.console&&window.console.log),a&&b&&window.console.log(c)}}(),dump:function(){var a,b;return function(c){"undefined"==typeof a&&(a="true"==$j.util.getUrlParam("debug")),"undefined"==typeof b&&(b=window.console&&window.console.dir),a&&b&&window.console.dir(c)}}(),report:function(){function a(){return 0==e.length?(c=!0,void(d=null)):(b(e.splice(0,1)),void(c=!1))}function b(b){d=document.createElement("img"),d.onerror=a,d.src=b}var c=!0,d=null,e=[];return function(a){return a&&/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i.test(a)?null==d?(b(a),void(c=!1)):c?(b(a),void(c=!1)):void e.push(a):void 0}}(),getCoverPic:function(a,b,c){var d="http://i.gtimg.cn/qqlive/img/jpgcache/files/qqvideo/";return"string"==typeof a&&(b=b||"",c=c||"",c.length>0&&(c="_"+c),d+=[b,a.charAt(0),a+c+".jpg"].join("/")),d},isPageHidden:function(){var a=document.webkitHidden||document.mozHidden||document.mozHidden||document.msHidden;return a===!0}}),a.extend(Live,{report:a.util.report})}($j),QZFL.config.DCCookieDomain="live.qq.com",QZFL.config.domainPrefix="live.qq.com",QZFL.config.defaultDataCharacterSet="utf-8",QZFL.config.defaultShareObject="http://live.qq.com/toolpages/getset.swf";try{window.location.href.indexOf("http://cache.tv.qq.com")>=0&&(QZFL.config.FSHelperPage="http://cache.tv.qq.com/v9/toolpages/fp_utf8.html")}catch(e){}if("undefined"==typeof Live||!Live){var Live={};"undefined"!=typeof QZFL&&(Live=QZFL),"undefined"==typeof QQLive||QQLive||("function"==typeof $j?$j.extend(Live,QQLive):"undefined"!=typeof Live.object&&Live.object.extend(Live,QQLive)),Live.isLoaded=!1,Live.ver="$Rev: 53139 $",Live.lastmodify="$Date: 2014-07-08 12:50:28 +0800 (周二, 08 七月 2014) $"}Live.noConflict=function(){"undefined"!=typeof $&&"undefined"!=typeof jQuery&&(jQuery.noConflict(!0),$=jQuery)},Live.lazyLoad=function(){function a(a,b){i=b?b:"BackCompat"==document.compatMode?document.body:document.documentElement,j=a||["img","iframe"]}function b(){for(var a=[],b=0,c=j.length;c>b;b++)for(var d=$e(j[b]+"[lz_src]"),e=d.elements||d.get(),f=0,g=e.length;g>f;f++)a.push(e[f]);for(var h=l.length,n=h,o=0,c=a.length;c>o;o++)"object"==typeof a[o]&&a[o].getAttribute("lz_src")&&(l.push(a[o]),n++);for(var b=h;n>b;b++){var p=l[b];p.style.visibility="hidden";var q=Math.round(QZFL.dom.getXY(p)[1]-QZFL.dom.getXY(i)[1]);if(k[q])k[q].push(b);else{var r=[];r[0]=b,k[q]=r,m++}}}function c(){var a=window.pageYOffset||i.scrollTop;return i.clientHeight+a}function d(){if(p++,!m)return void(q=!0);var a=c();if(n>=a)return void setTimeout(d,200);n=a;for(var b in k)if(a>b){for(var e,f=k[b],g=f.length,h=0;g>h;h++)e=l[f[h]].getAttribute("lz_src"),l[f[h]].src=e,l[f[h]].removeAttribute("lz_src"),l[f[h]].style.visibility="visible";delete k[b],m--}for(var b in o)if(a>b){for(var f=o[b],g=f.length,h=0;g>h;h++)f[h]();delete o[b],m--}setTimeout(d,200)}function e(c,e){a(c,e),b(),q=!1,setTimeout(function(){d()},0)}function f(a,b,c){c=c||0,a.getXY||(a=$e(a));var e=a.getXY()[1]+c;if(o[e])o[e].push(b);else{var f=[];f[0]=b,o[e]=f,m++}n=0,q&&(q=!1,d())}function g(a){n=a}function h(){k={},l=[],m=0,n=-1,o={},p=0,q=!0}var i,j,k={},l=[],m=0,n=-1,o={},p=0,q=!0;return{init:e,lazyFunc:f,getScreenShowHeight:c,reset:h,resetLastOffset:g}}(),Live.actionManager=function(){var a,b={},c={};return{on:function(a,c){"string"==typeof a&&a.length>0&&"function"==typeof c&&(b[a]&&"function"==typeof b[a].add||(b[a]=new Live.Callback("unique")),b[a].has(c)||b[a].add(c))},one:function(a,b){"string"==typeof a&&a.length>0&&"function"==typeof b&&(c[a]&&"function"==typeof c[a].done||(c[a]=new Live.Deferred),c[a].done(b))},trigger:function(a,d){"string"==typeof a&&a.length>0&&(c[a]&&QZFL.lang.isFunction(c[a].resolveWith)?c[a].resolveWith(null,d):(c[a]=new Live.Deferred,c[a].resolveWith(null,d)),b[a]&&"function"==typeof b[a].fire&&b[a].fireWith(null,d))},off:function(c,d){"string"==typeof c&&c.length>0&&b[c]&&"function"==typeof b[c].remove&&("function"==typeof d?b[c].remove(d):b[c]=a)}}}();var _irt={version:"0.0.7",dataHandler:"http://tj.video.qq.com/fcgi-bin/set_cookie?otype=json&",dataHandler_video:"http://tj.video.qq.com/fcgi-bin/set_cookie?otype=json&",_account:"",_u_eventid:"",_debug:!1,init:function(a){this._account=a,this._track()},_trackStart:function(a){return a.indexOf("-")<0?"invalid user identify.":(this.init(a),this)},_track:function(){this._feedBack()},record_video_api:function(a,b,c,d){return d+""=="0"?(this._u_eventid=Math.abs(parseInt((navigator.userAgent^(new Date).getTime())*Math.random()))+a,void this._feedBack_video(a,b,c,d)):void this._feedBack_video(a,b,c,d)},_feedBack:function(){var a=Array("id="+this._account,"pt="+encodeURIComponent(document.title),"dm="+encodeURIComponent(window.location.host),"pa="+encodeURIComponent(window.location.pathname),"sr="+document.body.clientWidth+"x"+document.body.clientHeight,"ul="+(navigator.language||"zh-CN"),"tv="+this.version,"r="+(new Date).getTime(),"url="+encodeURIComponent(window.location.href),"ua="+encodeURIComponent(navigator.userAgent.toString())).join("&"),b=this.dataHandler+a;this._img=new Image,this._img.src=b},_feedBack_video:function(a,b,c,d){var e=Array("ta="+d,"eid="+this._u_eventid,"pt="+encodeURIComponent(document.title),"vid="+a,"du="+b,"la="+encodeURIComponent(c),"r="+(new Date).getTime()).join("&"),f=this.dataHandler_video+e;this._img=new Image,this._img.src=f}};Live.mypv={dm:location.hostname||location.host,idx:1,hotKeyName:"_hot",report:function(){var a=this,b=a.dm,c=Live.mypv.getPtag();""!=c&&Live.mypv.setCookiePtag("ptag",c,b);var d=0,e={"cache.tv.qq.com":1,"imgcache.qq.com":1,"film.qq.com":2,"3g.v.qq.com":3,"m.v.qq.com":4};e[b]&&(d=e[b]),c=Live.cookie.get("ptag");var f=new Image;f.onerror=f.onload=f.onabort=function(){},f.src=["http://rcgi.video.qq.com/pv_report?","refer=",encodeURIComponent(document.referrer),"&ptag=",c,"&itype=",d,"&idx=",a.idx,"&t=",(new Date).valueOf()].join("");var g={BossId:3487,Pwd:745225177,itype:d,idx:a.idx,ptag:c,qtag:Live.QTAG.getQtag(),refer:document.referrer,url:document.URL||document.location.href};window.location.href.indexOf("/cover/")>0&&window.COVER_INFO&&window.COVER_INFO.typeid>0&&(g.type=window.COVER_INFO.typeid),Live.mypv.reportToBoss(g),a.idx++},reportToBoss:function(a){var b="http://btrace.video.qq.com/kvcollect?",c="";c=$j.param(a);var d=[b,c,"&_=",Math.ceil(1e3*Math.random())].join("");Live.report(d)},getPtag:function(){for(var a=document.location.toString().toLowerCase(),b=this.dm,c="",d=["ptag","adtag","pgv_ref"],e=0,f=d.length;f>e&&!(c=Live.mypv.getUrlParam(d[e],a));e++);if(!c){var g=Live.mypv.getDomainOfURL(document.referrer);""!=g&&b!=g&&(c=g.replace(/\./g,"_")),c||(c=Live.mypv.getCookiePtag("ptag"))}return c},getDomainOfURL:function(a){var b="";if("undefined"==typeof a||null==a||""==a)return b;var c=/.*\:\/\/([^\/]*).*/,d=a.match(c);return"undefined"!=typeof d&&null!=d&&(b=d[1]),b},getCookiePtag:function(a){a=a||"ptag";var b=Live.cookie.get(a),c=b.split("|");return c[0]},setCookiePtag:function(a,b,c){for(var d=Live.cookie.get(a),e=d.split("|"),f=[b],g=1,h=e.length;h>g;g++)f.push("|"+e[g]);Live.cookie.set(a,f.join(""),c)},getUrlParam:function(a,b){b=b||location.href;var c,d=new RegExp("[?&#]"+a+"=([^&#]+)","gi"),e=b.match(d);return e&&e.length>0?(c=e[e.length-1].split("="),c&&c.length>1?c[1]:""):""},initPageHotKey:function(){if("function"==typeof $j&&$j.fn&&$j.fn.jquery){var a=function(a){return a&&1==a.nodeType};$j(document).undelegate("a","click").delegate("a","click",function(b){if(a(this)){for(var c=null,d=b.target;this!=d&&a(d);){if(d.getAttribute(Live.mypv.hotKeyName)){c=d;break}d=d.parentNode}c||this.getAttribute(Live.mypv.hotKeyName)&&(c=this),c&&Live.QTAG.checkQtag(c,b),Live.lazyreport.checkHotLazyReport(this,c?c.getAttribute(Live.mypv.hotKeyName):"",b)}}),$j(document).undelegate("["+Live.mypv.hotKeyName+"]","click").delegate("["+Live.mypv.hotKeyName+"]","click",function(b){if(a(this)){for(var c=!1,d=b.target;document!=d&&a(d);){if("A"==d.tagName){c=!0;break}d=d.parentNode}c||Live.lazyreport.checkHotLazyReport(this,this.getAttribute(Live.mypv.hotKeyName),b)}})}},getCurPageType:function(a){if("string"==typeof PAGEHOT)return PAGEHOT;var b="others";if("undefined"==typeof txv)return b;var a=a||(txv.common?txv.common.conf:{})||{isFilmPage:!1,pageType:void 0,index:!1,playpg:!1};if(a.isFilmPage)b="film","undefined"!=typeof txv.playpg&&(b="cover");else{if(a.pageType)return a.pageType;document.getElementById("txvSitemap")?b="undefined"!=typeof txv.index?"index":"sort":"undefined"!=typeof txv.playpg&&(b="cover")}return b},bindBtnTj:function(){$j("._hotkey").bind("click",function(){Live.mypv.btnTj(this.getAttribute(Live.mypv.hotKeyName))})},btnTj:function(a){"string"==typeof a&&(a=a.replace("{pagetype}",Live.mypv.getCurPageType())),Live.tj2.button(a)}},Live.QTAG_SET_FLAG=!1,Live.QTAG={dm:location.hostname||location.host,hotKeyName:"_hot",qtagName:"_qtag",init:function(){var a=this,b=Live.mypv.getDomainOfURL(document.referrer);a.dm!=b&&a.clearCookieQtag(),$j(document).undelegate("["+Live.QTAG.qtagName+"]","click").delegate("["+Live.QTAG.qtagName+"]","click",function(b){var c=Live.QTAG_SET_FLAG,d=$e(this);if(!c){var e=d.attr(Live.QTAG.qtagName);e&&""!=e&&(a.setCookieQtag(e),Live.QTAG_SET_FLAG=!0)}}),$j("body").on("click",function(b){var c=Live.QTAG_SET_FLAG;if(!c&&a.checkLinkTag(b,this)){var d=a.getDefaultQtag();a.setCookieQtag(d)}Live.QTAG_SET_FLAG=!1})},getQtag:function(a,b){for(var c=this,d=a,e=document,f="";e!=d&&d&&1==d.nodeType;){var g=$e(d),h=g.attr(Live.QTAG.qtagName);if(h&&""!=h||(h=g.attr(Live.QTAG.hotKeyName)),h&&""!=h){f=h;break}d=d.parentNode}return""==f&&(f=c.getDefaultQtag()),f},checkQtag:function(a,b){if(!Live.QTAG_SET_FLAG){var c=$e(a),d=c.attr(Live.QTAG.qtagName);if(d&&""!=d)return Live.QTAG.setCookieQtag(d),void(Live.QTAG_SET_FLAG=!0);var e=c.attr(Live.QTAG.hotKeyName);return e&&""!=e?(Live.QTAG.setCookieQtag(e),void(Live.QTAG_SET_FLAG=!0)):void 0}},getCookieQtag:function(){var a=Live.cookie.get("ptag"),b=a.split("|");return b.length<2?"":b[1]},setCookieQtag:function(a){var b="ptag",c=this,d=Live.cookie.get(b),e=d.split("|"),f=[e[0],"|"+a];if(e.length>2)for(var g=2,h=e.length;h>g;g++)f.push("|"+e[g]);Live.cookie.set(b,f.join(""),c.dm)},getDefaultQtag:function(){var a=location.pathname;if(a.length<1||"/"==a)return location.hostname.replace(/\./g,"_");var b=a.indexOf("/",1);return-1==b?a.substring(1):a.substring(1,b)},clearCookieQtag:function(){var a="ptag",b=this,c=Live.cookie.get(a),d=c.split("|");if(d.length>1){for(var e=[d[0]],f=2,g=d.length;g>f;f++)e.push("|"+d[f]);Live.cookie.set(a,e.join(""),b.dm)}},checkLinkTag:function(a,b){var c=a.target;if("A"==c.tagName||"A"==b.tagName)return!0;for(;b!=c&&c&&1==c.nodeType;){if("A"==c.tagName)return!0;c=c.parentNode}return!1}},Live.TXVWATCH={cgi:"http://rcgi.video.qq.com/web_report?",buildUrl:function(a,b){b=b||"";var c={cmd:2570,url:location.href,str1:b},d=$j(a),e=[],f=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)/2,g=d.offset(),h={left:g.left,top:g.top,width:d.width(),height:d.height()};h&&(c.val=h.left+h.width/2-f,c.val2=h.top+h.height/2),"undefined"!=typeof PAGE_INFO&&(c.int1=PAGE_INFO.pageType,c.int2=PAGE_INFO.tplType);for(var i in c)e=e.concat([i,"=",encodeURIComponent(c[i]),"&"]);return e=e.concat(["_t=",(new Date).valueOf()]),[this.cgi,e.join("")].join("")},watch:function(a,b){var c=this.buildUrl(a,b);if(window.$j&&$j.util&&$j.util.report)$j.util.report(c);else if("function"==typeof Live.report)Live.report(c);else{var d=new Image;d.onerror=d.onload=d.onabort=function(){},d.src=c}}},Live.openviplinkreport={conf:{selector:"a[data-openvip]",paramName:"aid"},init:function(a){QZFL.object.extend(this.conf,a);var b=this.conf.paramName,c=new RegExp("([&|?]"+b+"=)(.+?)(&.+|$)");$e(document).undelegate(this.conf.selector,"click").delegate(this.conf.selector,"click",function(a){var d=this.href,e=encodeURIComponent(Live.openviplinkreport.getParam(this));QZFL.string.isURL(d)&&(c.test(d)?d=d.replace(c,"$1"+e+"$3"):d+=(-1==d.indexOf("?")?"?":"&")+b+"="+e,this.href=d)},!0),window.__tencentplayer_getaidparam=function(){return Live.openviplinkreport.getParam(document,"flash")}},getParam:function(a,b){return[Live.mypv.getPtag(),Live.QTAG.getQtag(a)||b||"flash"].join("$$")}},Live.tj2={jspath:"http://pingjs.qq.com/ping.js",isBusy:!1,comscorePath:"http://b.scorecardresearch.com/beacon.js",comscoreParam:{c1:2,c2:6036207},keyPrefix:"ISD.LIVEWEB.",initPGVGlobalParam:function(){pgvVirtualDomain="",pvCurDomain="",pvCurUrl=""},hot:function(a){function b(){Live.tj2.isBusy=!1,Live.tj2.initPGVGlobalParam(),pgvSendClick({hottag:Live.tj2.keyPrefix+a})}"function"==typeof pgvSendClick?b():Live.tj2.isBusy?setTimeout(function(){Live.tj2.hot(a)},20):(Live.tj2.isBusy=!0,$j.ajax({url:Live.tj2.jspath,success:b,error:Live.tj2.errReport,dataType:"script"}))},button:function(a,b,c){function d(){if(Live.tj2.isBusy=!1,"undefined"==typeof b){var d=a,e=a.split(".");e.length>0&&(d=e[0]),d+=".html",b="/virtualpage/"+d}Live.tj2.initPGVGlobalParam(),"function"==typeof pgvSendClick&&("undefined"!=typeof c?pgvSendClick({hottag:Live.tj2.keyPrefix+a,virtualURL:b,virtualDomain:c}):pgvSendClick({hottag:Live.tj2.keyPrefix+a,virtualURL:b}))}"string"==typeof a&&("function"==typeof pgvSendClick?d():Live.tj2.isBusy?setTimeout(function(){Live.tj2.button(a,b,c)},20):(Live.tj2.isBusy=!0,$j.ajax({url:Live.tj2.jspath,success:d,error:Live.tj2.errReport,dataType:"script"})))},senseParam:null,pv:function(a){var b={};b["v.qq.com"]=!0,b["film.qq.com"]=!0,b["3g.v.qq.com"]=!0,b["m.v.qq.com"]=!0,b["videopage.qzone.qq.com"]=!0,b["cache.tv.qq.com"]=!0,b["imgcache.qq.com"]=!0,b["piao.v.qq.com"]=!0,b["ticket.v.qq.com"]=!0,b[location.host]&&"undefined"!=typeof Live.mypv&&Live.mypv.report();var c={};c["v.qq.com"]=!0,c["boke.qq.com"]=!0,c["cache.tv.qq.com"]=!0,c["play.v.qq.com"]=!0,c["imgcache.qq.com"]=!0,c["sns.video.qq.com"]=!0,c["piao.v.qq.com"]=!0,c["ticket.v.qq.com"]=!0,c[location.host]&&(Live.tj2.pv_irt(),Live.tj2.pv_comscore()),Live.tj2.pv_pgv(a),Live.lazyreport&&Live.lazyreport.report()},pv_pgv:function(a){function b(){if(Live.tj2.isBusy=!1,Live.tj2.initPGVGlobalParam(),"undefined"!=typeof pgvVirtualURL&&(pgvVirtualURL=""),"undefined"!=typeof pvRepeatCount&&(pvRepeatCount=1),a||Live.tj2.senseParam){var b={};Live.tj2.senseParam&&$j.extend(b,{senseParam:Live.tj2.senseParam}),a&&($j.extend(b,a),a.virtualURL&&(pvCurUrl=a.virtualURL)),"function"==typeof pgvMain&&pgvMain("",b)}else"function"==typeof pgvMain&&pgvMain()}a=a||{},top!=window&&(a.statIframe=!0),"function"==typeof pgvMain?b():Live.tj2.isBusy?setTimeout(function(){Live.tj2.pv_pgv(a)},20):(Live.tj2.isBusy=!0,$j.ajax({url:Live.tj2.jspath,success:b,error:Live.tj2.errReport,dataType:"script"}))},pv_irt:function(){"undefined"!=typeof _irt&&_irt.init("")},pv_comscore:function(){$j.getScript(Live.tj2.comscorePath,function(){"undefined"==typeof Live.tj2.comscoreParam.c10&&(Live.tj2.comscoreParam.c10=Live.cookie.get("pvid"));try{COMSCORE.beacon(Live.tj2.comscoreParam)}catch(a){Live.tj2.button("comscore.error")}})},watch:function(){$e("body").bind("click",function(){"function"==typeof pgvWatchClick&&(Live.tj2.initPGVGlobalParam(),pgvWatchClick())})},performance:function(a,b,c){var d=window.performance||window.msPerformance||window.webkitPerformance;if(d){d=d.timing;var e=[],f=d.domainLookupStart;e[0]=d.domainLookupEnd,e[1]=d.requestStart,e[2]=d.responseStart,e[3]=d.responseEnd,e[4]=d.domComplete,e[5]=d.loadEventEnd;for(var g=[["http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=",a,"&flag2=",b,"&flag3=",c].join("")],h=0,i=e.length;i>h;h++)e[h]&&g.push(h+1+"="+(e[h]-f));window._speed_img=new Image,window._speed_img.src=g.join("&")}},errReport:function(){setTimeout(function(){"undefined"==typeof window.pingjsReqImg&&(window.pingjsReqImg=new Image),window.pingjsReqImg.src=["http://rcgi.video.qq.com/web_report?cmd=2563","&str1=",encodeURIComponent(Live.tj2.jspath)].join(""),Live.tj2.isBusy=!1},0)}},Live.pgv=Live.tj2,Live.virtualpgv={virtualHost:"pgv.live.qq.com",virtualPath:"/liveweb/",pv:function(a){Live.tj2.initPGVGlobalParam(),Live.tj2.pv_pgv({virtualDomain:Live.virtualpgv.virtualHost,virtualURL:[Live.virtualpgv.virtualPath,a].join("")})}},Live.lazyreport=function(){function checkHotLazyReport(a,b,c){if(a){var d=a.getAttribute("href"),e=a.getAttribute("target");d=d?d:"",e=e?e:"","_blank"==e?(b&&Live.mypv.btnTj(b),Live.TXVWATCH.watch(a,b)):!d||d.indexOf("javascript")>=0||0==d.indexOf("http://")&&d.indexOf(location.hostname)<0&&d.indexOf("http://v.qq.com")<0&&d.indexOf("http://film.qq.com")<0?(!!b&&Live.mypv.btnTj(b),Live.TXVWATCH.watch(a,b)):Live.lazyreport?(!!b&&Live.lazyreport.push('Live.mypv.btnTj("'+b+'")'),Live.lazyreport.push(Live.TXVWATCH.buildUrl(a,b)),setTimeout(function(){Live.lazyreport.report()},1e4)):(!!b&&Live.mypv.btnTj(b),Live.TXVWATCH.watch(a,b))}}var reg=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,mydomain=location.hostname||location.host,k="txv_lazyreport_list",d="|",cookieMode={get:function(a){return QZFL.cookie.get(a)},set:function(a,b){return QZFL.cookie.set(a,b,mydomain)},clear:function(a){return QZFL.cookie.set(a,"",mydomain)}},sessionStorageMode={isSupport:window.sessionStorage,get:function(a){return sessionStorage.getItem(a)},set:function(a,b){return sessionStorage.setItem(a,b)},clear:function(a){return sessionStorage.removeItem(a)}},qzflStorageMode={isSupport:window.QZFL&&QZFL.Storage?!0:!1,get:function(a,b){QZFL.Storage.get(a,b)},set:function(a,b){QZFL.Storage.set(a,b)},clear:function(a){this.set(a,"")}},mode=function(){if(qzflStorageMode.isSupport){var a=qzflStorageMode;return{get:a.get,set:a.set,clear:a.clear}}if(sessionStorageMode.isSupport){var b=sessionStorageMode;return{get:function(a,c){var d=b.get(a);return c(d),d},set:b.set,clear:b.clear}}var c=cookieMode;return{get:function(a,b){var d=c.get(a);return b(d),d},set:c.set,clear:c.clear}}(),_imgreport=function(a,b){var c=new Image;c.onload=c.onerror=c.onabort=function(){delete c,b()},c.src=a},clear=function(){return mode.clear(k)},val=function(a){mode.get(k,function(b){a(b)})},push=function(a){mode.get(k,function(b){b&&b.length>0?b+=d+encodeURIComponent(a):b=encodeURIComponent(a),mode.set(k,b)})},shift=function(a){mode.get(k,function(b){if(b){var c=b.split(d),e=c.shift();mode.set(k,c.join(d)),a(decodeURIComponent(e))}})},reportItem=function(item,cb){reg.test(item)?setTimeout(function(){_imgreport(item,cb)},0):setTimeout(function(){try{eval(item),cb()}catch(e){}},0)},report=function(){shift(function(a){a&&reportItem(a,function(){report()})})};return{push:push,clear:clear,val:val,report:report,checkHotLazyReport:checkHotLazyReport}}(),Live.util=Live.object.extend(Live.util,{platform:{TXV:1,BIGPORTAL:2,TXVFILM:3},getHost:function(a){var b="";return b=a==this.platform.TXVFILM?"http://film.qq.com":a==this.platform.BIGPORTAL?"http://cache.tv.qq.com":"http://v.qq.com"},getFullUrlPath:function(a,b){return this.getHost(b)+a},getTxvDetailUrl:function(a,b){b=b||0;var c="";return c=0==b||-1!=$j.inArray(b,[1,2,98])?"/detail/":"/cover/",this.getFullUrlPath([c,a.charAt(0),"/",a,".html"].join(""),this.platform.TXV)},getDetailUrl:function(a,b,c){return c==Live.util.platform.BIGPORTAL?Live.util.getBpDetailUrl(a,b):Live.util.getTxvDetailUrl(a)},getTxvPlayUrl:function(a,b,c){if(!a)return"";if(15==a.length){var d=["/cover/",a.charAt(0),"/",a,".html"].join("");return c=c||this.platform.TXV,b&&(d+="?vid="+b),this.getFullUrlPath(d,c)}return this.getTxvVideoPlayUrl(a)},getTxvVideoPlayUrl:function(a){return"string"!=typeof a||a.length<11?"":this.getFullUrlPath(["/page/",a.substr(0,1),"/",a.substr(9,1),"/",a.substr(10,1),"/",a,".html"].join(""),this.platform.TXV)},getTxvBokePlayUrl:function(a){return"string"!=typeof a||a.length<11?"":this.getFullUrlPath(["/boke/page/",a.substr(0,1),"/",a.substr(9,1),"/",a.substr(10,1),"/",a,".html"].join(""),this.platform.TXV)},getBpDetailUrl:function(a,b){if(!a)return"";if(15==a.length){var c=["/bigportal/detail/",a.charAt(0),"/",a,".html"].join("");return b&&(c+="?vid="+b),this.getFullUrlPath(c,this.platform.BIGPORTAL)}return this.getBpVideoDetailUrl(a)},getBpVideoDetailUrl:function(a){return a?this.getFullUrlPath("/bigportal/vdetail.html?vid="+a,this.platform.BIGPORTAL):""},getBpLiveDetailUrl:function(a){return a?this.getFullUrlPath("/bigportal/live/tv/"+a+".html",this.platform.BIGPORTAL):""},getBpSearchUrl:function(a,b,c){var d="";b=b||"",c&&c>=1e4||(c=0),c&&c>=1e4&&(d="&uin="+c);var e="/bigportal/search.html?pagetype=1&stag="+b+"&ms_key="+encodeURIComponent(a)+d;return this.getFullUrlPath(e,this.platform.BIGPORTAL)},getBpPlayUrl:function(a,b){if(!a)return"";if(15==a.length){var c="qqlive://sso/vbarid="+a;return b&&11==b.length&&(c+="&videoid="+b),c}return 11==a.length?"qqlive://sso/videoid="+a:""},getAvatar:function(a,b){return b=b||50,["http://qlogo",a%4+1,".store.qq.com/qzone/",a,"/",a,"/",b].join("")},formatVarietyVideoTitle:function(a){return"string"!=typeof a?"":a.replace(/^(\d{2})(\d{2})(\d{2})([^_]+)(_?\d*)$/gi,"$4 20$1-$2-$3期")}}),function(a,b){function c(a){a=a||{},this.config={defaultTxt:"",inputBox:b("#iWord"),sugSelector:b("#sgt_list"),searchBtn:b("#sbutton"),suggestCgi:c.search_suggest,searchCgi:c.search_cgi,searchForm:o.sform,sugCover:b("#mod_keywords_list"),elStag:b("#searchbox_hid_stag"),elTj2btn:b("#searchbox_hid_tj2btn"),defaultCls:"mod_search_txt",focusCls:"onfocus",currentCls:"current",expandCls:"expand",showSuggest:!0,showSmartHistory:!0,render:null,renderMethodName:"",callback:{onInputboxFocus:p,onInputboxBlur:p}},b.extend(!0,this.config,a),this.selectedIndex=-1,this.smartWord="",this.suggestAb="",this.itemsCount=0,this.timer=[],this.hadModify=!1,this.showSuggestCb=b.Callbacks("unique"),this.hideSuggestCb=b.Callbacks("unique")}function d(a){c.call(this,a),this.typemap={DY:1,TV:2,DM:3,MV:22,ZY:10,YC:103,JLP:9},this.itemTypeMap={SP:1,RM:2,RC:3,ZB:5,ZT:101},this.flag={isMix:!1},this.hotkeyObj={go:"search.search",smartBox:"search.smartbox",hotwordtj2:"search.hotword",smartBoxStag:"txt.smart_index",defaultStag:"txt.index",hotwordStag:"txt.index_hotword",historyStag:"txt.historyword"}}function e(){d.call(this,conf),this.hotkeyObj={go:"search.minisearch",smartBox:"search.minismartbox",hotwordtj2:"search.minihotword",smartBoxStag:"txt.smart_slide",defaultStag:"txt.slide",hotwordStag:"txt.slide_hotword"}}function f(a,b,c,d){var e=this,f=e.typemap,g="http://v.qq.com",h=[],i=a.id;if("高清"!=a.sharp&&"超清"!=a.sharp&&(a.sharp=""),""==i)h.push(['<li act="search"><a href="javascript:;" target="_self"><span class="result_detail"><span class="result_title">',a.title,"</span></span></a></li>"].join(""));else switch(b){case f.DY:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,'</span><span class="result_HD">',a.sharp,"</span></span></a> </li>"].join(""));break;case f.TV:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,'</span><span class="result_HD">',a.sharp,'</span><span class="result_new">',a.ex.title,"</span></span></a></li>"].join(""));break;case f.MV:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,'</span><span class="result_singer">歌手：',a.ex.title,'</span><span class="result_HD">',a.sharp,"</span></span></a></li>"].join(""));break;case f.YC:case f.ZY:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,"</span></span></a></li>"].join("")),a.ex&&a.ex.id&&(tmpUrl=txv.common.getDetailUrl(a.ex.id,b),-1==tmpUrl.indexOf(g)&&(tmpUrl=[g,tmpUrl].join("")),h.push(['<li act="click" playurl="',tmpUrl,'"><a href="javascript:;" target="_self"><span class="result_new_info"> - 最新一期 (第',a.ex.date.substring(0,10),'期)</span><span class="result_new_info_detail">',a.ex.byname,"</span></a></li>"].join("")),e.itemsCount++);break;case f.JLP:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,'</span><span class="result_HD">',a.sharp,"</span></span></a></li>"].join(""));break;default:h.push(['<li act="search" playurl="',a.url,'"><a href="javascript:;" target="_self"><span class="result_type">',a["class"],'</span><span class="result_detail"><span class="result_title">',a.title,"</span></span></a></li>"].join("")),a.ex&&a.ex.id&&(tmpUrl=txv.common.getDetailUrl(a.ex.id,b),-1==tmpUrl.indexOf(g)&&(tmpUrl=[g,tmpUrl].join("")),h.push(['<li act="click" playurl="',tmpUrl,'"><a href="javascript:;" target="_self"><span class="result_new_info"> - 最新一期 (第',a.ex.date.substring(0,10),'期)</span><span class="result_new_info_detail">',a.ex.byname,"</span></a></li>"].join("")),e.itemsCount++)}return h.join("")}function g(a,b,c,d){return f.apply(this,arguments)}function h(a,c,d,e){var f=this,g=[],h=a.ps,i=a.ss,j="",k="",l="",m="",n="ll_src",o=f.typemap,p=f.itemTypeMap,q=a.itemType;if(a.da&&(j="("+a.da+")&nbsp;"),1==c&&a.pd&&(k='<p class="list">导演：'+a.pd+"</p>"),2==c&&a.ex&&a.ex.title&&(k='<p class="list">'+a.ex.title+"</p>"),3!=c&&9!=c||!a.ar||(k='<p class="list">地区：'+a.ar+"</p>"),a.pa=a.pa||"",a.pa=a.pa.replace(/\+/g," "),1!=c&&2!=c||!a.pa||(l='<p class="list">主演：'+a.pa+"</p>"),3!=c&&9!=c||!a.sn||(l='<p class="list">类型：'+a.sn+"</p>"),1!=h||1!=i||d.hasExpand||(d.hasExpand=!0,n="src",m="expand"),g.push('<li ps="'+h+'" ss="'+i+'" class="'+m+'">'),g.push('<a href="javascript:void(0);" target="_self" class="items">'),1==h&&1==i&&g.push('<span class="item_posi"><i class="icon_arrow"></i></span>'),g.push('<span class="result_detail">'),g.push('<span class="result_title">'+a.title+"</span>"),g.push('<span class="title_desc">'+j+a["class"]+"</span>"),g.push("</span>"),g.push("</a>"),1==h&&1==i){if(g.push('<div class="wrap_content">'),g.push('<a href="javascript:;" class="figure"><img '+n+'="'+a.dc+'" onerror="picerr(this, 2)""></a>'),q==p.ZB)g.push('<div class="wrap_right"><div class="detail_list">'),a.tt&&g.push('<h3 class="list_subtitle">'+a.tt+"</h3>"),g.push('<p class="list">'+a.secondLine+"</p>"),g.push("</div>"),a.url&&g.push('<a href="'+a.url+'" class="btn_play" target="_blank" nopropagation="true">'+{"-1":"立即播放",0:"观看直播",1:"查看详情"}[a.status]+"</a>");else if(q==p.ZT)g.push('<div class="wrap_right"><div class="detail_list">'),g.push('<p class="list_subtitle" title="'+a.tt+'">'+QZFL.string.cut(a.tt,80,"...")+"</p>"),g.push("</div>"),a.url&&g.push('<a href="'+a.url+'" class="btn_play" target="_blank" nopropagation="true">查看详情</a>');else switch(+c){case o.ZY:if(g.push('<div class="wrap_right wrap_layout_12">'),a.ex&&b.isArray(a.ex.pl))for(var r=0,s=a.ex.pl.length;s>r;r++){var t=a.ex.pl[r];g.push('<p class="list"><a href="'+t.u+'" class="btn_grey_sim" target="_blank" nopropagation="true">'+t.en+"期 "+t.ti+"</a></p>")}a.live_url&&g.push('<a href="'+a.live_url+'" class="btn_play" target="_blank" nopropagation="true" data-reporttype="live">正在直播</a>'),g.push("</div>");break;default:var u=[];if(a.tt&&a.tt!=a.word&&u.push(a.tt),a.et&&a.et!=a.word&&u.push(a.et),g.push('<div class="wrap_right"><div class="detail_list">'),u.length>0&&g.push('<h3 class="list_subtitle">'+u.join("/")+"</h3>"),g.push(k),g.push(l),g.push("</div>"),g.push('<a href="'+a.url+'" class="btn_play" target="_blank" nopropagation="true">立即播放</a>'),a.ticket){var v=$j.parseJSON(a.ticket);g.push('<a href="'+v.ticket_url+'" target="_blank" class="btn_ticket">买电影票</a><a href="'+v.ticket_url+'" target="_blank" class="btn_tips">'+v.ticket_city+"最低价：￥"+v.ticket_price+"元</a>")}g.push("</div>")}g.push("</div>")}return g.push("</li>"),g.join("")}function i(a,b){var c=function(){};c.prototype=a.prototype,b.prototype=new c,b.prototype.constructor=b}function j(a){var c=o.createElement("div"),d=b(c).text(a).html();return c=null,d}function k(a){QZFL.Storage.get(y,function(b){"function"==typeof a&&a(b)})}function l(a){QZFL.Storage.get(y,function(b){
b=b||"";for(var c=b?b.split("|"):[],d=-1,e=encodeURIComponent(a),f=0,g=c.length;g>f;f++)if(c[f]==e){d=f;break}-1!=d&&c.splice(d,1),c.length>9&&c.pop(),c.unshift(e),QZFL.Storage.set(y,c.join("|"))})}function m(){QZFL.Storage.set(y,"")}function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}a=a||{};var o=window.document,p=function(){},q="http://rcgi.video.qq.com/report/search?",r=(reg=/<em.*?>(.*?)<\/em>/gi,'<li act="history"><a href="javascript:void(0);" class="items"><span class="result_detail"><span class="result_title">{search_word}</span></span></a></li>'),s={},t={},u=!1,v=n(),w="",x=[];c.search_cgi="http://v.qq.com/search.html",c.search_suggest="http://s.video.qq.com/smartbox?plat=2&ver=0&num=10&otype=json&query=",c.showSuggestCb=b.Callbacks("unique"),c.hideSuggestCb=b.Callbacks("unique"),c.addOnShowSelectorCallBack=c.showSuggestCb.add,c.addOnHideSelectorCallBack=c.hideSuggestCb.add,c.typedef={DEFAULT:0,COMPLEX:1,SIMPLE:2},c.renderNameDef={complex:"complex",simple:"simple",v2:"v2"},c.defaultInit=function(a,b){b=b||{},a=parseInt(a,10);var f;switch(a){case c.typedef.COMPLEX:f=new d;break;case c.typedef.SIMPLE:f=new e;break;case c.typedef.DEFAULT:default:f=new c}return f.init(b),f},c.registerRenderMethod=function(a,b){a&&"function"==typeof b&&(t[a]=b)},b.extend(c.prototype,{init:function(a){var d=this,e=d.$inputAb=b('<input type="hidden" name="smartbox_ab" value="">');a=a||{},b.extend(!0,d.config,a),d.config.defaultTxt||d.getDefauKeyword(),d.initEvent(),d.config.searchForm&&(d.config.searchForm.action=d.config.searchCgi,d.config.searchForm.appendChild(e[0]),d.config.searchForm.onsubmit=function(a){return e.val(""!=d.config.sugSelector.html()&&-1!=d.selectedIndex?d.suggestAb:""),d.onBeforeSubmit()?d.validate():!1}),d.config.renderMethodName==c.renderNameDef.v2&&0==d.config.sugCover.find("a.clear_history").size()&&d.config.sugCover.append('<a href="javascript:;" style="" class="btn_grey_sim clear_history">清空搜索记录</a>'),d.config.sugCover.find("a.clear_histor").hide()},initEvent:function(){var a=this,c=a.config.inputBox;c.bind("keyup",function(b){a.onKeyup(b)}),c.bind("keydown",function(b){a.onKeydown(b);var d=c.val();d?a.hadModify=!0:a.hadModify=!1}),c.bind("blur",function(b){var d=c.val();c.removeClass(a.config.focusCls),a.hadModify&&d||(a.config.showSmartHistory===!1&&(a.hadModify=!0),d&&d!==a.config.defaultTxt?a.hadModify=!0:c.val(a.config.defaultTxt)),u||a.hideSelector(),"function"==typeof a.config.callback.onInputboxBlur&&a.config.callback.onInputboxBlur()}),c.bind("focus",function(b){c.addClass(a.config.focusCls),a.onFocus(this,b)}),c.bind("paste",function(b){setTimeout(function(){a.hadModify=!0,a.getSuggest()},5)}),c.bind("webkitspeechchange",function(b){b.stopPropagation(),b.results&&b.results.length>0&&(this.value=b.results[0].utterance,a.hadModify=!0,a.getSuggest())}),a.config.sugSelector.undelegate("li","click").delegate("li","click",function(c){var d=b(this),e=d.attr("act");"history"!==e&&("click"===e?a.dataReport(this,"normal",{sval3:encodeURIComponent(d.attr("playurl")||"")}):a.dataReport(this,"search",{sval:""})),a.onListClick(this,c)}),a.config.sugCover.delegate("li","mouseenter mouseleave",function(c){"mouseenter"==c.type&&a.choose(b(this).index())}),a.config.sugCover.hover(function(){u=!0},function(){u=!1}),a.config.sugCover.bind("blur",function(b){a.hideSelector()}),a.config.sugCover.delegate("a.clear_history","click",function(b){a.hideSelector(),m()}),a.initExtEvent()},initExtEvent:function(){},onFocus:function(a,c){var d=this;b.trim(a.value);d.suggestAb="",d.hadModify?d.getSuggest():(a.value="",d.getHistory()),"function"==typeof d.config.callback.onInputboxFocus&&d.config.callback.onInputboxFocus()},getHistory:function(){var a=this;a.suggestAb="",k(function(b){if(b){var d=b.split("|"),e=[];a.itemsCount=d.length;for(var f=0,g=d.length;g>f;f++){var h=d[f];h=decodeURIComponent(h),h=j(h),e.push(r.replace("{search_word}",h))}a.config.sugSelector.html(e.join("")),a.config.sugSelector.show(),a.config.sugCover.find("a.clear_history").show(),a.config.sugCover.show(),a.showSuggestCb.fire(),c.showSuggestCb.fire()}})},submit:function(){this.validate()&&(this.$inputAb.val(-1!=this.selectedIndex?this.suggestAb:""),this.config.searchForm.submit())},validate:function(){var a=this,c=b.trim(a.config.inputBox.val());if(!c)return!1;if("utf-8"!=o.charset){var d=o.charset;o.charset="utf-8",setTimeout(function(){o.charset=d},10)}return a.config.inputBox.val(c),l(c),!0},onKeyup:function(a){var b=this;if(38!=a.keyCode&&40!=a.keyCode){var c=b.config.inputBox.val();return c?void(b.timer[0]=setTimeout(function(){clearTimeout(b.timer[0]),b.timer[0]=null,b.getSuggest()},300)):(b.getHistory(),void(b.hadModify=!1))}},onKeydown:function(a){var b=this;b.timer[0]&&(clearTimeout(b.timer[0]),b.timer[0]=null),38==a.keyCode?(a.preventDefault(),b.choose("up",!0),b.hadModify=!0):40==a.keyCode&&(a.preventDefault(),b.choose("down",!0),b.hadModify=!0)},choose:function(a,b){var c=this;b|=!1,"string"==typeof a?"up"==a?(c.selectedIndex<=0&&(c.selectedIndex=c.itemsCount),c.selectedIndex--):"down"==a&&(c.selectedIndex>=c.itemsCount-1&&(c.selectedIndex=-1),c.selectedIndex++):"number"==typeof a&&(c.selectedIndex=a);var d=c.config.sugSelector.find("li:eq("+c.selectedIndex+")");c.setCurrentCls(d,c.selectedIndex),b&&c.setVal(d)},setCurrentCls:function(a,b){var c=this,d=c.config.currentCls||"current";c.config.sugSelector.find("li."+d).removeClass(d),a.addClass(d)},setVal:function(a){this.config.inputBox.val(a.text())},hideSelector:function(){u=!1,this.config.sugCover.hide(),this.config.sugSelector.hide(),this.config.sugSelector.html(""),this.hideSuggestCb.fire(),c.hideSuggestCb.fire()},getSuggest:function(){var a=this,c=b.trim(this.config.inputBox.val());return a.suggestAb="",c?(a.selectedIndex=-1,a.smartWord=c,s[c]?void a.afterSuggest(s[c]):void a.getCgiSuggest(c)):void a.hideSelector()},getCgiSuggest:function(a){var c=this;b.getJsonp(c.config.suggestCgi+encodeURIComponent(a)+"&uid="+v,function(d){if(!d||!d.head||!b.isArray(d.item))return void c.hideSelector();var e=d.item.length;return 0==e?void c.hideSelector():(s[a]=d,void c.afterSuggest(s[a]))})},afterSuggest:function(a){var b=this;b.suggestAb=a&&a.head&&a.head.ab_result||"",w=a&&a.head&&a.head.qid||"",x=a&&a.item||[],b.renderSuggest(a),b.config.sugSelector.show(),b.config.sugCover.find("a.clear_history").hide(),b.config.sugCover.show(),b.config.sugCover.css("display","block"),b.showSuggestCb.fire(),c.showSuggestCb.fire()},renderSuggest:function(a){var b=this,c=[],d=b.config;b.itemsCount=a.item.length;for(var e=0,f=a.item.length;f>e;e++)c.push(b.renderItem(a.item[e]));d.sugSelector.html(c.join(""))},renderItem:function(){return"function"==typeof this.config.render?this.config.render.apply(this,arguments):this.render.apply(this,arguments)},render:function(){var a=this.config.renderMethodName||c.renderNameDef.complex;return a&&"function"==typeof t[a]?t[a].apply(this,arguments):void 0},onListClick:function(a){var c=this,d=c.config.inputBox.val(),e=b(a).index();this.choose(e,!0),this.hideSelector(),this.submit(),c.config.inputBox.val(d)},onBeforeSubmit:function(){return!0},getDefauKeyword:function(){var a=this;QZFL.Storage.get("txv_search_keyword",function(b){b=b||"",b=b.split("|");var c=a.config.inputBox.val();a.config.defaultTxt=j(b[0])||c,(a.config.showSmartHistory===!1&&c||c&&c!=a.config.defaultTxt)&&(a.hadModify=!0),a.config.defaultTxt=c||a.config.defaultTxt})},addOnShowSelectorCallBack:function(){this.showSuggestCb.add(arguments)},addOnHideSelectorCallBack:function(){this.hideSuggestCb.add(arguments)},dataReport:function(a,c,d){d=d||{};var e=this,f=b(a),g=e.config.sugSelector.find("li:eq("+e.selectedIndex+")"),c=c||"normal",h={normal:1,ticket:101,live:102,search:7},i=b.extend({qid:w||"",action:101,ival1:e.selectedIndex+1,ival2:h[c],ival7:e.flag.isMix?11:10,sval:"self",sval1:encodeURIComponent(e.smartWord),sval2:encodeURIComponent(g.find(".result_title").text()||g.find(".result_new_info").text()),sval3:encodeURIComponent(f.attr("href")||""),sval6:encodeURIComponent(e.report101Sval6()),platform:"10201",uid:v,curl:encodeURIComponent(location.href)},d),j=[];j.push(q);for(var k in i)j.push(k,"=",i[k],"&");j.push("_t="+(new Date).valueOf());var l=new Image;l.onload=l.onerror=l.onabort=p,l.src=j.join("")},report101Sval6:function(){for(var a=x||[],b=a.length,c=[],d=0;b>d;d++)c.push(encodeURIComponent(a[d].word));return c.join("+")}}),i(c,d),b.extend(d.prototype,{onBeforeSubmit:function(){var b,c,d=!0,e=this.config.elStag,f=this.config.elTj2btn;if(""!=this.config.sugSelector.html()&&-1!=this.selectedIndex){if(b=this.config.sugSelector.find("li:eq("+this.selectedIndex+")"),c=b.attr("act"),"click"==c){a.tj2.button(this.hotkeyObj.smartBox);var g=b.attr("playurl");g&&""!=g&&window.open(g),this.hideSelector(),d=!1}else"history"==c?(e.val(this.hotkeyObj.historyStag),f.val(this.hotkeyObj.smartBox)):(e.val(this.hotkeyObj.smartBoxStag),f.val(this.hotkeyObj.smartBox));this.hideSelector()}else this.hadModify?(e.val(this.hotkeyObj.defaultStag),f.val(this.hotkeyObj.go)):(e.val(this.hotkeyObj.hotwordStag),f.val(this.hotkeyObj.hotwordtj2));return d},onListClick:function(c,d){var e=this,f=b(c),g=f.attr("act"),h=f.index(),i=this.config.elStag,j=this.config.elTj2btn;if("click"==g){a.tj2.button(this.hotkeyObj.smartBox);var k=f.attr("playurl");return k&&""!=k&&window.open(k),void this.hideSelector()}var l=e.config.inputBox.val();"history"==g?(j.val(this.hotkeyObj.smartBox),i.val(this.hotkeyObj.historyStag)):(j.val(this.hotkeyObj.smartBox),i.val(this.hotkeyObj.smartBoxStag)),this.choose(h,!0),this.hideSelector(),this.submit(),j.val(this.hotkeyObj.go),i.val(this.hotkeyObj.defaultStag),e.config.inputBox.val(l)},renderSuggest:function(a){var c,d,e=this,f=[];if(a&&b.isArray(a.item)){e.flag.isMix=a.head&&1==a.head.mix,e.itemsCount=a.item.length,a.hasExpand=!1;for(var g=0;g<a.item.length;g++)c=a.item[g],d=-1,c.ex&&c.ex.typeid&&(d=parseInt(c.ex.typeid,10)),f.push(e.renderItem(c,d,a,g));e.config.sugSelector.html(f.join(""))}},setCurrentCls:function(a,c){var d=this,e=a.attr("ss"),f=d.config.currentCls||"current",g=d.config.expandCls||"expand";d.config.sugSelector.find("li."+f).removeClass(f),a.addClass(f),1==e&&(d.config.sugSelector.find("li."+g).removeClass(g),a.addClass(g)),a.find("img").each(function(a,c){var d=b(c);d.attr("src")||setTimeout(function(){d.attr("src",d.attr("ll_src"))},0)})},setVal:function(a){a.attr("act");this.config.inputBox.val(a.find(".result_title").text())},initExtEvent:function(){var a=this;this.config.sugSelector.delegate("li a[nopropagation]","click",function(c){c.stopPropagation();var d=b(this).attr("data-reporttype");a.dataReport(this,d),a.hideSelector()}),this.config.sugSelector.delegate("li a.btn_ticket","click",function(b){b.stopPropagation(),a.dataReport(this,"ticket"),a.hideSelector()}),this.config.sugSelector.delegate("li a.btn_tips","click",function(b){b.stopPropagation(),a.dataReport(this,"ticket"),a.hideSelector()})}}),i(d,e),b.extend(e.prototype,{}),c.registerRenderMethod(c.renderNameDef.complex,f),c.registerRenderMethod(c.renderNameDef.simple,g),c.registerRenderMethod(c.renderNameDef.v2,h);var y="txv_search_history";b.extend(a,{SearchBox:c,ComplexSearchBox:d,SimpleSearchBox:e})}(Live,$j),Live.FloatMenu=function(a){this.mark1=!1,this.mark2=!1,this.effectShow=!1,this.effectShowDuration=200,this.effectShowTimer=null,this.menuHeight=0,this.showing=!1,this.isNeedChangeDisplay=!0,this.area=null,this.menu=null,this.areaOutdelay=500,this.menuOutdelay=100,this.onShow=null,this.onHide=null;var b=this,c=!1;for(var d in a)this[d]=a[d];this.useHtml5()?this.area.bind("click",function(a){c?(b.mark1=!1,b.mark2=!1,b.hideMenu(),c=!1):(b.mark1=!0,b.mark2=!0,b.showMenu(),c=!0),QZFL.event.preventDefault(a)}):"function"==typeof this.area.onMouseEnter?(this.area.onMouseEnter(function(){b.mark1=!0,b.showMenu()}),this.menu.onMouseEnter(function(a){b.mark2=!0,b.showMenu()}),this.area.onMouseLeave(function(){b.mark1=!1,setTimeout(function(){b.hideMenu()},b.areaOutdelay)}),this.menu.onMouseLeave(function(a){b.mark2=!1,setTimeout(function(){b.hideMenu()},b.menuOutdelay)})):"function"==typeof this.area.mouseenter&&(this.area.mouseenter(function(){b.mark1=!0,b.showMenu()}),this.menu.mouseenter(function(a){b.mark2=!0,b.showMenu()}),this.area.mouseleave(function(){b.mark1=!1,setTimeout(function(){b.hideMenu()},b.areaOutdelay)}),this.menu.mouseleave(function(a){b.mark2=!1,setTimeout(function(){b.hideMenu()},b.menuOutdelay)}))},Live.FloatMenu.prototype={showMenu:function(){this.showing||!this.mark1&&!this.mark2||(this.showing=!0,this.onShow&&this.onShow(this),this.effectShow?this.setEffectShow(1):this.isNeedChangeDisplay&&this.menu.show())},useHtml5:function(){return Live.userAgent.isiPad||Live.userAgent.isiPhone||/\(ipod;/i.test(navigator.userAgent)},hideMenu:function(){this.mark1||this.mark2||(this.onHide&&this.onHide(this),this.effectShow?this.setEffectShow(2):this.isNeedChangeDisplay&&this.menu.hide(),this.showing=!1)},setEffectShow:function(a){if(0==this.menuHeight&&(this.menuHeight=parseInt(this.menu.css("height"),10)||0),0!=this.menuHeight){var b,c=this,d=10,e=this.menuHeight/10;switch(clearInterval(this.effectShowTimer),a){case 1:b=0,this.menu.css("height","0px"),this.menu.show(),this.effectShowTimer=setInterval(function(){b+=e,b>=c.menuHeight?(c.menu.css("height",c.menuHeight+"px"),clearInterval(c.effectShowTimer)):c.menu.css("height",b+"px")},c.effectShowDuration/d);break;case 2:b=this.menuHeight,this.menu.css("height",b+"px"),this.effectShowTimer=setInterval(function(){b-=e,0>=b?(c.menu.hide(),clearInterval(c.effectShowTimer)):c.menu.css("height",b+"px")},c.effectShowDuration/d)}}},getEventTarget:function(a){return a=a||window.event,a.target||a.srcElement}},Live.retCode={TYPE:{SUC:1,ERR:2},config:{cgi:"http://isdspeed.qq.com/cgi-bin/v.cgi",v4_cgi:"http://c.isdspeed.qq.com/code.cgi",sampling:1},commCode:{error:11,MQzone_Err:12},report:function(a,b,c,d){if(a&&!(isNaN(b)||1>b)&&"undefined"!=typeof c){var e=this.config.cgi;e+="?flag1="+a.toString()+"&flag2="+b.toString()+"&1="+Live.retCode.config.sampling+"&2="+c,d&&(e+="&flag3="+d.toString());var f=new Image;f.src=e}},getUrlPath:function(a){var b=/(?:\?.*|#.*)/;return a=a.replace(b,""),a=a.split("/"),{host:a[2],path:"/"+a.slice(3).join("/")}},report_v4:function(a,b,c,d,e){if(!(isNaN(c)||1>c)&&"undefined"!=typeof d){var f=this.config.v4_cgi,e=e||"0";f+="?domain="+a.toString()+"&cgi="+b.toString()+"&type="+c+"&rate="+Live.retCode.config.sampling+"&time="+d+"&code="+e.toString()+"&uin="+(Live.cookie.get("uin")||Live.cookie.get("luin")||"").replace(/^o0*/g,"");var g=new Image;g.src=f}}},Live.RetCode=function(a){this.appid=a,this.timer={begin:0,end:0},this.isReported=!1,this.domain="",this.path="";var b={};"string"==typeof a&&0==a.indexOf("http")&&(b=Live.retCode.getUrlPath(a),b&&b.host&&(this.domain=b.host,this.path=b.path,this.appid=0))},Live.RetCode.prototype={begin:function(){this.timer.begin=(new Date).valueOf()},end:function(){this.timer.end=this.timer.end||(new Date).valueOf()},reprot:function(a,b){this.report(a,b)},report:function(a,b){if(!this.isReported){this.end();var c=this.timer.end-this.timer.begin;this.appid>0?Live.retCode.report(this.appid,a,c,b):this.domain&&Live.retCode.report_v4(this.domain,this.path,a,c,b),this.isReported=!0}},reprotSuc:function(){this.reportSuc()},reportSuc:function(){this.report(Live.retCode.TYPE.SUC)},reportErr:function(a){a=a||Live.retCode.commCode.error,this.report(Live.retCode.TYPE.ERR,a)}},Live.Login=function(a){var b=this,c={};a=a||{},this.getConfig=function(b){return a[b]},this.setConfig=function(b,c){"string"==typeof b?a[b]=c:$j.extend(a,b)},$j.each(["ClearLoginStatus","OpenLogin","CloseLogin","Login","LoginCancel","Logout","UserInfoChanged"],function(a,d){if(!c[d]){var e=$j.Callbacks("unique");c[d]=e,b["add"+d+"Callback"]=e.add,b["remove"+d+"Callback"]=e.remove,b["empty"+d+"Callback"]=e.empty,b["on"+d]=e.fireWith}}),$j.each(["Ready"],function(a,d){if(!c[d]){var e=$j.Callbacks("unique memory once");c[d]=e,b["add"+d+"Callback"]=e.add,b["remove"+d+"Callback"]=e.remove,b["empty"+d+"Callback"]=e.empty,b["on"+d]=e.fireWith}})},$j.each(["getUin","getNick","getAvatar","getSkey","openLogin","logout","isLogin","clearLoginCookie","getEncUin","setStatus"],function(a,b){Live.Login.prototype[b]=function(){}}),Live.login=function(){var a=null;return{init:function(b){a instanceof Live.Login?a.setConfig(b):(a=new Live.Login(b),$j.extend(Live.login,a))}}}(),Live.template={trimpath:"http://qzs.qq.com/tencentvideo_v1/js/trimpath.min.js?max_age=60480000",_isLoadingJS:!1,_getJsDtd:null,_callStack:0,_currentTopModifiers:null,FILL_TYPE:{TPL_ID:1,TPL_STR:2},convertTime:function(a){function b(a){return 10>a?"0"+a:a}var c=a.getMonth()+1,d=a.getDate(),e=a.getHours(),f=a.getMinutes(),g=a.getSeconds();return{year:a.getFullYear(),month:c,day:d,hour:b(e),min:b(f),sec:b(g)}},MODIFIERS:{getAvatar:function(a,b){return Live.util.getAvatar(a,b)},formatTime:function(a){if(!/\d+/.test(a))return a;var b=1e3*parseInt(a),c=new Date(b),d=Live.template.convertTime(c);return[[d.year,d.month,d.day].join("-"),[d.hour,d.min,d.sec].join(":")].join(" ")},getTimeLong:function(a){var b=parseInt(a/60),c=a%60;return""+b+"分钟"+c+"秒"},getTimeLong2:function(a){var b=parseInt(a/60),c=a%60;return""+b+"&#039;"+c+"&#034;"},getTimeLong3:function(a){var b=parseInt(a/60),c=a%60;return 10>b&&(b="0"+b),10>c&&(c="0"+c),[b,":",c].join("")},getFormatNum:function(a){if(!a||"number"!=typeof a)return 0;for(var b=(""+a).split("").reverse(),c=[],d=0,e=b.length;e>d;d++)d>0&&d%3==0&&c.push(","),c.push(b[d]);return c.reverse().join("")},encode2:function(a){return encodeURIComponent(a.replace(/<em[^>]+>/g,"").replace(/<\/em>/g,""))},filterComment:function(a){return a.replace(/\\r\\n/gi,"<br/>")},encode:function(a){return encodeURIComponent(a)},filterStr:function(a){return QZFL.string.filterAngAndQt(a)},escHTML:function(a){return QZFL.string.escHTML(a)},restHTML:function(a){return QZFL.string.restHTML(a)},s2nb:function(a){return QZFL.string.s2nb(a)},nl2br:function(a){return QZFL.string.nl2br(a)},getTimeDiff:function(a){if(isNaN(a))return a;/^\d{10}$/.test(a)&&(a=1e3*a);var b=new Date(a),c=new Date,d=3600*c.getHours()+60*c.getMinutes()+c.getSeconds(),e=(new Date).valueOf(),f=parseInt((e-a)/1e3),g="";if(60>f)g="刚刚";else if(f>60&&3600>f)g=Math.ceil(f/60)+"分钟前";else{var h=Live.template.convertTime(b);g=f>=3600&&d>f?"今天 "+h.hour+":"+h.min:f>d&&d+86400>f?"昨天 "+h.hour+":"+h.min:h.month+"月"+h.day+"日 "+h.hour+":"+h.min}return g},template:function(a,b){var c=Live.template.fillHtml(a,b);return c}},fillHtml:function(a,b,c,d,e,f,g,h){function i(a,b,c,d,e,g,h,i){Live.template._isLoadingJS=!1;var j,k,l=!0,m="";return j=$j("string"==typeof c?"#"+c:c),0==j.size()&&(l=!1),"undefined"==typeof f&&(f=Live.template.FILL_TYPE.TPL_ID),f==Live.template.FILL_TYPE.TPL_ID&&!getElementById(b)||f==Live.template.FILL_TYPE.TPL_STR&&!b?void 0:("undefined"==typeof d&&(d=!0),"undefined"==typeof f&&(f=Live.template.FILL_TYPE.TPL_ID),Live.template._callStack>0?a._MODIFIERS=Live.template._currentTopModifiers:(a._MODIFIERS=e||Live.template.MODIFIERS,Live.template._currentTopModifiers=a._MODIFIERS),Live.template._callStack++,k=f==Live.template.FILL_TYPE.TPL_ID?TrimPath.parseDOMTemplate(b):TrimPath.parseTemplate(b),m=k.process(a),Live.template._callStack--,0==Live.template._callStack&&null==Live.template._currentTopModifiers,l&&(d?j.html(m):j.append(m),i&&j.find("a").attr("target","_self")),"function"==typeof h&&h(m),m)}return"undefined"!=typeof TrimPath?i(a,b,c,d,e,f,g,h):(0==Live.template._isLoadingJS&&(Live.template._isLoadingJS=!0,Live.template._getJsDtd=$j.getScript(Live.template.trimpath)),void Live.template._getJsDtd.done(function(){0==Live.template._isLoadingJS,i(a,b,c,d,e,f,g,h)}).fail(function(){0==Live.template._isLoadingJS,Live.template.fillHtml(a,b,c,d,e,f,g,h)}))}},seajs.config({alias:{slider:"tencentvideo/js/widget/slider.js?v=20131016",tvp:"http://imgcache.gtimg.cn/tencentvideo_v1/tvp/js/tvp.player_v2.js","widget.follow":"tencentvideo/js/widget/follow.js?v=20160328","widget.follow_core":"tencentvideo/js/widget/follow_core.js?v=20131226",pv_report:"tencentvideo/script/module/pv_report.js",post:"tencentvideo/js/widget/post.js?v=20140701"},paths:{tencentvideo:"http://qzs.qq.com/tencentvideo_v1",myhome:"http://qzs.qq.com/tencentvideo_v1/script/myhome/",ticket:"http://qzs.qq.com/tencentvideo_v1/script/ticket/",module:"http://qzs.qq.com/tencentvideo_v1/script/module/",usercenter:"http://qzs.qq.com/tencentvideo_v1/script/usercenter/",active_hlw:"http://qzs.qq.com/tencentvideo_v1/js/film/active"}}),Live=Live||{},Live.txv={isLoaded:!1,ver:"$Rev: 11343 $",lastmodify:"$Date: 2011-09-29 10:37:23 +0800 (周四, 29 九月 2011) $",isDebug:!1};var txv=window.txv=Live.txv;Live.tj2.keyPrefix="txv.",Live.virtualpgv.virtualPath="/txv/",QZFL&&QZFL.object&&(QZFL.object.extend(Live,{inArray:function(a,b){if("array"!=Live.object.getType(b))return-1;for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1}}),("v.qq.com"!=location.hostname||QZFL.userAgent.ie&&QZFL.userAgent.ie<8)&&(QZFL.Storage.helperUrl="http://v.qq.com/storage_helper.html",QZFL.Storage.setOptions({share:!0}))),Live.txv.path={trimpath:"http://imgcache.qq.com/tencentvideo_v1/js/trimpath.min.js",filmCritic:"http://sns.video.qq.com/fcgi-bin/liveportal/getfilmcritic?otype=json",userComment:"http://sns.video.qq.com/fcgi-bin/liveportal/comment?otype=json",videoInfo:"http://sns.video.qq.com/tvideo/fcgi-bin/video?otype=json",videoTagInfo:"http://sns.video.qq.com/tvideo/fcgi-bin/vtag?otype=json",search_cgi:"http://v.qq.com/search.html?pagetype=3",search_suggest:"http://sns.video.qq.com/fcgi-bin/soso_suggestion?sm_category=3&sm_need_num=10&otype=json&sm_key=",search_suggest2:"http://s.video.qq.com/smartbox?plat=2&ver=0&num=10&otype=json&query=",pingfencgi:"http://sns.video.qq.com/fcgi-bin/portalscore?otype=json",favouritecgi:"http://sns.video.qq.com/fcgi-bin/liveportal/favorite",weiboget:"http://sns.video.qq.com/tvideo/fcgi-bin/opmicroblog?otype=json",weiboSend:"http://sns.video.qq.com/tvideo/fcgi-bin/pubmblog",weiboSend_2:"http://sns.video.qq.com/tvideo/fcgi-bin/livepubmblog4po",videoRelate:"http://sns.video.qq.com/tvideo/fcgi-bin/relatedvideo?otype=json",singerMVList:"http://sns.video.qq.com/tvideo/fcgi-bin/GetSingerMV?otype=json",flashReport:"http://rcgi.video.qq.com/tencentvideo_report?",html5_video_cgi:"http://vv.video.qq.com/geturl?otype=json",addMvMusicBox:"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_add.fcg",queryMvMusicBox:"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_isadded.fcg",delMvMusicBox:"http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_mod.fcg",mvMusicFav:"http://qzone-music.qq.com/fcg-bin/fcg_mvlist_add.fcg",videoViewNum:"http://sns.video.qq.com/tvideo/fcgi-bin/viewnum?otype=json",getCoverInfo:"http://sns.video.qq.com/fcgi-bin/coverdetail?otype=json",hls_video_cgi:"http://vv.video.qq.com/gethls?otype=json&format=2",coverViewNum:"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=55&otype=json",videoRecommend:"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=163&otype=json",bokeplayhost:"play.v.qq.com",kid_list_autodata:"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=53&",bookcgi:"http://sns.video.qq.com/fcgi-bin/liveportal/nbook",getBookCgi:"http://sns.video.qq.com/fcgi-bin/liveportal/norder",recommendCgi:"http://sns.video.qq.com/tvideo/fcgi-bin/spvote",queryHistoryRecordCgi:"http://ncgi.video.qq.com/tvideo/fcgi-bin/myview",addHistoryRecordCgi:"http://rcgi.video.qq.com/report/myviewreport",batchgetscoreCgi:"http://sns.video.qq.com/tvideo/fcgi-bin/batchgetscore",batchgetplaymount:"http://sns.video.qq.com/tvideo/fcgi-bin/batchgetplaymount",myopnumCgi:"http://ncgi.video.qq.com/tvideo/fcgi-bin/myopnum",getVideoListCgi:"http://c.v.qq.com/vuserinfor",getUserULikeCgi:"http://sns.video.qq.com/tvideo/fcgi-bin/favVideo",userOrderListCgi:"//pay.video.qq.com/fcgi-bin/order",myinterestCgi:"http://ncgi.video.qq.com/tvideo/fcgi-bin/myinterest",myfollowfeedsCgi:"http://c.v.qq.com/myfollowfeeds",getVideoRecommonCgi:"http://sns.video.qq.com/tvideo/fcgi-bin/mediacommend",getCoverRecommonCgi:"http://sns.video.qq.com/fcgi-bin/dlib/dataout_pc?auto_id=162&",getUserUploadVideoNumCgi:"http://c.v.qq.com/uvcount",checkIsVip:"//pay.video.qq.com/fcgi-bin/payvip?otype=json",getUserPayTicket:"//pay.video.qq.com/fcgi-bin/user_ticket?otype=json",exchange:"//pay.video.qq.com/fcgi-bin/cdkey_exchange?otype=json",userAllTicket:"//pay.video.qq.com/fcgi-bin/user_ticket?otype=json",web_report:"http://rcgi.video.qq.com/web_report",getVuserInfo:"http://c.v.qq.com/vuserinfoget?otype=json",checkfollowviewed:"http://c.v.qq.com/checkfollowviewed?&otype=json",ulike:"http://like.video.qq.com/fcgi-bin/recommand?playright=2",ulike_new:"http://like.video.qq.com/fcgi-bin/like?playright=2"},txv.Event={loadedFollow:"loaded_follow"},$j.extend(Live.template.MODIFIERS,{getZY_TV_URL:function(a){return a&&""!=a||(a=-1),["http://v.qq.com/variety/type/list_",a,"_0_0.html"].join("")},getZY_TP_URL:function(a){return a&&""!=a||(a=-1),["http://v.qq.com/variety/type/list_",a,"_0_0.html"].join("")},getPlayUrl:function(a){return txv.common.getPlayUrl(a)},getDetailUrl:function(a,b){return txv.common.getDetailUrl(a,b||0)},getVideoPlayUrl:function(a){return txv.common.getVideoPlayUrl(a)},getBokePlayUrl:function(a){return txv.common.getBokePlayUrl(a)},searchurl:function(a){return txv.path.search_cgi+"&ms_key="+encodeURIComponent(a)},getVideoSnap:function(a){return txv.common.getVideoSnap(a,0)},getKuainvPlayUrl:function(a){if(!a)return"";if(15==a.length){var b=[txv.common.rootPath,"/kuainv/cover/",a.charAt(0),"/",a,".html"].join("");return b}return""}}),Live.txv.template=Live.template,$j.extend(Live.Login.prototype,{isLogin:function(){return"wx"==this.getLoginType()?!0:this.getUinOnly()>1e4},isQQLogin:function(){return"wx"!=this.getLoginType()?this.getUinOnly()>1e4:!1},isWxLogin:function(){return"wx"==this.getLoginType()?!0:!1},isLowLogin:function(){if(txv.login.isWxLogin())return!1;var a=Live.string.trim(Live.cookie.get("skey")),b=Live.string.trim(Live.cookie.get(txv.login.getConfig("uinCookie")));return txv.login.isQQLogin()&&(!a||!b)},isStrongLogin:function(){if(txv.login.isWxLogin())return!0;var a=Live.string.trim(Live.cookie.get("skey")),b=Live.string.trim(Live.cookie.get(txv.login.getConfig("uinCookie")));return txv.login.isQQLogin()&&!!a&&!!b},getWxAuthCookies:function(){return txv.login.isWxLogin()?{access_token:Live.cookie.get("access_token"),appid:Live.cookie.get("appid"),openid:Live.cookie.get("openid"),vuserid:Live.cookie.get("vuserid"),vusession:Live.cookie.get("vusession")}:null},getWxCookies:function(a){$j.ajax({url:txv.login.config.wxGetCookie_cgi,type:"get",dataType:"jsonp",timeout:1e4,success:function(b){a(b)}})},getUnicode:function(){if("wx"==this.getLoginType()){var a=Live.cookie.get("vuserid");return a&&a.length>0?parseInt(a,10):0}if(""==this.getSkey())return 0;var b=parseInt(Live.cookie.get(this.getConfig("uinCookie")).replace(/^o0*/g,""),10);return(!b||1e4>=b)&&(b=parseInt(Live.cookie.get(this.getConfig("luinCookie")).replace(/^o0*/g,""),10),!b||1e4>=b)?0:b},getUin:function(){if("wx"==this.getLoginType())return 0;if(""==this.getSkey())return 0;var a=parseInt(Live.cookie.get(this.getConfig("uinCookie")).replace(/^o0*/g,""),10);return(!a||1e4>=a)&&(a=parseInt(Live.cookie.get(this.getConfig("luinCookie")).replace(/^o0*/g,""),10),!a||1e4>=a)?0:a},getEncUin:function(){if("wx"==this.getLoginType())return 0;if(""==this.getSkey())return"";var a=Live.cookie.get(this.getConfig("encuinCookie"));if(""==a)return a;var b=a.split("|");return b[1]&&b[1]==this.getUinOnly()?decodeURIComponent(b[0]):""},getNick:function(){if("wx"==this.getLoginType())return txv.login.getWxNick();if(""==this.getSkey())return"";var a=Live.cookie.get(this.getConfig("nickCookie"));if(""==a)return a;var b=a.split("|");if(b[1]&&b[1]==this.getUinOnly())try{return decodeURIComponent(b[0])}catch(c){return b[0]}return""},getAvatar:function(a){if("wx"==this.getLoginType())return txv.login.getWxHead();if(""==this.getSkey())return"";var b=Live.cookie.get(this.getConfig("nickCookie"));if(""==b)return b;var c=b.split("|"),d=this.getUinOnly();return c[1]&&c[1]==d&&c[2]?(a=txv.login.getValidAvatarSize(a),decodeURIComponent(c[2]).replace(/([\?&]?s=)40([&$])/,"$1"+a+"$2")):""},getValidAvatarSize:function(a){var b=txv.login.getConfig("avatarSize");return-1==$j.inArray(a,b)?b[0]:a},refreshWxLogin:function(a,b){var c=txv.login.config.wxRefresh_cgi;b&&(c+="?write=1"),$j.ajax({url:c,type:"get",dataType:"jsonp",timeout:1e4,success:function(b){b&&0==b.errcode?(location.host.indexOf("qq.com")>=0&&(Live.cookie.set("access_token",b.access_token,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vusession",b.vusession,location.host,"/",txv.login.getConfig("cookieTime"))),txv.login.refreshTokenWxCgi(b.next_refresh_time)):(txv.login.reportToBoss({oper:11,main_type:"wx",msg:b}),txv.login.logout()),a&&a()}})},getLoginType:function(){return Live.cookie.get(this.getConfig("typeCookie"))},getUinOnly:function(){if(""==this.getSkey())return 0;var a=parseInt(Live.cookie.get(this.getConfig("uinCookie")).replace(/^o0*/g,""),10);return(!a||1e4>=a)&&(a=parseInt(Live.cookie.get(this.getConfig("luinCookie")).replace(/^o0*/g,""),10),!a||1e4>=a)?0:a},checkQQUin:function(){if(0==txv.login.getConfig("useStrictLogin")){var a=parseInt(Live.cookie.get(this.getConfig("uinCookie")).replace(/^o0*/g,""),10),b=parseInt(Live.cookie.get(this.getConfig("luinCookie")).replace(/^o0*/g,""),10);a&&b&&a!=b&&(Live.cookie.set(txv.login.getConfig("luinCookie"),"",".qq.com","/",-24),Live.cookie.set("lskey","",".qq.com","/",-24))}},getSkey:function(){var a=Live.string.trim(Live.cookie.get("skey"));return this.getConfig("useStrictLogin")?a:a||Live.string.trim(Live.cookie.get("lskey"))},getWxHead:function(){return Live.cookie.get(this.getConfig("wxHeadCookie"))},getWxNick:function(){return decodeURIComponent(Live.cookie.get(this.getConfig("wxNickCookie")))},reportToBoss:function(a,b){var c="http://btrace.video.qq.com/kvcollect?BossId=3098&Pwd=390647416&";a=a||{};var d=txv.login.getLoginType();a.main_type=a.main_type||d,"wx"==d?a.uin=Live.cookie.get("vuserid"):a.uin=txv.login.getUinOnly(),a.host=location.host,a.url=location.href;var e=$j.param(a),f=[c,e,"&_dc=",Math.random()].join("");b?Live.lazyreport.push(f):Live.report(f)},refreshTokenWxCgi:function(a){var b=6e3;a&&a>0&&6e3>a&&(b=a),b=1e3*b,txv.login.refreshTokenWxTimer&&clearTimeout(txv.login.refreshTokenWxTimer),txv.login.refreshTokenWxTimer=setTimeout(function(){txv.login.refreshWxLogin()},b)},renew_skey:function(){var a,b=0,c="skey_renew_time",d=18e5,e=0,f=function(){return txv.login.isQQLogin()&&txv.login.isStrongLogin()?void $j.ajax({url:txv.login.config.renew_skey+"&uin="+txv.login.getUin()+"&sessionkey="+txv.login.getSkey(),type:"get",dataType:"jsonp",jsonpCallback:"renewskeyCallback"}).done(function(d){return d&&-1==d.code?void clearInterval(a):(e=0,Live.Storage.set(c,(new Date).valueOf()),void Live.tj2.button("PTLOGIN.SKEY_INTER."+b++,"/virtualpage/skey.html"))}).fail(function(){e>=3||(e+=1,setTimeout(f,6e3))}):void clearInterval(a)};Live.Storage.get(c,function(a){var b=a;(!b||parseInt(b)+d<(new Date).valueOf())&&f()}),a=setInterval(f,d),txv.login.addLoginCallback(function(){txv.login.isQQLogin()&&txv.login.isStrongLogin()&&(a&&clearInterval(a),a=setInterval(f,d))}),txv.login.addLogoutCallback(function(){a&&clearInterval(a)})},setReady:function(){txv.login.getConfig("hasReady")||(txv.login.onReady(txv.login,[txv.login.isLogin()]),txv.login.setConfig("hasReady",!0))},getQQNick:function(a,b){$j.ajax({url:txv.login.config.userInfo_cgi,data:{otype:"json",datakey:"basicinfo"},type:"get",dataType:"jsonp",timeout:1e4,success:function(c){if(!c||1!=c.is_token_valid)return txv.login.clearLoginCookie(),txv.login.setReady(),void(b&&txv.login.reportToBoss({oper:11,main_type:"qq",msg:c.msg}));if(c.user_basic&&c.user_basic.user_id&&c.user_basic.user_id.length>0){
var d=c.user_basic;d.has100=d.has_100?1:0,location.host.indexOf("qq.com")>=0&&("undefined"!=typeof d.encuin&&Live.cookie.set(txv.login.getConfig("encuinCookie"),d.encuin+"|"+txv.login.getUinOnly(),location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set(txv.login.getConfig("nickCookie"),[encodeURIComponent(d.nick),txv.login.getUinOnly(),d.head,d.has100].join("|"),location.host,"/",txv.login.getConfig("cookieTime"))),txv.login.showOnline(d.nick,d.head,d.has100)}else txv.login.showOnline();txv.login.setReady(),1==a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),!txv.login.getConfig("disLogCallback")&&b&&txv.login.onLogin(),txv.login.setConfig("disLogCallback",!1),b&&(txv.login.reportToBoss({oper:10,main_type:"qq"}),txv.login.setRememberType("qq"),$j.util.report("http://ncgi.video.qq.com/tvideo/fcgi-bin/loginstat"))}}).fail(function(c){txv.login.setReady(),txv.login.showOnline(),1==a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),1==a&&txv.login.onLogin(),b&&txv.login.reportToBoss({oper:11,main_type:"qq",msg:c&&c.statusText?c.statusText:""})})},setStatus:function(a,b,c,d){var c=c||txv.login.getLoginType();if("wx"!=c&&0==txv.login.getUinOnly())return txv.login.clearLoginCookie(),void txv.login.setReady();if("wx"==c)if("string"==typeof d){txv.login.getWxCookies(function(b){b&&location.host.indexOf("qq.com")>=0&&(Live.cookie.set("access_token",b.access_token,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("openid",b.openid,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vuserid",b.vuserid,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vusession",b.vusession,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("appid",b.appid,location.host,"/",txv.login.getConfig("cookieTime"))),0!=a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),0!=a&&txv.login.onLogin(),txv.login.refreshTokenWxCgi(b.next_refresh_time),txv.login.reportToBoss({oper:10,main_type:"wx"})});var e=$j.parseJSON(d);e.head=e.head||txv.login.getConfig("defaultHead"),e.nick=decodeURIComponent(e.nick)||"",location.host.indexOf("qq.com")>=0&&(Live.cookie.set(txv.login.getConfig("typeCookie"),"wx",location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set(txv.login.getConfig("wxNickCookie"),encodeURIComponent(e.nick),location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set(txv.login.getConfig("wxHeadCookie"),e.head,location.host,"/",txv.login.getConfig("cookieTime"))),txv.login.showOnline(e.nick,e.head,0),txv.login.setRememberType("wx")}else $j.ajax({url:txv.login.config.wxRefresh_cgi,type:"get",dataType:"jsonp",timeout:1e4,success:function(b){if(!b||0!=b.errcode){if(txv.login.reportToBoss({oper:11,main_type:"wx",msg:b.msg}),b&&-1!=$j.inArray(b.errcode,[1006,1010]))txv.login.clearLoginCookie();else{var c={head:txv.login.getWxHead()||txv.login.getConfig("defaultHead"),nick:txv.login.getWxNick()||""};txv.login.showOnline(c.nick,c.head,0),txv.login.refreshWxLogin(!1,function(){0!=a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),0!=a&&txv.login.onLogin()})}return void txv.login.setReady()}location.host.indexOf("qq.com")>=0&&(Live.cookie.set("access_token",b.access_token,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vusession",b.vusession,location.host,"/",txv.login.getConfig("cookieTime")));var c={head:b.head||txv.login.getWxHead()||txv.login.getConfig("defaultHead")};b.nick?c.nick=decodeURIComponent(b.nick):c.nick=txv.login.getWxNick()||"",location.host.indexOf("qq.com")>=0&&(Live.cookie.set(txv.login.getConfig("wxNickCookie"),encodeURIComponent(c.nick),location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set(txv.login.getConfig("wxHeadCookie"),c.head,location.host,"/",txv.login.getConfig("cookieTime"))),txv.login.setReady(),txv.login.showOnline(c.nick,c.head,0),0!=a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),0!=a&&txv.login.onLogin(),txv.login.refreshTokenWxCgi(b.next_refresh_time)}}).fail(function(b){var c={head:txv.login.getWxHead()||txv.login.getConfig("defaultHead"),nick:txv.login.getWxNick()||""};txv.login.showOnline(c.nick,c.head,0),txv.login.refreshWxLogin(!1,function(){0!=a&&"function"==typeof txv.login.getConfig("success")&&(txv.login.getConfig("success")(),txv.login.setConfig("success",null)),0!=a&&txv.login.onLogin()}),txv.login.setReady(),txv.login.reportToBoss({oper:11,main_type:"wx",msg:b&&b.statusText?b.statusText:""})});else 1==b||""==txv.login.getLoginType()?(location.host.indexOf("qq.com")>=0&&Live.cookie.set(txv.login.getConfig("typeCookie"),"qq",location.host,"/",txv.login.getConfig("cookieTime")),$j.ajax({url:txv.login.config.qqLogin_cgi,type:"get",dataType:"jsonp",success:function(){txv.login.getQQNick(a,b)}}).fail(function(a){txv.login.clearLoginCookie(),txv.login.setReady(),1==b&&txv.login.reportToBoss({oper:11,main_type:"qq",msg:a&&a.statusText?a.statusText:""})})):txv.login.getQQNick(a,b)},showOnline:function(a,b,c){var d=$e("#login_nick,[data-type='nickname'],._nickname"),e=$e("#login_action"),f=$j("[data-type='avatar'],._avatar");try{"string"==typeof a&&(a=decodeURIComponent(a))}catch(g){}if(a=a||txv.login.getNick(),d.text(a),e.text(txv.login.getConfig("logout_btn_text")),e.unbind("click"),e.bind("click",txv.login.logout),"undefined"==typeof c){var h=Live.cookie.get(this.getConfig("nickCookie")),i=h.split("|");""==h||i.length<4?c=1:i[1]&&i[1]==this.getUinOnly()&&(c="undefined"!=typeof i[3]?i[3]:1)}if(f.size()>0){var j=new Image,k="string"==typeof b?b:txv.login.getAvatar();j.onload=function(){f.each(function(a,b){var d=$j(b),e=txv.login.getValidAvatarSize(parseInt(d.attr("data-avatarsize"),10)),f=k;1==c&&(f=k.replace(/([\?&]?s=)40([&$])/,"$1"+e+"$2")),d.attr("src",f)})},j.src=k}var l=$j("[data-type='account_type_logo']");l.size()>0&&l.each(function(){var a=$j(this);txv.login.isWxLogin()?a.attr("class","icon_account_wx20"):a.attr("class","icon_account_qq20"),a.show()})},showNotLogin:function(){var a=$j("#login_nick,_nickname"),b=$j("#login_action");a.html(txv.login.getConfig("logout_nick_html")),b.text(txv.login.getConfig("login_btn_text")),b.unbind("click"),b.bind("click",txv.login.openLogin),$j("[data-type='account_type_logo']").hide()},showMask:function(a,b,c,d,e){var f,g=$j("#"+a);if(d="undefined"==typeof d?!0:d,getElementById("mask_layer")?$e("#mask_layer").show():($e("body").create("div",{id:"mask_layer","class":"mask_layer"}),6==Live.userAgent.ie&&$e("#mask_layer").css("height",document.documentElement.scrollHeight)),0!=g.length){if(d)if(txv.login.showAtCenter(getElementById(a),b,c),6==QZFL.userAgent.ie||window!=top){var h=window!=top?top:window,i=null;$j.isFunction(txv.login.onHideMask)&&txv.login.onHideMask(),e=$j.isFunction(e)?e:QZFL.emptyFn,f=function(){clearTimeout(i),i=setTimeout(function(){txv.login.showAtCenter(getElementById(a),b,c),e()},50)},txv.login.onHideMask=function(){$j(h).unbind("scroll",f)},$j(h).bind("scroll",f)}else g.css("position","fixed");"function"==typeof txv.login.onShowMask&&txv.login.onShowMask()}},hideMask:function(){$e("#mask_layer").hide(),$j.isFunction(txv.login.onHideMask)&&txv.login.onHideMask()},innerLoginCss:function(){if(0==$j("link[href*='login_dialog.css']").size()){var a="http://imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/common/style/login_dialog.css?v=20160201&max_age=86400",b=document.createElement("link");b.setAttribute("type","text/css"),b.setAttribute("rel","stylesheet"),b.setAttribute("href",a),$j("head")[0].appendChild(b)}},getShiftCookies:function(a){var b=null,c=null,d=[];if(""!=this.getSkey()){var e=Live.cookie.get(this.getConfig("nickCookie"));if(""!=e){var f=e.split("|");if(b={},f[1]&&(b.uin=f[1]),f[0])try{b.nick=decodeURIComponent(f[0])}catch(g){b.nick=f[0]}if(f[2]){var h=txv.login.getValidAvatarSize(100);b.head=decodeURIComponent(f[2]).replace(/([\?&]?s=)40([&$])/,"$1"+h+"$2")}b.type="qq"}}b&&d.push(b);var i=Live.cookie.get(txv.login.getConfig("wxNickCookie"));i&&(c={},c.nick=decodeURIComponent(i),c.head=Live.cookie.get(this.getConfig("wxHeadCookie")),c.type="wx",c&&d.push(c)),a(d)},shiftLogin:function(){txv.login.getShiftCookies(function(a){txv.login.innerLoginCss();for(var b='<div class="popup_account" style="display:block;"><div id="login_shift" class="mod_pop mod_pop_account"><iframe src="about:blank" frameborder="0" class="iframe_mask_pop"></iframe><div class="mod_pop_hd"><a href="javascript:;" class="mod_pop_close">关闭</a></div><div class="mod_pop_bd"><h5 class="pop_bd_title">帐号管理</h5><ul class="account_list">',c=0;c<a.length;c++)a[c].head||(a[c].head=txv.login.getConfig("defaultHead")),b+='<li class="item _login_shift_item" data-type='+a[c].type+'><div class="item_avatar"><img src="'+a[c].head+'" alt="头像" ><i class="icon_choice"></i><i class="icon_account_'+a[c].type+'"></i></div><div class="item_top"><h5 class="user_name">'+a[c].nick+"</h5></div>",a[c].uin&&(b+='<div class="item_btm"><span class="account_id">'+a[c].uin+"</span></div>"),b+='<a href="javascript:;" class="btn_logout" data-type='+a[c].type+">删除账号</a></li>";b+='</ul><a href="javascript:;" class="btn_login_toggle">登录其他帐号</a></div></div></div>',$j("body").append(b);var d=getElementById("login_shift"),e=540,f=a.length>1?413:292;txv.login.config.showMask&&!$j.util.useHtml5()?txv.login.showMask("login_shift",e,f):txv.login.showAtCenter(d,e,f),txv.login.reportToBoss({oper:30});var g=$j("#login_shift");g.find(".mod_pop_close").unbind("click").bind("click",function(a){a.preventDefault(),g.remove(),txv.login.hideMask(),txv.login.reportToBoss({oper:31})}),g.find(".btn_logout").unbind("click").bind("click",function(a){a.preventDefault(),a.stopPropagation();var b=$j(this);txv.login.reportToBoss({oper:33});var c=b.attr("data-type");c==txv.login.getLoginType()?txv.login.logout():(txv.login.deleteLoginAccount(c),g.remove(),txv.login.hideMask())}),g.find(".btn_login_toggle").unbind("click").bind("click",function(a){a.preventDefault(),g.remove(),txv.login.reportToBoss({oper:34}),txv.login.openLogin()});var h=g.find("._login_shift_item");h.unbind("click").bind("click",function(a){a.preventDefault(),h.removeClass("item_selected");var b=$j(this);b.addClass("item_selected");var c=b.attr("data-type");c!=txv.login.getLoginType()&&(Live.cookie.set(txv.login.getConfig("typeCookie"),c,location.host,"/",txv.login.getConfig("cookieTime")),"qq"==c?$j.ajax({url:txv.login.config.qqLogin_cgi,type:"get",dataType:"jsonp",success:function(){txv.login.reportToBoss({oper:13,main_type:c},!0),window.location.reload()}}):txv.login.refreshWxLogin(function(){txv.login.reportToBoss({oper:13,main_type:c},!0),window.location.reload()},!0)),g.remove(),txv.login.hideMask(),txv.login.reportToBoss({oper:32})})})},innerOpenloginHtml:function(a,b){var c='<div id="login_win" class="login_dialog"><iframe src="about:blank" frameborder="0" class="iframe_mask"></iframe><a href="javascript:void(0)" id="login_close" class="btn_close" title="关闭"><span class="btn_inner">关闭</span></a><div class="login_tab"><ul class="tab_list';b&&(c+=" tab_list_single"),c+='"><li class="list_item _list_item_qq" data-type="qq"><a href="javascript:void(0);" class="tab_item tab_item_qq"><span class="item_inner">QQ帐号登录</span></a></li><li class="list_item _list_item_wx" data-type="wx"><a href="javascript:void(0);" class="tab_item tab_item_wx"><span class="item_inner">微信帐号登录</span></a></li></ul></div><div class="login_cont"><div class="cont_inner cont_inner_qq"><div class="login_iframe login_iframe_qq"><iframe name="_login_frame_quick_" id="_login_frame_quick_" frameborder="no" scrolling="no" width="100%" height="100%" src="about:blank"></iframe></div>',b&&(c+='<div class="login_iframe_change"><a class="change_link" href="javascript:;" data-type="wx">切换<span class="name">微信帐号</span>登录 &gt;&gt;</a></div>'),c+='</div><div class="cont_inner cont_inner_wx"><div class="login_iframe login_iframe_wx"><label class="iframe_title">安全登录，防止被盗</label><iframe name="_login_frame_wechat_" id="_login_frame_wechat_" frameborder="no" scrolling="no" width="100%" height="100%" src="about:blank"></iframe>',txv.login.config.wxLoginTxt&&(c+='<p class="iframe_tips">'+txv.login.config.wxLoginTxt+"</p>"),c+="</div>",b&&(c+='<div class="login_iframe_change"><a class="change_link" href="javascript:;" data-type="qq">切换<span class="name">QQ帐号</span>登录 &gt;&gt;</a></div>'),c+="</div></div></div>",$j("body").append(c);var d=$j("#login_win");d.find("._list_item_"+a).addClass("current"),d.find(".cont_inner_"+a).addClass("cont_inner_in"),"wx"==a?txv.login.innerSetWxSrc():txv.login.innerSetQqSrc(),b?d.find(".change_link").unbind("click").bind("click",function(a){a.preventDefault();var b=$j(this).attr("data-type");"wx"==b?txv.login.innerSetWxSrc():txv.login.innerSetQqSrc(),d.find(".current").removeClass("current"),d.find("._list_item_"+b).addClass("current"),d.find(".cont_inner_in").removeClass("cont_inner_in"),d.find(".cont_inner_"+b).addClass("cont_inner_in"),txv.login.reportToBoss({oper:27,main_type:b})}):d.find(".list_item").unbind("click").bind("click",function(a){a.preventDefault();var b=$j(this),c=b.attr("data-type");"wx"==c?txv.login.innerSetWxSrc():txv.login.innerSetQqSrc(),d.find(".current").removeClass("current"),d.find("._list_item_"+c).addClass("current"),d.find(".cont_inner_in").removeClass("cont_inner_in"),d.find(".cont_inner_"+c).addClass("cont_inner_in"),txv.login.reportToBoss({oper:22,main_type:c})}),$j("#login_close").unbind("click").bind("click",function(a){a.preventDefault(),$e("#login_win").remove(),txv.login.isOpend=!1,txv.login.hideMask(),txv.login.reportToBoss({oper:21}),txv.login.onLoginCancel(),txv.login.onCloseLogin();var b=txv.login.getConfig("rejectLogin");"function"==typeof b&&b()})},innerSetQqSrc:function(){if(txv.login.config.loadQqIframe){var a=txv.login.config.jumpurl,b=txv.login.config.clientjumpurl,c=txv.login.getPtloginUrl(),d="";window.__j_url=b,c+="&style=20&hln_logo="+encodeURIComponent(d);var e=[c,"&hide_close_icon=1&appid=",txv.login.config.appid,"&f_url=loginerroralert&qlogin_auto_login=0","&s_url=",escape("http://v.qq.com/toolpages/redirect.html?clientjumpurl="+escape(b||window.location.href)+"&jumpurl="+a)].join("");$j("#_login_frame_quick_").attr("src",e),txv.login.config.loadQqIframe=!1}},innerSetWxSrc:function(){if(txv.login.config.loadWxIframe){var a="http://open.weixin.qq.com/connect/qrconnect?appid="+txv.login.config.wxAppid,b=[a,"&redirect_uri=",escape(txv.login.config.wxLogin_cgi),"&response_type=code&scope=snsapi_login&state=111&href=",escape("http://imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/common/style/iframe_login_wx.css")].join("");$j("#_login_frame_wechat_").attr("src",txv.login.config.wxLoginUrl?txv.login.config.wxLoginUrl:b),txv.login.config.loadWxIframe=!1}},openTypeTipDlg:function(a){var b='<div id="login_win_type" class="login_dialog"><iframe src="about:blank" frameborder="0" class="iframe_mask"></iframe><a href="javascript:;" class="btn_close" title="关闭"><span class="btn_inner">关闭</span></a><div class="login_tab"><div class="tab_title"><span class="title_inner">选择登录帐号类型</span></div></div><div class="login_cont"><div class="cont_inner cont_inner_in"><div class="login_choose"><div class="login_avatar"><i class="ico_avatar"></i></div><div class="login_btns"><a href="javascript:;" class="btn_qq _login_type_item" data-type="qq"><span class="btn_inner">QQ登录</span></a><a href="javascript:;" class="btn_weixin _login_type_item" data-type="wx""><span class="btn_inner">微信登录</span></a></div></div></div></div></div>';$j("body").append(b);var c=getElementById("login_win_type"),d=622,e=418;txv.login.config.showMask&&!$j.util.useHtml5()?txv.login.showMask("login_win_type",d,e):txv.login.showAtCenter(c,d,e);var f=$j("#login_win_type");f.find(".btn_close").unbind("click").bind("click",function(a){a.preventDefault(),f.remove(),txv.login.hideMask(),txv.login.onLoginCancel(),txv.login.onCloseLogin(),txv.login.reportToBoss({oper:25})}),f.find("._login_type_item").unbind("click").bind("click",function(b){b.preventDefault(),f.remove();var c=$j(this).attr("data-type");txv.login.reportToBoss({oper:24,main_type:c}),txv.login.innerOpenlogin(a,c),txv.login.setRememberType(c)}),txv.login.reportToBoss({oper:23})},openLoginSingle:function(a,b){b||(b=txv.login.getLoginType()),b=b||"qq",txv.login.innerLoginCss(),txv.login.innerOpenlogin(a,b,!0),txv.login.reportToBoss({oper:26,main_type:b})},openLogin:function(a,b){if(txv.login.innerLoginCss(),"qq"==b||"wx"==b)txv.login.innerOpenlogin(a,b);else{var c=Live.cookie.get(txv.login.getConfig("rememberTypeCookie"));c&&c.length>0?txv.login.innerOpenlogin(a,c):txv.login.openTypeTipDlg(a)}txv.login.reportToBoss({oper:20,main_type:b})},setRememberType:function(a){Live.cookie.set(txv.login.getConfig("rememberTypeCookie"),a,location.host,"/",175200)},innerOpenlogin:function(a,b,c){txv.login.isOpend=!0,Live.object.extend(txv.login.config,a),txv.login.setConfig(a),txv.login.config.loadWxIframe=!0,txv.login.config.loadQqIframe=!0;var d,e=622,f=418;if(null==getElementById("login_win")&&txv.login.innerOpenloginHtml(b,c),d=getElementById("login_win"),!d)return void setTimeout(function(){txv.login.openLogin(a)},50);d.style.display="none",txv.login.config.showMask&&!$j.util.useHtml5()?txv.login.showMask("login_win",e,f):txv.login.showAtCenter(d,e,f);try{txv.login.isLogin()&&""!=txv.login.getSkey()&&Live.tj2.button("LOGIN.UIN_OPEN")}catch(g){}txv.login.onOpenLogin()},getPtloginUrl:function(){var a="http://xui.ptlogin2.qq.com/cgi-bin/xlogin?link_target=blank&target=self";return this.getConfig("useStrictLogin")||(a+="&low_login=1"),a},showAtCenter:function(a,b,c){$j.util.showAtCenter(a,b,c)},deleteLoginAccount:function(a){"wx"==a?(Live.cookie.set(txv.login.getConfig("wxNickCookie"),"",location.host,"/",-24),Live.cookie.set(txv.login.getConfig("wxHeadCookie"),"",location.host,"/",-24)):(a="qq",Live.cookie.set(txv.login.getConfig("nickCookie"),"",location.host,"/",-24),Live.cookie.set(txv.login.getConfig("encuinCookie"),"",location.host,"/",-24),0==txv.login.getConfig("useStrictLogin")&&(Live.cookie.set(txv.login.getConfig("luinCookie"),"",".qq.com","/",-24),Live.cookie.set("lskey","",".qq.com","/",-24)),Live.cookie.set("skey","",".qq.com","/",-24)),$j.ajax({url:txv.login.config.wxLogout_cgi+"?clear=0&type="+a,type:"get",dataType:"jsonp",timeout:1e4,success:function(a){}})},clearLoginCookie:function(a,b,c){b=b||txv.login.getLoginType(),"wx"==b?(Live.cookie.set(txv.login.getConfig("wxNickCookie"),"",location.host,"/",-24),Live.cookie.set(txv.login.getConfig("wxHeadCookie"),"",location.host,"/",-24),Live.cookie.set("access_token","",location.host,"/",-24),Live.cookie.set("openid","",location.host,"/",-24),Live.cookie.set("appid","",location.host,"/",-24),Live.cookie.set("vuserid","",location.host,"/",-24),Live.cookie.set("vusession","",location.host,"/",-24)):(b="qq",Live.cookie.set(txv.login.getConfig("nickCookie"),"",location.host,"/",-24),Live.cookie.set(txv.login.getConfig("encuinCookie"),"",location.host,"/",-24),0==txv.login.getConfig("useStrictLogin")&&(Live.cookie.set(txv.login.getConfig("luinCookie"),"",".qq.com","/",-24),Live.cookie.set("lskey","",".qq.com","/",-24),Live.cookie.set("luin","",".qq.com","/",-24)),Live.cookie.set("skey","",".qq.com","/",-24)),Live.cookie.set(txv.login.getConfig("typeCookie"),"",location.host,"/",-24),$j.ajax({url:txv.login.config.wxLogout_cgi+"?clear=1&type="+b,type:"get",dataType:"jsonp",timeout:1e4,success:function(){txv.login.showNotLogin(),("boolean"!=typeof a||a)&&txv.login.onClearLoginStatus(),c&&c()}})},logout:function(a){txv.login.reportToBoss({oper:12}),txv.login.clearLoginCookie(!0,null,function(){"function"==typeof txv.login.getConfig("logout")&&txv.login.getConfig("logout")(a),txv.login.onLogout(a)})}}),Live.login.init(),Live.txv.login=Live.login,$j.extend(Live.txv.login,{config:{typeCookie:"main_login",cookieTime:720,rememberTypeCookie:"login_remember",wxAppid:"wx5ed58254bc0d6b7f",wxNickCookie:"wx_nick",wxHeadCookie:"wx_head",wxLoginUrl:"",wxLoginTxt:"",wxCookieUrl:"http://video.qq.com/getcookie/getcookie.html",wxGetCookie_cgi:"http://video.qq.com/fcgi-bin/get_cookie",wxLogin_cgi:"http://video.qq.com/fcgi-bin/wx_login?from=1",wxRefresh_cgi:"http://video.qq.com/fcgi-bin/check_login",wxLogout_cgi:"http://video.qq.com/fcgi-bin/logout",loadWxIframe:!0,loadQqIframe:!0,qqLogin_cgi:"http://video.qq.com/fcgi-bin/qq_login",defaultHead:"http://imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/v3/style/images/default_avatar.png",userInfo_cgi:"http://video.qq.com/fcgi-bin/get_user_profile",appid:"532001601",uinCookie:"uin",luinCookie:"luin",encuinCookie:"encuin",nickCookie:"lw_nick",quickLogin:!0,jumpurl:"",clientjumpurl:null,showMask:!0,success:null,logout:null,rejectLogin:null,login_cgi:"http://c.video.qq.com/cgi-bin/login?otype=json&nes=1",renew_skey:"http://uple.qq.com/?t=aio_page&op=renew",show_uniq:!1,show_content:"",login_btn_text:"登录",logout_btn_text:"[退出]",logout_nick_html:"",hasReady:!1,disLogCallback:!1,useStrictLogin:!1,avatarSize:[40,100]},init:function(a,b){b=!!b,$j.extend(this.config,a),this.setConfig(this.config),txv.login.getWxCookies(function(a){a&&a.main_login&&(Live.cookie.set(txv.login.getConfig("typeCookie"),a.main_login,location.host,"/",txv.login.getConfig("cookieTime")),"wx"==a.main_login&&(a.access_token?(Live.cookie.set("access_token",a.access_token,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("openid",a.openid,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vuserid",a.vuserid,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("vusession",a.vusession,location.host,"/",txv.login.getConfig("cookieTime")),Live.cookie.set("appid",a.appid,location.host,"/",txv.login.getConfig("cookieTime"))):(Live.cookie.set(txv.login.getConfig("wxNickCookie"),"",location.host,"/",-24),Live.cookie.set(txv.login.getConfig("wxHeadCookie"),"",location.host,"/",-24),Live.cookie.set("access_token","",location.host,"/",-24),Live.cookie.set("openid","",location.host,"/",-24),Live.cookie.set("appid","",location.host,"/",-24),Live.cookie.set("vuserid","",location.host,"/",-24),Live.cookie.set("vusession","",location.host,"/",-24)))),txv.login.setStatus(b,!1)}),txv.login.checkQQUin(),$j(document).delegate("[data-type='logout']","click",function(a){a.preventDefault(),txv.login.logout()}).delegate("[data-type='login']","click",function(a){a.preventDefault(),txv.login.clearLoginCookie(),txv.login.openLogin()}),txv.login.renew_skey()}}),txv.login.setConfig(txv.login.config),function(){var a=$j.isFunction(window.ptlogin2_onResize)?window.ptlogin2_onResize:QZFL.emptyFn,b=$j.isFunction(window.ptlogin2_onClose)?window.ptlogin2_onClose:QZFL.emptyFn,c=$j.isFunction(window.ptlogin2_onSuccess)?window.ptlogin2_onSuccess:QZFL.emptyFn,d=$j.isFunction(window.__rdt__)?window.__rdt__:QZFL.emptyFn;window.ptlogin2_onResize=function(b,c){10>b||10>c||(getElementById("_login_frame_quick_").style.height=c+"px",getElementById("_login_frame_quick_").style.width=b+"px",a(b,c))},window.ptlogin2_onClose=function(a){var c=txv.login.getConfig("rejectLogin");$e("#login_win").remove(),txv.login.isOpend=!1,txv.login.hideMask(),a?ptlogin2_onSuccess():("function"==typeof c&&c(),txv.login.setConfig("success",null),txv.login.onLoginCancel()),txv.login.onCloseLogin(),b(a)},window.ptlogin2_onSuccess=function(){txv.login.checkQQUin(),txv.login.setStatus(!0,!0,"qq"),c()},window.__rdt__=function(){if(__j_url)for(;-1!=__j_url.indexOf("%")&&-1==__j_url.indexOf("?");)__j_url=unescape(__j_url);else window.location.reload();window.location.href=__j_url,d()},window.wxlogin_onSuccess=function(a){$e("#login_win").remove(),txv.login.isOpend=!1,txv.login.hideMask(),txv.login.onCloseLogin(),txv.login.setStatus(!0,!1,"wx",a)}}(),txv.Popmanager=function(a){this.status=txv.Popmanager.StatusDef.CLOSE,this.name=a,this.switchStatus=function(a){if(a=parseInt(a,10),a!=this.status){var b,c,d=txv.Popmanager.getAllInstances();switch(a){case txv.Popmanager.StatusDef.CLOSE:c=!0;for(b in d)if(d[b].getStatus()===txv.Popmanager.StatusDef.OPEN&&b!=this.getName()){c=!1;break}c&&txv.Popmanager.onHidePop();break;case txv.Popmanager.StatusDef.OPEN:c=!0;for(b in d)if(b!=this.getName()&&txv.Popmanager.StatusDef.OPEN===d[b].getStatus()){c=!1;break}c&&txv.Popmanager.onShowPop(this.getName())}this.status=a}},this.open=function(){this.switchStatus(txv.Popmanager.StatusDef.OPEN)},this.close=function(){this.switchStatus(txv.Popmanager.StatusDef.CLOSE)},this.getStatus=function(){return this.status},this.getName=function(){return this.name}},function(){var a={},b=new Live.Callback("unique"),c=new Live.Callback("unique");txv.Popmanager.addInstance=function(b){return a[b]instanceof txv.Popmanager||(a[b]=new txv.Popmanager(b)),a[b]},txv.Popmanager.getAllInstances=function(){return a},txv.Popmanager.onShowPop=function(a){b.fire(a)},txv.Popmanager.onHidePop=function(a){c.fire(a)},txv.Popmanager.addShowPopCallback=b.add,txv.Popmanager.addHidePopCallback=c.add,txv.Popmanager.StatusDef={OPEN:1,CLOSE:2}}(),Live.txv=Live.txv||{},Live.txv.log=function(a){Live.txv.log_arr.push(a),2==txv.log.isdebug&&QZFL.console.print(a)},Live.txv.log_arr=[],Live.txv.logDump=function(){"function"==typeof txv.logDump.render?txv.logDump.render():$j.getScript("http://"+QZFL.config.domain+"/tencentvideo_v1/js/txv.logdump.min.js",function(){txv.logDump.render()})},Live.txv.trace=function(a){txv.log.isdebug>=1&&QZFL.console.print(a)},Live.txv.dump=function(a){txv.log.isdebug>=1&&"object"==typeof console&&console.dir(a)},Live.txv.log.isdebug=-1,Live.txv.common={rootPath:"",conf:{needGoToLoginPage:!1,needShowVipIcon:!0,needInitPageHotKey:!0,needWinSafariHack:!1,isFilmPage:!1,needInitSearchBar:!0,alwaysShowMytvMenu:!1,needInitNav:!0,useStrictLogin:!1,noRightTips:{1:"暂不支持在网页播放，点击打开客户端播放",3:"暂不支持网页播放，请到视频手机端观看",4:"暂不支持网页播放，请到视频平板端观看",5:"暂不支持网页播放，请到视频手机端观看",8:"暂不支持网页播放，请到视频TV端观看",toclient:"暂不支持网页播放，请到视频客户端观看",none:"暂不支持网页播放"},pageType:""},popNameDef:{SEARCH:"smartboxPop",HISTORY:"historyPop",COLLECT:"collectPop",MESSAGE:"mynoticePop",AVATAR:"avatarPop",LOGIN:"loginPop",TIPS:"tipsPop"},_onScrollCbObj:new Live.Callback("unique"),addScrollCallback:function(a){txv.common._onScrollCbObj.add(a)},getUrlParam:function(a,b){return $j.util.getUrlParam(a,b)},extendAjaxSetup:function(){this.conf.useStrictLogin||("undefined"!=typeof $j&&$j.ajaxSetup?$j.ajaxSetup({low_login:!0}):QZFL.object.extend(QZFL.ajaxHandle.ajaxSettings,{low_login:!0}))},initPage:function(a){a=a||{};var b,c="object"==QZFL.object.getType(a)&&a.playPageFlag?a.playPageFlag:!1,d=getElementById("txvLeftSitemap"),e=!!d||!!getElementById("headSimpleV2"),f=!!getElementById("head_v3");if(txv.log("init page"),!txv.common.initPageFlag){"film.qq.com"!=location.host&&txv.vip.changeErrHandle(Live.emptyFn),Live.object.extend(txv.common.conf,a),txv.common.initPageFlag=!0,this.conf.needWinSafariHack&&this.winSafariHack(),this.extendAjaxSetup(),this.initClientPortalHack(),txv.login.init({useStrictLogin:this.conf.useStrictLogin});var g=this;if(g.conf.needInitNav&&(e?(setTimeout(function(){txv.common.initMainNavSubNav()},0),txv.common.useHtml5()&&(QZFL.userAgent.isiPhone?$e(document.body).addClass("iphone"):QZFL.userAgent.isiPad&&$e(document.body).addClass("ipad"),b=$e("#toggleHistory"),b.attr("target","self"),b.attr("href","javascript:;")),d?txv.common.initMainNavV2():txv.common.initSimpHead(c),g.initSearchBar(c,!!d,e),g.initNavPop(e),txv.headfavorite.init(),txv.common.initMsgCenter()):f&&(txv.common.initNavV3(c),txv.common.initSimpHead(c),seajs.use("module/txv.nav.wallet.js")),txv.history.init(c,e||f),txv.login.addReadyCallback(function(){txv.login.isWxLogin()&&($j(".quick_upload").hide(),$j(".mod_head_upload").hide())}),txv.login.addLoginCallback(function(){txv.login.isWxLogin()?($j(".quick_upload").hide(),$j(".mod_head_upload").hide()):($j(".quick_upload").show(),$j(".mod_head_upload").show())}),txv.login.addLogoutCallback(function(){$j(".quick_upload").show(),$j(".mod_head_upload").show()})),txv.common.conf.needShowVipIcon&&txv.common.initVipIcon(),txv.common.isWebqq()){$e(".mod_login").hide(),$e("a").attr("target","_self");var h=document.sform;h&&(h.target="_self")}Live.lazyLoad.init(["img"]),txv.common.initPageHotKey(),Live.QTAG.init(),Live.openviplinkreport.init(),a&&1==a.watch,a&&a.tj2&&a.tj2.forbidden||Live.tj2.pv(a&&a.tj2?a.tj2:null),Live.lazyreport&&Live.lazyreport.report()}},initNavV3:function(a){function b(){if(g&&k){var a,b;e.find(".list_item_hassub").on("mouseenter",function(){clearTimeout(a),clearTimeout(b);var c=$j(this);a=setTimeout(function(){e.addClass("navigation_open"),e.find(".list_item_hassub").filter(".list_item_open").removeClass("list_item_open"),c.addClass("list_item_open")},300)}).on("mouseleave",function(a){clearTimeout(b);var c=$j(this);b=setTimeout(function(){c.removeClass("list_item_open"),e.removeClass("navigation_open")},800)})}}function c(){if(h){var a,b=$j("body"),c=0,d={UP:-1,DOWN:1},g=d.DOWN;$j(window).bind("scroll",function(h){clearTimeout(a),a=setTimeout(function(){var a=QZFL.dom.getScrollTop(),h=QZFL.dom.getClientHeight(),l=parseInt(b.css("paddingTop"),10);6!=QZFL.userAgent.ie&&i&&j&&(a>l?(e.addClass("navigation_fixed"),f.addClass("site_head_fixed")):(f.removeClass("site_head_fixed"),e.removeClass("navigation_fixed")),c>a?(g=d.UP,f.removeClass("site_head_hide"),e.removeClass("navigation_hide"),k||e.addClass("navigation_open")):a>c&&a>l&&(g=d.DOWN,f.addClass("site_head_hide"),e.addClass("navigation_hide").removeClass("navigation_open"),k&&$j(".list_item_open").removeClass("list_item_open")),c=a),txv.common._onScrollCbObj.fire(a,h,g)},50)})}}function d(){var a="";QZFL.userAgent.windows<6.1?a="os_winxp":QZFL.userAgent.windows>=6.1?a="os_win":QZFL.userAgent.isiPad||QZFL.userAgent.isiPhone||QZFL.userAgent.isiPod?a="os_ios":QZFL.userAgent.macs&&(a="os_mac"),a&&$e("html").addClass(a)}this.initSearchBar(a,!0,!0),this.initNavPop(!0),this.rewriteMytvs(),this.initMsgCenter(!0),$e("._checklogin").bind("click",function(a){txv.login.isLogin()||(a.preventDefault(),txv.login.openLogin())});var e=$j("#nav_v3"),f=$j("#head_v3"),g=e.size()>0,h=f.size()>0,i=1==e.attr("data-fixed"),j=1==f.attr("data-fixed"),k=g&&1!=e.attr("data-notresponse"),i=1==e.attr("data-fixed"),j=1==f.attr("data-fixed"),k=g&&1!=e.attr("data-notresponse");this.popNameDef;d(),c(),b()},rewriteMytvs:function(){var a={noContentCls:"quick_pop_empty",noContentTpl:'<div class="quick_pop_empty"><i class="ico_favorites_95"></i><p class="empty_txt">{tips}</p></div>',notLoginTpl:'<div class="quick_pop_empty quick_pop_empty_login"><a href="javascript:;" data-type="login" class="btn_login"><span class="btn_inner">登&nbsp;&nbsp;录</span></a><p class="empty_txt">{tips}</p></div>'};txv.headfavorite.init(a),QZFL.object.extend(txv.history,{navSize:5,notLoginNoResultTpl:'<div class="quick_pop_empty quick_pop_empty_login"><a href="javascript:;" class="btn_login" data-type="login"><span class="btn_inner">登&nbsp;&nbsp;录</span></a><p class="empty_txt">请登录查看历史记录</p></div>',noResultTpl:'<div class="quick_pop_empty"><i class="ico_history_95"></i><p class="empty_txt">{tips}</p></div>',dayTpl:'<dt><span class="dot_wrap"><i class="dot"></i></span><span class="timeline_date">{text}</span></dt>'})},initPopUpload:function(){var a,b=$e("#mod_head_upload"),c=$e("#mod_head_upload_trigger");if(0!=b.size()&&0!=c.size()){if(this.conf.playPageFlag){var d=document.createElement("iframe");d.src="about:blank",d.frameborder="0",d.className="iframe_mask",$j(d).insertBefore(getElementById("mod_head_upload_content"))}a=new Live.FloatMenu({menu:b,area:c,areaOutdelay:100,isNeedChangeDisplay:!1,onShow:function(a){b.addClass("open"),6==QZFL.userAgent.ie&&txv.common.conf.playPageFlag&&txv.common.setPopIframeHeight("mod_head_upload_content")},onHide:function(a){b.removeClass("open");
}})}},initMainNavV2:function(){function a(a){var b=$e("#modTxvMainHeadLink");a&&!txv.common.useHtml5()?(n.addClass("cur"),b.attr("href","http://v.qq.com"),b.attr("title","首页"),b.text("首页")):(n.removeClass("cur"),b.attr("href","javascript:;"),b.attr("title","分类导航"),b.text("分类导航"))}var b,c,d,e,f,g,h=txv.common.isSupportedCSSProperty("transition"),i=$e("#txvLeftSitemap"),j=!0,k="unfold",l=39,m="hover",n=$e("#toggleShowNav");(txv.common.useHtml5()||!h)&&(i.hasClass(k)||(c=i.find(".mod_nav_site"),j=!1,l=c.find("li").size()*l,b=new Live.FloatMenu({menu:c,area:n,areaOutdelay:100,effectShow:!0,effectShowDuration:100,menuHeight:l,onShow:function(b){txv.common.btnTj("mainnav.hover"),a(!0),i.addClass(k)},onHide:function(b){i.removeClass(k),a(!1)}})),e=$e("#modHeadToggleDownloadPop"),f=$e("#modHeadDownloadPop"),g=getElementById("modHeadDownload"),d=new Live.FloatMenu({menu:f,area:e,areaOutdelay:100,isNeedChangeDisplay:!1,onShow:function(a){QZFL.css.addClassName(g,m)},onHide:function(a){QZFL.css.removeClassName(g,m)}})),0!=j&&i.hasClass(k)||(i.onMouseEnter(function(b){txv.common.btnTj("mainnav.hover"),a(!0)}),i.onMouseLeave(function(b){a(!1)})),txv.common.initTopBanner()},initTopBanner:function(){var a=$e("#modTopBanner");txv.common.useHtml5()?a.remove():1==a.size()&&(a.show(),a.delegate("a.top_banner_close","click",function(){a.remove()}))},winSafariHack:function(){QZFL.userAgent.windows&&QZFL.userAgent.safari?$e(document.body).addClass("win_safari"):this.macSafariAndChromeHack()},macSafariAndChromeHack:function(){QZFL.userAgent.macs&&(QZFL.userAgent.safari?$e(document.body).addClass("mac_safari"):QZFL.userAgent.chrome&&$e(document.body).addClass("mac_chrome"))},initNavPop:function(a){var b,c,d,e,f,g=null,h=6==QZFL.userAgent.ie;b=txv.Popmanager.addInstance(this.popNameDef.HISTORY),txv.history.addShowHistoryCallback(function(){a&&txv.common.conf.playPageFlag&&h&&txv.history.adaptPopHeight(),b.open()}),txv.history.addHideHistoryCallback(function(){b.close()}),c=txv.Popmanager.addInstance(this.popNameDef.COLLECT),txv.headfavorite.addShowListCb(function(){c.open()}),txv.headfavorite.addHideListCb(function(){c.close()}),d=txv.Popmanager.addInstance(this.popNameDef.SEARCH),Live.SearchBox.addOnShowSelectorCallBack(function(){txv.common.conf.playPageFlag&&h&&(g||(g=$e("#modHeadSearchSuggest")),g.find("iframe").css("height",QZFL.dom.getSize("mod_keywords_list")[1]+"px")),d.open()}),Live.SearchBox.addOnHideSelectorCallBack(function(){d.close()}),e=txv.Popmanager.addInstance(this.popNameDef.LOGIN),txv.login.addOpenLoginCallback(function(){e.open()}),txv.login.addCloseLoginCallback(function(){e.close()}),f=txv.Popmanager.addInstance(this.popNameDef.TIPS),txv.tips.addOnHideTipsCallBack(function(){f.close()}),txv.tips.addOnShowTipsCallBack(function(){f.open()})},initSimpHead:function(a){function b(){QZFL.lang.isFunction(txv.nav.myhome.onShowMenu)&&txv.nav.myhome.onShowMenu()}function c(){QZFL.lang.isFunction(txv.nav.myhome.onHideMenu)&&txv.nav.myhome.onHideMenu()}function d(){var a,b=$e("#mod_player");return 1==b.size()&&(a=b.offset?b.offset().top:b.getXY()[1]),a}txv.nav={},txv.nav.myhome={};var e,f,g,h,i,e=$e("#modSimpleNavMore"),j=$e("#modNavChannels"),k=e.next(),l=j.height(),m=!1,n=j.attr("data-hovercls")||"hover";1==e.size()&&(i=txv.Popmanager.addInstance("simplNavMenuPop"),h=new Live.FloatMenu({menu:k,area:e,areaOutdelay:100,isNeedChangeDisplay:!1,onShow:function(c){b(),j.addClass(n),"undefined"==typeof f&&(f=k.height()),6!=QZFL.userAgent.ie||m||(k.css("display","block"),j.find("iframe").css("height",(f||100)+"px").css("width",k.width())),a&&(m||(g=d()),(!g||f+l>g)&&i.open())},onHide:function(b){j.removeClass(n),6==QZFL.userAgent.ie&&k.css("display",""),c(),(!a||!g||f+l>g)&&i.close()}})),a&&setTimeout(function(){var a=document.createElement("iframe");a.src="about:blank",a.frameborder="0",a.className="iframe_mask",k.prepend($j(a))},50)},getAvatar:function(a,b){return b=b||50,["http://qlogo",a%4+1,".store.qq.com/qzone/",a,"/",a,"/",b].join("")},isSupportedCSSProperty:function(){var a=null,b="Khtml O Moz Webkit".split(" "),c=b.length;return function(d){var e=!1,f=0;if(!QZFL.lang.isString(d))return e;if(a||(a=document.createElement("div")),d in a.style)e=!0;else if("-ms-"+d in a.style)e=!0;else for(d=d.replace(/^[a-z]/,function(a){return a.toUpperCase()});c>f;f++)if(b[f]+d in a.style){e=!0;break}return e}}(),initVipIcon:function(a){function b(){txv.vip.getVipInfo().done(function(a){txv.common.setHeadVipIcon(a),seajs.use("module/txv.nav.vip.js",function(b){b&&"function"==typeof b.init&&b.init(a)})})}var c="header_vip_icon",d=getElementById(c);txv.login.addLogoutCallback(function(){a?QZFL.dom.setStyle(d,"visibility","hidden"):QZFL.dom.setStyle(d,"display","none"),$e("[_type=vipBtnText]").text("开通VIP")}),txv.login.addLoginCallback(b),txv.login.addReadyCallback(function(a){a&&b()})},refreshHeadVipIcon:$j.noop,setHeadVipIcon:function(a){var b,c,d="header_vip_icon",e=a&&a.vip;if(txv.common.conf.isFilmPage)b=getElementById(d),c=$e(b),e?(c.removeClass("icon_notVip").removeClass("ico_dianying_gray").attr("title","VIP续费"),$e("[_type=vipBtnText]").text("VIP续费")):(c.addClass("icon_notVip").attr("title","开通VIP"),$e("[_type=vipBtnText]").text("开通VIP")),QZFL.dom.setStyle(b,"visibility",""),QZFL.dom.setStyle(b,"display","");else{var f=a&&a.annualvip,g=a&&a.level,h="";e?h=f?"ico_vipyear ico_vipyear_lv"+g:"ico_vip ico_vip_lv"+g:a.annualendtime>0?(h="ico_vipyear_grey",g>0&&(h="ico_vipyear ico_vipyear_lv"+g+"_grey")):(h="ico_vip_grey",g>0&&(h="ico_vip_grey ico_vip_lv"+g+"_grey")),$e("[data-type='viplogo']").attr("class",h)}txv.common.refreshHeadVipIcon(e)},initPageHotKey:function(){this.conf.needInitPageHotKey&&Live.mypv.initPageHotKey()},initMainNavSubNav:function(){var a,b="mod_nav_sub_list",c=$e("#"+b),d=0,e=0,f=c.find("a.nav_itme"),g=f.size();1==c.size()&&g>0&&c.hasClass("mod_nav_sub_adaptive")&&(a=c.getParent().attr("clientWidth"),f.each(function(a){d+=a.clientWidth-parseFloat(QZFL.dom.getStyle(a,"paddingLeft"))-parseFloat(QZFL.dom.getStyle(a,"paddingRight"))}),e=(a-d)/(2*g),QZFL.css.insertStyleSheet(b+"_style",".mod_nav_sub ul li .nav_itme{padding:0 "+e+"px}"),c.animate?$j("#mod_nav_sub_list").animate({opacity:1},50):c.fadeIn({speed:20}))},initSearchBar:function(a,b,c){if(!txv.common.conf.needInitSearchBar)return!1;var d,e,f,g,h=($e("#mod_search"),"txv_iframe_"+(new Date).getTime()),b="boolean"==typeof b?b:QZFL.lang.isElement(getElementById("head_main")),i={},j=b||c?Live.SearchBox.typedef.COMPLEX:Live.SearchBox.typedef.SIMPLE,k=null,l=null,m=!1;d=getElementById("iWord");var n=(new Date).getTime(),o=Math.floor(+new Date/18e5);QZFL.lang.isElement(d)&&($j.ajax({url:["http://v.qq.com/json/searchcfg/search_keyword.js?","v=",o].join(""),dataType:"jsonp",jsonpCallback:"SearchWordCallback20151104",cache:!0}).done(function(a){if(a&&a.search_word){var b=a.search_word;m=!0,QZFL.Storage.set("txv_search_keyword",[b,n].join("|")),d.value=QZFL.string.filterAngAndQt(b),k&&k.getDefauKeyword&&k.getDefauKeyword(),l&&(l.getDefauKeyword&&l.getDefauKeyword(),l.config.inputBox.val(b))}}),m||QZFL.Storage.get("txv_search_keyword",function(a){QZFL.lang.isString(a)&&a?(a=a.split("|"),a[1]+36e5<n?QZFL.Storage.set("txv_search_keyword",[d.value,n].join("|")):d.value=QZFL.string.filterAngAndQt(a[0])):QZFL.Storage.set("txv_search_keyword",[d.value,n].join("|"))})),f=getElementById("sform"),g=$e(f),e=getElementById("modHeadSearchSuggest");var p="";getElementById("head_v3")&&!getElementById("modSimpleNavMore")&&(p=Live.SearchBox.renderNameDef.v2),i={renderMethodName:p,suggestCgi:txv.path.search_suggest2,searchCgi:txv.path.search_cgi,callback:{onInputboxFocus:function(){g.addClass("focus")},onInputboxBlur:function(){g.removeClass("focus")}}},k=Live.SearchBox.defaultInit(j,i),k.addOnShowSelectorCallBack(function(){a&&!getElementById(h)&&QZFL.lang.isElement(e)&&QZFL.dom.createElementIn("iframe",e,!0,{className:"iframe_mask",src:"about:blank",id:h,frameborder:"0"}),QZFL.dom.setStyle(e,"display","block")}),k.addOnHideSelectorCallBack(function(){QZFL.dom.setStyle(e,"display","none")}),a&&document.sformFoot&&(l=Live.SearchBox.defaultInit(Live.SearchBox.typedef.DEFAULT,{searchForm:document.sformFoot,inputBox:$e("#iWordFoot"),sugSelector:$e("#sgt_list_foot"),sugCover:$e("#mod_keywords_list_foot"),searchBtn:$e("#sbuttonFoot"),defaultCls:"foot_search_txt",suggestCgi:txv.path.search_suggest}),QZFL.lang.isElement(d)&&$e("#iWordFoot").val(d.value))},initMytvMenu:function(a){},getNickInterval:$j.noop,bindBtnTj:function(){Live.mypv&&$j.isFunction(Live.mypv.bindBtnTj)&&Live.mypv.bindBtnTj()},btnTj:function(a){Live.mypv&&$j.isFunction(Live.mypv.btnTj)&&Live.mypv.btnTj(a)},isIframe:function(){return window!=top},isWebqq:function(){if(!txv.common.isIframe())return!1;try{if("undefined"!=typeof top.webqq)return!0}catch(a){return!1}},showDevImg:function(){},getDetailUrl:function(a,b){b=b||0;var c="";return c=0==b||Live.inArray(b,[1,2,98])>=0?"/detail/":"/cover/",[txv.common.rootPath,c,a.charAt(0),"/",a,".html"].join("")},getPlayUrl:function(a,b){if(a=a||b,!a)return"";if(a.length>0&&a===b)return txv.common.getPlayUrl(a);if(15==a.length){var c=[txv.common.rootPath,"/cover/",a.charAt(0),"/",a,".html"].join("");return b&&(c+="?vid="+b),c}return txv.common.getVideoPlayUrl(a)},getLinkAttr:function(a,b,c){if(!a||-1!=a.indexOf("+2+"))return null;for(var d=/\+(\d)\+/g.exec(a),e=txv.common.conf.noRightTips,f={target:"_self",url:"javascript:;"},g=1,h=d.length;h>g;g++){var i=e[d[g]];if(i)return f.hoverTitle=i,1==d[g]&&(QZFL.userAgent.windows?QZFL.string.isURL(b)?f.url=b:f.url=Live.util.getBpPlayUrl(b,c):(f.hoverTitle=e.toclient,f.url="javascript:;")),f}return f.hoverTitle=e.none,f},getPrevUrl:function(a,b,c){"undefined"!=typeof c&&c||(c=0);var d=[txv.common.rootPath,2>=c?"/prev/":"/cover/",a.charAt(0),"/",a].join("");return d+=b?2==c?"/"+b+".html":".html?vid="+b:".html"},getVideoPlayUrl:function(a){return"string"!=typeof a||a.length<11?"":[txv.common.rootPath,"/page/",a.substr(0,1),"/",a.substr(9,1),"/",a.substr(10,1),"/",a,".html"].join("")},getBokePlayUrl:function(a){return"string"!=typeof a||a.length<11?"":[txv.common.rootPath,"/boke/page/",a.substr(0,1),"/",a.substr(9,1),"/",a.substr(10,1),"/",a,".html"].join("")},filterUrlPramaVid:function(a){if(a){for(var b=!0,c=a.split("|"),d=0;d<c.length;d++){var e=c[d].split("_");if(11!=e[0].length||2==e.length&&isNaN(e[1])||e.length>2){b=!1;break}}return b?a:""}return""},getStaticPlayUrl:function(a,b){var c=[txv.common.rootPath,"/cover/",a.charAt(0),"/",a,".html?vid=",b].join("");return c},getPayUrl:function(a){return["/pay/newpay.html?id=",a].join("")},getVideoSnap:function(a,b){var c,d,e=1e8;if(a.indexOf("_")>0){var f=a.split("_");a=f[0],b=parseInt(f[1])}for(var g=4294967296,e=1e8,h=0,i=0;i<a.length;i++){var j=a.charCodeAt(i);h=32*h+h+j,h>=g&&(h%=g)}return d=h%e,void 0==b&&(b=0),c=0==b?["http://vpic.video.qq.com/",d,"/",a,"_160_90_3.jpg"].join(""):["http://vpic.video.qq.com/",d,"/",a,"_","160_90_",b,"_1.jpg"].join("")},getFullUrlPath:function(a){var b=window.location.host;return("sns.video.qq.com"==b||"play.v.qq.com"==b||"page.video.qq.com"==b)&&(b="v.qq.com"),[window.location.protocol,"//",b,txv.common.rootPath,a].join("")},formatVideoTitle:function(a){var b=/^(\d{2})(\d{2})(\d{2})([^_]+)(_?\d*)$/gi,c=/^(\d{4})(\d{2})(\d{2})([^_]+)(_?\d*)$/gi;return!c.test(a)&&b.test(a)&&(a=a.replace(b,"$4 20$1-$2-$3期")),a},useHtml5:function(){return $j.util.useHtml5()},formatNum:function(a){return $j.util.formatNum(a)},gotoLoginPage:function(a){if(txv.common.conf.needGoToLoginPage){var b="";txv.common.conf.useStrictLogin||(b="&low_login=1"),window.location.href="http://v.qq.com/pay/login.html?j="+encodeURIComponent(a||location.href)+b}else txv.login.logout();window.event&&(window.event.returnValue=!1)},getClassEn:function(a){var b={1:"movie",2:"tv",3:"cartoon",4:"sports",5:"ent",10:"variety",14:"variety",20:"variety",22:"music",24:"finance",9:"doco",23:"news",100:"education"};return b[a]||""},getClassChsName:function(a){var b={1:"电影",2:"电视剧",3:"动漫",4:"体育",5:"娱乐",10:"综艺",14:"综艺",20:"综艺",22:"MV",24:"财经",9:"纪录片",23:"新闻",100:"教育"};return b[a]||""},isEventSupported:function(a){return $j.util.isEventSupported(a)},formatTimeBySec:function(a,b){return $j.util.formatTimeBySec(a,b)},strToDate:function(a){return $j.util.strToDate(a)},getFunCallTrace:function(){return $j.util.getFunCallTrace()},getCoverImgtagHtml:function(a,b){var c="",d='<sup class="{param}">{text}</sup>',e='<span class="{param}"><em class="mark_inner">{text}</em></span>',f='<span class="{param}"><em class="mask_txt">{text}</em></span>',g='<sup class="{param}">{text}</sup>';return b=b||[1,2,3,4],a&&(a.tag_3&&a.tag_3.id>0&&-1!=QZFL.inArray(3,b)&&(c+=QZFL.string.format(f,a.tag_3)),a.tag_4&&a.tag_4.id>0&&-1!=QZFL.inArray(4,b)&&(c+=QZFL.string.format(g,a.tag_4)),a.tag_1&&a.tag_1.id>0&&-1!=QZFL.inArray(1,b)&&(c+=QZFL.string.format(d,a.tag_1)),a.tag_2&&a.tag_2.id>0&&-1!=QZFL.inArray(2,b)&&(c+=QZFL.string.format(e,a.tag_2))),c},checkHotLazyReport:function(a,b,c){Live.lazyreport.checkHotLazyReport(a,b,c)},watchReport:function(a,b){Live.TXVWATCH.watch(a,b)},initMsgCenter:function(){function a(){txv.navmessage&&!txv.navmessage.isInit&&(txv.navmessage.init(j),txv.common.addMsgPopInstance())}function b(){"undefined"==typeof txv.navmessage?$j.getScript("http://qzs.qq.com/tencentvideo_v1/js/txv.userbehavior.min.js?max_age=864000&v=20150713",a):a(),txv.Popmanager.addShowPopCallback(function(){$e("#mod_user_notice_tips").remove()}),d.delegate(".btn_close","click",function(a){QZFL.event.preventDefault(a),$e("#mod_user_notice_tips").remove()})}function c(){h.attr("title",""),g.show(),b(),i.hide(),d.show()}if(getElementById("mod_head_notice_pop")){var d=$e("#mod_head_user"),e=d.find("img"),f=e.attr("src"),g=d.find("[data-type='viplogo']"),h=$e("#mod_head_notice_trigger"),i=$e("#modSimpleNavLogin"),j={},k=1==$j("#head_v3").size();-1==f.indexOf("imgcache")&&(f="http://imgcache.gtimg.cn/tencentvideo_v1/vstyle/web/v3/style/images/default_avatar.png"),k&&(j={listSize:5}),(/v\.qq\.com\/(#|\?.*)?$/.test(document.URL)||document.URL.indexOf("//v.qq.com/cover/")>-1&&k)&&txv.common.showVipSys(),txv.login.isLogin()?c():QZFL.Storage.get("txv_navmessage_notLoginhidetips",function(a){1==a||0!=i.size()||k||b()}),txv.login.addLoginCallback(c),txv.login.addClearLoginStatusCallback(function(){e.attr("src",f),h.attr("title","未登录"),g.attr("class","").hide(),1==i.size()&&(d.removeClass("open"),d.hide(),i.show())})}},getVipSys:function(a){a=a||"vcoin,vipinfo";var b="http://video.qq.com/fcgi-bin/get_user_profile?otype=json",c=$j.Deferred();return $j.ajax({url:b,data:{datakey:a},dataType:"jsonp",success:function(a){return a&&0==a.err_code?void c.resolve(a):void c.reject(a)},error:function(){c.reject()}}),c},isTaskDone:function(){var a="http://growth.video.qq.com/fcgi-bin/query_growth_task_status?taskids=",b=$j.Deferred();return $j.ajax({url:a,dataType:"jsonp",success:function(a){return a&&0==a.ret?void b.resolve(a):void b.reject(a)},error:function(){b.reject()}}),b},showVipSys:function(){function a(){txv.common.isTodayShowed(function(a){a||txv.common.getVipSys().done(function(a){if(a.show_coin_tips_info.is_show_tips&&1!=a.vip_info.vip){txv.common.btnTj("nav.vcoin.showexchange");var b='<div class="mod_quick_pop mod_pop_user" id="guid_tips" style="display: block"><div class="quick_pop_inner"><i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i><div class="pop_info_content"><a href="javascript:;" class="quick_pop_close" data-boss="7" _hot="nav.vcoin.closeexchange">×</a><div class="quick_pop_girl"></div><div class="quick_pop_note"><div class="quick_pop_note_desc">你有{total}V币，可以使用{price}V币兑换<a href="javascript:;">腾讯视频VIP体验券</a></div></div><div class="quick_pop_btnchange">	<a href="http://v.qq.com/u/wallet/index.html" target="_blank" data-boss="8" class="btn_change" _hot="nav.vcoin.exchange">立即兑换</a></div></div></div></div>';$j("#guid_tips").length&&$j("#guid_tips").remove(),txv.common.reportBossVipSys(4),$j("#mod_head_notice_pop").after(QZFL.string.format(b,{total:a.propertys[1].property_count,price:a.show_coin_tips_info.daily_vip_price})),$j("#guid_tips").on("mouseenter",function(a){a.stopPropagation()}).on("click",".quick_pop_close,.btn_change",function(){$j("#guid_tips").hide(),txv.common.setVipSysShowTime()}).on("click","[data-boss]",function(){var a=$j(this).attr("data-boss");txv.common.reportBossVipSys(a)})}})})}var b=$e("#mod_head_user"),c='<div class="mod_quick_pop mod_pop_user" style="display:none" id="not_login_tips"><div class="quick_pop_inner"><i class="triangle_up triangle_up_wrap"><i class="triangle_up"></i></i><div class="pop_info_content"><div class="quick_pop_girl"></div><div class="quick_pop_note"><div class="quick_pop_note_tips">温馨提示：</div><div class="quick_pop_note_desc">登录后可以赚V币喔~</div>	<div class="quick_pop_note_txt">V币可以兑换商品了</div></div><div class="quick_pop_btnsign"><a href="javascript:;" data-type="login" class="btn_sign _hide" data-boss="5" _hot="nav.vcoin.login">马上登录</a></div></div></div></div>';$j("#not_login_tips").length||($j("#mod_head_notice_pop").after(c),$j("#not_login_tips").on("click","[data-boss]",function(){txv.common.reportBossVipSys($j(this).attr("data-boss"))})),$j("#not_login_tips").on("click","._hide",function(){$j("#not_login_tips").hide()});var d='<div class="quick_pop_vcoin" id="mod_head_vipexchange" style="display: none"><a href="http://v.qq.com/u/wallet/index.html" data-boss="9" _hot="nav.vcoin.task" target="_blank">你今日还有V币未领&gt;&gt;</a></div>';$j("#mod_head_vipexchange").length||($j("#mod_head_moneybag").after(d),$j("#mod_head_vipexchange").on("click","[data-boss]",function(){var a=$j(this).attr("data-boss");txv.common.reportBossVipSys(a)}));var e=null,f=null;txv.login.addReadyCallback(function(){b.on("mouseenter",function(){clearTimeout(f),txv.login.isLogin()||(clearTimeout(e),"none"==$j("#not_login_tips").css("display")&&(f=setTimeout(function(){txv.common.reportBossVipSys(3)},300)),$j("#not_login_tips").show()),$j("#guid_tips").hide(),txv.common.isTaskDone().always(function(a){a&&a.bfinished===!1?$j("#mod_head_vipexchange").show():$j("#mod_head_vipexchange").hide()})}).on("mouseleave",function(){e=setTimeout(function(){$j("#not_login_tips").hide()},300)}),txv.login.isLogin()?a():QZFL.Storage.get("show_vcoin_login",function(a){txv.common.isInToday(a)||(txv.common.btnTj("nav.vcoin.notlogin"),txv.common.reportBossVipSys(3),$j("#not_login_tips").show(),QZFL.Storage.set("show_vcoin_login",(new Date).getTime()),e=setTimeout(function(){$j("#not_login_tips").hide()},5e3))}),txv.login.addLoginCallback(a),txv.login.addLogoutCallback(function(){$j("#guid_tips").hide(),$j("#mod_head_vipexchange").hide()})})},isTodayShowed:function(a){var b=txv.login.getUnicode(),c="";QZFL.Storage.get("show_vcoin_exchange",function(d){var e=!1;d&&(d=$j.parseJSON(d),d[b]&&(c=d[b],c&&(e=!0))),a&&a(e)})},isInToday:function(a){var b=new Date,c=new Date(b.getTime()+864e5),d=c.getFullYear(),e=c.getMonth()+1,f=c.getDate(),g=new Date([d,e,f].join("/"));return 1*a+864e5>g.getTime()?!0:!1},setVipSysShowTime:function(){if(txv.login.isLogin()){var a=QZFL.Storage.get("show_vcoin_exchange");a=a?$j.parseJSON(a):{},a[txv.login.getUnicode()]=(new Date).getTime(),QZFL.Storage.set("show_vcoin_exchange",QZFL.lang.obj2str(a))}},reportBossVipSys:function(a){var b={url:document.URL,uin:txv.login.getUin(),BossId:3809,Pwd:1896006998,target:a},c="http://btrace.qq.com/kvcollect?"+$j.param(b);Live.report(c)},addMsgPopInstance:function(){if("function"==typeof txv.navmessage.addShowPopCb){var a=txv.Popmanager.addInstance(txv.common.popNameDef.MESSAGE);txv.navmessage.addShowPopCb(function(){a.open()}),txv.navmessage.addHidePopCb(function(){a.close()})}},getBpPlayUrl:function(a,b){var c="";return a&&(c="qqlive://sso/vbarid="+a),b&&(c+="&videoid="+b),c},getCurPageType:function(){return Live.mypv.getCurPageType()},setPopIframeHeight:function(a,b){if(a&&6==QZFL.userAgent.ie){var c;if("string"==typeof a)c=$e("#"+a);else{if(!a.size)return;c=a}if("undefined"==typeof b&&1==c.size())if("function"==typeof c.height)b=c.height();else{var d=c.getSize()||[],e=parseInt(c.css("paddingTop"),10)||0;b=d[1]||0,b>e&&(b-=e)}b>0&&c.find("iframe").css("height",b+"px")}},initClientPortalHack:function(){if(QZFL.userAgent.windows&&-1!=navigator.userAgent.indexOf("QQLive")&&Live.userAgent.webkit){var a=!1;txv.login.openLogin=function(){a||(a=!0,Live.actionManager.one("cphack_act_openlogin",txv.login.openLogin))},$j.getScript("http://qzs.qq.com/tencentvideo_v1/js/txv.cphack.min.js?v=20140611&max_age=604800")}}},QZFL.object.extend(QZFL.string,{filterAngleBrk:function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;")},filterQuote:function(a){return a.replace(/\x27/g,"&acute;").replace(/\x22/g,"&quot;")},filterAngAndQt:function(a){return a=QZFL.string.filterAngleBrk(a),a=QZFL.string.filterQuote(a)}}),function(){if(-1==txv.log.isdebug){var a=txv.common.getUrlParam("debug"),b=-1;switch(a){case"true":case"2":b=2;break;case"trace":case"1":b=1}txv.log.isdebug=b}}(),Live.txv.tips=function(a,b,c,d){this.divName="ipop",this.title="温馨提示",this.showTitle=b,this.showContent=c,this.linkText="",this.linkHref="",this.btnShowText="",this.btnShowHref="javascript:;",this.btnShowClass=d||"btn_strong",this.btnShowTarget="_self",this.btnCloseText="关闭",this.btnCloseClass="btn_normal",this.iconClass="",this.tipsType=txv.tips.ConstTipsType.Message,this.needRemind=0,this.needChoose=0,this.textChoose="",this.width=0,this.height=0,this.top=0,this.left=0,this.display="block",this.padding="0px",this.isShowClose=!0,this.InitPosition(),this.floatTimer=2e3,this.t_Closer='<a href="javascript:;" class="mod_pop_close">关闭</a>',this._t_Remind="",this.t_Title="",this._t_Choose="",this._t_closeFunc=0,this.showAtCenter=!0},Live.txv.tips.ConstTipsType={Warning:1,Message:2,Float:3},Live.txv.tips.prototype={bulitIcon:function(){this._Icon='<div class="icon"><i class="'+this.iconClass+'"></i></div>'},bulitHeader:function(){this.t_Header=['<div class="mod_pop_hd">'].join(""),QZFL.lang.isString(this.title)&&this.title.length>0?this.t_Header=[this.t_Header,"<h3>",this.title,"</h3>"].join(""):this.t_Header=[this.t_Header,"<h3>","</h3>"].join(""),this.isShowClose&&(this.t_Header+=this.t_Closer),this.t_Header+="</div>"},bulitContentTitle:function(){this._TitleShow='<h4 class="title">'+this.showTitle+"</h4>"},bulitContent:function(){this._Link=""!=this.linkText?'<a href="'+this.linkHref+'">'+this.linkText+"</a>":"";var a=['<div class="cont"><p>',this.showContent,this._Link,"</p>"];this.needChoose&&this._t_Choose&&a.push(this._t_Choose),this.needRemind&&this._t_Remind&&a.push(this._t_Remind),a.push("</div>"),this._t_ContentShow=a.join("")},bulitNormalTxt:function(){this.bulitContentTitle(),this.bulitContent(),this._t_TextShow=['<div class="text">',this._TitleShow,this._t_ContentShow,"</div>"].join("")},bulitSimpTxt:function(){this._t_TextShow='<div class="text">'+this.showContent+"</div>"},bulitBtn:function(){this._BtnShow=""!=this.btnShowText?'<a class="'+this.btnShowClass+'" href="'+this.btnShowHref+'" target="'+this.btnShowTarget+'"><span>'+this.btnShowText+"</span></a>":"",this._BtnClose=""!=this.btnCloseText?'<a class="'+this.btnCloseClass+'" href="javascript:;"><span>'+this.btnCloseText+"</span></a>":"",this._t_BtnText=this._BtnShow+this._BtnClose!=""?'<div class="mod_pop_ft">'+this._BtnShow+this._BtnClose+"</div>":""},bulitSimpTips:function(){return this.bulitSimpTxt(),['<div class="mod_hint">',this._Icon,this._t_TextShow,"</div>",this._t_BtnText].join("")},bulitFloatTips:function(){return this.bulitSimpTxt(),['<div class="mod_hint">',this._Icon,this._t_TextShow,"</div>"].join("")},bulitNormalTips:function(){return this.bulitNormalTxt(),[this.t_Header,'<div class="mod_diglog"><div class="diglog_alert"><div class="diglog_alert_inner">',this._Icon,this._t_TextShow,"</div></div></div>",this._t_BtnText].join("")},setTipsTitle:function(a){"string"==typeof a&&(this.title=a,this.bulitHeader())},setShowAtCenter:function(a){"boolean"==typeof a&&(this.showAtCenter=a)}},Live.txv.tips.prototype.InitPosition=function(){var a=document.body.scrollTop,b=373,c=235;if(this.tipsType===txv.tips.ConstTipsType.Float){var d=QZFL.userAgent.ie&&QZFL.userAgent.ie<8?20:15;b=this.showContent.length*d+160,c=110}0==a&&(a=document.documentElement.scrollTop);var e=document.documentElement.clientHeight;0==e&&(e=document.body.clientHeight),this.width=b,this.height=c,this.showAtCenter&&(this.top=e/2+a-this.height/2,this.left=(document.body.scrollWidth-this.width)/2),this.position="absolute",this.display="block",this.padding=0},Live.txv.tips.prototype.onBtnOk=function(a){QZFL.event.preventDefault(a)},Live.txv.tips.prototype.onBtnClose=function(){},Live.txv.tips.prototype.SetType=function(a){switch(this.tipsType=a,a){case Live.txv.tips.ConstTipsType.Warning:this.iconClass="icon_hint_warn";break;case Live.txv.tips.ConstTipsType.Message:case Live.txv.tips.ConstTipsType.Float:default:this.iconClass="icon_hint_succeed"}this.bulitIcon()},Live.txv.tips.prototype.SetBtn=function(a,b,c,d){this.btnShowText=a,c&&d&&(this.btnShowHref=c,this.btnShowTarget=d),""!=b&&(this.btnCloseText=b),this.bulitBtn()},Live.txv.tips.prototype.SetLink=function(a,b){this.linkText=a,this.linkHref=b,this.bulitContent()},Live.txv.tips.prototype.SetPostion=function(a,b){this.top=b,this.left=a},Live.txv.tips.prototype.AddRemind=function(){this.needRemind=1,this._t_Remind='<p class="input_middle"><input type="checkbox" name="input_remind" value="1" id="input_remind" /><label for="input_remind">不再提醒</label></p>',this.bulitContent()},Live.txv.tips.prototype.AddChoose=function(a){this.needChoose=1,this._t_Choose='<p class="input_middle"><input type="checkbox" name="input_choose" value="1" id="input_choose" /><label for="input_choose">'+a+"</label></p>",this.bulitContent()},Live.txv.tips.prototype.SetHide=function(){$e("#"+this.divName).hide(),txv.login.hideMask()},Live.txv.tips.prototype.HideClose=function(){this.isShowClose=!1},Live.txv.tips.prototype._init=function(){this.bulitBtn(),this.bulitHeader(),this.tipsType===txv.tips.ConstTipsType.Float?this.tipsHTML=this.bulitFloatTips():this.tipsHTML=this.bulitNormalTips()},Live.txv.tips.prototype.FillPage=function(){function a(){h.hide(),txv.login.hideMask(),"function"==typeof Live.txv.tips.onHideTips&&Live.txv.tips.onHideTips()}var b,c,d,e=this.divName+"_iframe",f=this,g=txv.common.conf.playPageFlag&&!txv.common.useHtml5();getElementById(this.divName)||(b=$e("body"),b.create("div",{id:this.divName,"class":"mod_pop"})),(!QZFL.lang.isString(this.tipsHTML)||this.tipsHTML.length<=0)&&this._init();var h=$e("#"+this.divName);if(h.hide(),h.html(this.tipsHTML),h.addClass("mod_pop"),this.InitPosition(),h.css("width",this.width+"px"),h.css("height","auto"),this.showAtCenter?(h.css("top","50%"),h.css("marginLeft",-this.width/2+"px"),h.css("marginTop",-this.height/2+"px"),h.css("left","50%")):(h.css("top",this.top+"px"),h.css("left",this.left+"px")),h.css("position",this.position),h.css("display",this.display),h.css("padding",this.padding),d=parseInt(h.css("height")),isNaN(d)){var i=getElementById(this.divName);i&&(d=i.scrollHeight)}if(g){h.create("iframe",{scrolling:"no",id:e,frameborder:"0"}),c=$e("#"+e),c.hide(),c.css("position","absolute"),c.css("top","0"),c.css("left","0"),c.css("width",this.width+"px"),c.css("height",d+"px"),c.css("border","none"),c.css("zIndex","100"),c.show();var j=h.find(">div");j.css("position","relative"),j.css("zIndex","101")}if(h.show(),"function"==typeof Live.txv.tips.onShowTips&&Live.txv.tips.onShowTips(),txv.login.showMask(this.divName,this.width,d,this.showAtCenter),h.find(".mod_pop_close").bind("click",function(){a(),"function"==typeof f.onBtnClose&&f.onBtnClose();try{$e("#input_remind").elements[0].checked&&QZFL.cookie.set("ql_alert",1,"v.qq.com","/",17520)}catch(b){}}),""!=this.btnShowText&&h.find("."+this.btnShowClass).bind("click",function(b){a(),"function"==typeof f.onBtnOk&&f.onBtnOk(b)}),h.find("."+this.btnCloseClass).bind("click",function(){a(),"function"==typeof f.onBtnClose&&f.onBtnClose()}),this.tipsType==txv.tips.ConstTipsType.Float){var k=isNaN(this.floatTimer)?1e3:this.floatTimer;setTimeout(function(){a()},k)}},Live.txv.tips.onShowTipsEventList=[],Live.txv.tips.onHideTipsEventList=[],Live.txv.tips.addOnShowTipsCallBack=function(a){"function"==typeof a&&Live.txv.tips.onShowTipsEventList.push(a)},Live.txv.tips.addOnHideTipsCallBack=function(a){"function"==typeof a&&Live.txv.tips.onHideTipsEventList.push(a)},Live.txv.tips.onShowTips=function(){if(QZFL.lang.isArray(Live.txv.tips.onShowTipsEventList))for(var a=0,b=Live.txv.tips.onShowTipsEventList.length;b>a;a++)"function"==typeof Live.txv.tips.onShowTipsEventList[a]&&Live.txv.tips.onShowTipsEventList[a]()},Live.txv.tips.onHideTips=function(){if(QZFL.lang.isArray(Live.txv.tips.onHideTipsEventList))for(var a=0,b=Live.txv.tips.onHideTipsEventList.length;b>a;a++)"function"==typeof Live.txv.tips.onHideTipsEventList[a]&&Live.txv.tips.onHideTipsEventList[a]()},Live.txv.tips.ShowTips=function(a,b,c,d,e,f,g,h){if(a=a||"",b="温馨提示",c=c||"",d=d||"",e=e||"",f=f||"",g=g||"",""!=a&&""!=c){""==g&&(g=txv.tips.ConstTipsType.Warning);var i=new txv.tips(b,c,d);i.SetBtn(e,f),i.SetType(g),i.onBtnOk=function(a){QZFL.event.preventDefault(a),i.SetHide(),"function"==typeof h&&h()},i.FillPage(a)}},Live.txv.tips.ShowFloatTips=function(a,b){if(QZFL.lang.isString(a)&&a.length>0){var c=new txv.tips;c.showContent=a,isNaN(b)||(c.floatTimer=1e3*b),c.SetType(txv.tips.ConstTipsType.Float),c.FillPage()}},Live.txv.tips.ShowSimpMsgTips=function(a,b,c,d){if(QZFL.lang.isString(b)&&QZFL.lang.isString(a)){var e=new txv.tips;e.showTitle=a,e.showContent=b,e.btnCloseClass="btn_strong",c&&(e.btnCloseText=c,d="function"==typeof d?d:QZFL.emptyFn,e.onBtnClose=d),e.SetType(txv.tips.ConstTipsType.Message),e.FillPage()}},Live.txv.tips.ShowSimpWarningTips=function(a,b,c,d){if(QZFL.lang.isString(b)&&QZFL.lang.isString(a)){var e=new txv.tips;e.showTitle=a,e.showContent=b,e.btnCloseClass="btn_strong",c&&(e.btnCloseText=c,d="function"==typeof d?d:QZFL.emptyFn,e.onBtnClose=d),e.SetType(txv.tips.ConstTipsType.Warning),e.FillPage()}},Live.txv.vip=function(){var a=!1,b=null,c=null,d=null,e=null,f=!1,g=null,h=null,i=-1!=location.href.indexOf("http://film.qq.com"),j=!1,k=!1,l=function(){return a},m=new Live.Callback("unique"),n=function(){txv.tips.ShowSimpWarningTips("获取VIP信息失败","服务器繁忙，暂时无法获取您的VIP信息！请尝试重新登录您的账号。"),b=null,c=null},o=n,p=function(){return"fm_v_"+txv.login.getUnicode()},q=function(){QZFL.Storage.set(p(),""),QZFL.Storage.remove(p())},r=function(){return"qq_v_"+txv.login.getUin()},s=function(){if(d instanceof Live.Deferred)return d;if(d=new Live.Deferred,txv.login.isLogin())if(i){var a=txv.login.getUnicode();if(localStorage.getItem(["hlw_vip_",a].join(""))){var b=localStorage.getItem(["hlw_vip_",txv.login.getUnicode()].join(""));d&&(b.length>0?d.resolve(b):d.reject())}}else QZFL.Storage.get(p(),function(a){"object"==QZFL.object.getType(a)&&QZFL.lang.isString(a.value)&&(a=a.value),d&&(QZFL.lang.isString(a)&&a.length>0?d.resolve(a):d.reject())});else d.reject();return d},t=function(){return e instanceof Live.Deferred?e:(e=new Live.Deferred,txv.login.isLogin()?QZFL.Storage.get(r(),function(a){"object"==QZFL.object.getType(a)&&QZFL.lang.isString(a.value)&&(a=a.value),e&&(QZFL.lang.isString(a)&&a.length>0?e.resolve(a):l()&&w(null,!1,0,c))}):e.reject(),e)},u=function(a){txv.login.isLogin()&&QZFL.lang.isString(a)&&QZFL.Storage.set(p(),[txv.login.getUnicode(),a,(new Date).getTime()].join("|"))},v=function(a){txv.login.isLogin()&&!isNaN(parseInt(a,10))&&QZFL.Storage.set(r(),[txv.login.getUin(),a,(new Date).getTime()].join("|"))},w=function(a,b,c,d){if(f&&!c)return void setTimeout(function(){w(a,b,c,d)},25);if(l()&&(d||(d=new Live.Deferred)),!(a instanceof Live.Deferred)){if(!(d instanceof Live.Deferred))return;a=new Live.Deferred}if(a.always(function(){f=!1}),a.done(function(a){a&&a.endTime&&u(a.endTime)}).fail(q),d&&d.always(function(a){a&&"number"==typeof a.qqvip&&v(a.qqvip)}),!a.isFired()){if(b=b?1:0,g&&(!b||g.endTime)&&g.vip&&!d)return void(g.vip?a.resolve(g):a.reject(g));
if(h&&d instanceof Live.Deferred)return void d.resolve(h);f=!0;var e=c&&c>0?txv.path.checkIsVip.replace("pay.video.qq.com","paybak.video.qq.com"):txv.path.checkIsVip,i=new Live.RetCode(e);$j.ajax({url:e,data:{uin:txv.login.getUin(),t:b?1:0,getadpass:j?1:0,getqqvip:d?1:0},dataType:"jsonp",CSRF:!0,timeout:c&&c>0?4e3:2e3,beforeSend:function(){i.begin()},success:function(e){if(e&&e.result){if(0==e.result.code)g=e,h={qqvip:e.qqvip},c&&c>0?i.report(Live.retCode.TYPE.SUC,"99"):i.reprotSuc(),m.fire(1==e.vip);else{if(-11==e.result.code)return i.reportErr(e.result.code),QZFL.lang.isFunction(txv.vip.onNotLogin)?txv.vip.onNotLogin(a,b):a.reject(e),f=!1,F(),void x({str1:"not login"});i.reportErr(e.result.code),o(),x({str1:"cgi return error code:"+e.result.code})}e.vip?a.resolve(e):a.reject(e),d instanceof Live.Deferred&&(e.qqvip>0?d.resolve(e):d.reject(e))}else i.reportErr(-13),o(),a.reject(e),d instanceof Live.Deferred&&d.reject(e),x({str1:"invalid json"})},error:function(e){c?(e=e||"cgi error",i.reportErr(-500),o(),a.reject(),d instanceof Live.Deferred&&d.reject(json),x({str1:e})):w(a,b,1,d)}}).always(B)}},x=function(a){var b="http://rcgi.video.qq.com/web_report?cmd=2562&ctype=1&",c=new Image,d=[];QZFL.object.extend(a,{ua:navigator.userAgent});for(var e in a)d.push(e+"="+encodeURIComponent(a[e]));b+=d.join("&"),c.src=b},y=function(a){if(!txv.login.isLogin()){var c=new Live.Deferred;return c.reject(),c}return a?(F(),b instanceof Live.Deferred||(b=new Live.Deferred,b.always(B)),w(b,!0),b):(b instanceof Live.Deferred||(b=new Live.Deferred,b.always(B)),s().done(function(a){if(QZFL.lang.isString(a)){var c=a.split("|"),d=new Date,e=864e5;if(3==c.length&&!isNaN(c[2])&&d.getTime()-c[2]<e)if(i){var g=JSON.parse(c[0]);if(1==g.vip&&txv.common.strToDate(c[1])>d)return void b.resolve(g);if(0==g.vip)return void b.resolve(g)}else if(!f&&c[0]==txv.login.getUnicode()&&txv.common.strToDate(c[1])>d)return void b.resolve({endTime:c[1]})}w(b)}).fail(function(){w(b)}),b)},z=function(){if(!txv.login.isLogin()){var a=new Live.Deferred;return a.reject(),a}return c instanceof Live.Deferred||(c=new Live.Deferred),t().done(function(a){if(QZFL.lang.isString(a)){var b=a.split("|"),d=new Date,e=432e5;if(3==b.length&&!isNaN(b[2])&&d.getTime()-b[2]<e&&b[0]==txv.login.getUin())return void c[b[0]>0?"resolve":"reject"]({qqvip:parseInt(b[1],10)})}l()&&w(null,!1,0,c)}).fail(function(){l()&&w(null,!1,0,c)}),c},A=function(d,e){var h=new Live.Deferred;return txv.login.isLogin()?g?(h.resolve(g),h):(void 0===e&&(e=a),F(),f=!0,b=new Live.Deferred,e&&(c=new Live.Deferred),h.always(B),C(h,e),h):(h.reject(),h)},B=function(a){f=!1,a&&"undefined"!=a.adpass&&(k=1==a.adpass),b&&b instanceof Live.Deferred&&!b.isFired()&&(a&&1==a.vip&&a.endTime?b.resolve(a):b.reject()),a&&1==a.vip&&a.endTime&&u(a.endTime),a&&a.qqvip>0&&v(a.qqvip),c&&c instanceof Live.Deferred&&!c.isFired()&&(a&&"undefined"!=a.qqvip?c.resolve(a):c.reject())},C=function(a,b,c){var d=c&&c>0?txv.path.checkIsVip.replace("pay.video.qq.com","paybak.video.qq.com"):txv.path.checkIsVip,e=new Live.RetCode(d);$j.ajax({url:d,data:{uin:txv.login.getUin(),getqqvip:b?1:0,t:i?1:0,getadpass:j?1:0},dataType:"jsonp",CSRF:!0,timeout:c&&c>0?4e3:2e3,beforeSend:function(){e.begin()},success:function(b){if(b&&b.result){if(0==b.result.code)return g=b,c&&c>0?e.report(Live.retCode.TYPE.SUC,"99"):e.reprotSuc(),void a.resolve(b);if(a.reject(b),-11==b.result.code)return e.reportErr(b.result.code),void x({str1:"not login"});e.reportErr(b.result.code),x({str1:"cgi return error code:"+b.result.code})}else e.reportErr(-13),a.reject(b),x({str1:"invalid json"})},error:function(d){c?(a.reject(),d=d||"cgi error",e.reportErr(-500),x({str1:d})):C(a,b,1)}})},D=function(a,c){txv.log("此方法与getVipInfo混用会出问题。建议直接使用getVipInfo，包含isVip的作用"),a=QZFL.lang.isFunction(a)?a:QZFL.emptyFn,txv.login.isLogin()?(!c&&b instanceof Live.Deferred||(b=y(c)),b.always(function(){var c=b instanceof Live.Deferred?b.isResolved():!1;a(c)})):a(!1)},E=function(a){a=QZFL.lang.isFunction(a)?a:QZFL.emptyFn,txv.login.isLogin()?(c instanceof Live.Deferred||(c=z()),c.always(function(b){a(b.qqvip)})):a(0)},F=function(){b instanceof Live.Deferred&&b.isFired()&&(b=null),d instanceof Live.Deferred&&d.isFired()&&(d=null),c instanceof Live.Deferred&&c.isFired()&&(c=null),e instanceof Live.Deferred&&e.isFired()&&(e=null),g=null,h=null,k=!1};return txv.login.addClearLoginStatusCallback(F),txv.login.addOpenLoginCallback(F),{setNeedQQvip:function(b){a=!!b},isVip:D,getQQvip:E,checkIsVip:y,getVipInfo:A,commitVipByServer:w,showErrTips:n,getVipStorageInfo:s,delVipStorageInfo:q,changeErrHandle:function(a){QZFL.lang.isFunction(a)&&(o=a)},addChangeStatusCb:m.add,onNotLogin:null,setIsNeedToGetAdPassInfo:function(a){j=!!a},hasAdPassRight:function(){return txv.login.isLogin()&&k}}}(),txv.history={option:{coverid:"",tit:null,lnk:null,isPay:0,vid:"",typeid:""},nParamDef:{BATCHINFO:8,ONEINFO:7,LIST:1,DELETEONE:4},rParamDef:{ONEREPORT:3,BATCHREPORT:4,ONEINFO:6},rfDefine:{V:"v",FILM:"hlw"},localStorageItemDefine:{V:{uins:"ten_video_history_uin_storage_key",history:"ten_video_history"},FILM:{uins:"txv_film_history_uin_storage",history:"txv_film_history"}},site:"V",mod_id:"history_pop",hisList:null,storageReady:!1,localUserStorgeKeyArr:null,uinStorageKey:"ten_video_history_uin_storage_key",historyKey:"ten_video_history",template:'<dd key="{key}"><a href="{lnk}" _hot="mynav.historylist.{pageType}" _qtag="nav.history" title="{hoverTit}" target="{target}" class="video_name">{tit}</a><span class="video_timestamp">{timeTips}</span><a href="javascript:;" _hot="mynav.historydelete.{pageType}"  _key="{key}" data-type="del" title="删除" _idx={idx} class="btn_close">×</a></dd>',rmAllTemp:'<a href="javascript:;" class="btn_clear" id="rmAllHistory"><i class="ico_clear"></i><span class="ico_text">清空播放记录</span></a>',iframeTemp:'<iframe src="about:blank" frameborder="0" class="iframe_mask"></iframe>',byDayTpl:'<dl class="timeline_video_list {cls}">{day}{content}</dl>',dayTpl:'<dt><span class="dot_wrap"><i class="timeline_dot">●</i></span><span class="timeline_date {cls}"><i class="triangle_left"></i>{text}</span></dt>',noResultTpl:'<div class="pop_info_nothing"><i class="ico_film_large"></i><p class="hint_text">{tips}</p></div>',notLoginNoResultTpl:'<div class="pop_info_nothing pop_timeline_login"><a href="javascript:;" class="btn_login" data-type="login">登录</a><p class="hint_text">请登录查看历史记录</p></div>',getMoreBtnTpl:'<a href="http://v.qq.com/u/history/" target="_blank" class="btn_pop_link _checklogin" data-type="getMoreHistory" _hot="mynav.historymore.{pageType}"><span class="ico_text">{tips}</span></a>',noResultCls:"mod_history_pop_nothing",noLoginCls:"mod_history_pop_login",emptyTips:"您暂时还没有历史记录",errorTips:"获取数据失败",timeLongLimit:300,reportTimer:0,reportToServerTimeLimit:30,v2:!1,onShowHistory:QZFL.emptyFn,onHideHistory:QZFL.emptyFn,onSwitchUser:function(){$e("#"+txv.history.mod_id).html("")},localAddLock:!1,isBatchReport:!1,playPageFlag:!1,navSize:10,onesLocalSize:10,timeFlagDef:{finish:-2,begin:-1},lastReportToServerKeyid:"",pageType:"",_onShowContentCbObj:new Live.Callback("unique"),_onHideContentCbObj:new Live.Callback("unique"),addShowHistoryCallback:function(a){txv.history._onShowContentCbObj.add(a)},addHideHistoryCallback:function(a){txv.history._onHideContentCbObj.add(a)},setCurVideo:function(a){QZFL.object.extend(txv.history.option,a),txv.history.onSwitchUser()},init:function(a,b){txv.history.v2=!!b,txv.history.playPageFlag=!!a,txv.history.pageType=txv.common.getCurPageType();var c,d,e,f,g="open";this.setSite(),this.setStorageReady(),txv.history.v2?txv.history.initV2():(c=$e("#history"),d=$e("#"+txv.history.mod_id),f=c.find("h6 a"),0==f.size()&&(f=$e("#modHistoryTrigger"),g="mod_history_open"),e=new Live.FloatMenu({menu:d,area:f,areaOutdelay:100,onShow:function(a){c.addClass(g),0==QZFL.string.trim(d.html()).length&&(txv.history.showEmpty(" 正在努力获取数据.."),txv.history.showHistory()),getElementById("history_list")&&"function"==typeof txv.history.onShowHistory&&txv.history.onShowHistory(),txv.history._onShowContentCbObj.fire(),txv.common.btnTj("mynav.historyhover."+txv.history.pageType)},onHide:function(a){c.removeClass(g),"function"==typeof txv.history.onHideHistory&&txv.history.onHideHistory(),txv.history._onHideContentCbObj.fire()}})),this.bindRm(),this.initHotReportKey(),txv.login.addLogoutCallback(function(){txv.history.onSwitchUser(),txv.history.hisList=null}),txv.login.addClearLoginStatusCallback(function(){txv.history.onSwitchUser(),txv.history.hisList=null}),a||(txv.history.batchReportToServer(txv.history.navSize,{withoutLocal:function(){null==txv.history.hisList&&txv.history.onSwitchUser()}}),txv.login.addLoginCallback(function(){txv.history.hisList=null,txv.history.onSwitchUser(),txv.history.isBatchReport=!1,txv.history.batchReportToServer(txv.history.navSize,{withoutLocal:function(){null==txv.history.hisList&&txv.history.onSwitchUser()}})}))},setStorageReady:function(){QZFL.Storage.get("anything",function(){txv.history.storageReady=!0})},initV2:function(){function a(){if(g.addClass("open"),txv.history.playPageFlag&&0===d.find("iframe").size()){var a=document.createElement("iframe");a.src="about:blank",a.frameborder="0",a.className="iframe_mask",$j(a).insertBefore(e)}0==QZFL.string.trim(e.html()).length&&(txv.history.showEmpty(" 正在努力获取数据.."),txv.history.showHistory(),txv.common.btnTj("history")),"function"==typeof txv.history.onShowHistory&&txv.history.onShowHistory(),txv.history._onShowContentCbObj.fire(),txv.common.btnTj("mynav.historyhover."+txv.history.pageType)}txv.history.mod_id="modHistoryContent";var b,c,d=(txv.common.isSupportedCSSProperty("transition"),$e("#history_pop")),e=$e("#"+txv.history.mod_id),f="hover",g=$e("#modHistory");c=$e("#toggleHistory"),b=new Live.FloatMenu({menu:d,area:c,areaOutdelay:100,isNeedChangeDisplay:!1,onShow:function(b){a()},onHide:function(a){g.removeClass("open"),"function"==typeof txv.history.onHideHistory&&txv.history.onHideHistory(),txv.history._onHideContentCbObj.fire()}}),d.undelegate("dl>dd","mouseover").delegate("dl>dd","mouseover",function(a){d.find("dd."+f).removeClass(f),$e(this).addClass(f)},!0).undelegate("dl>dd","mouseout").delegate("dl>dd","mouseout",function(a){$e(this).removeClass(f)},!0).delegate("a[data-type='getMoreHistory']","click",function(a){txv.login.isLogin()||(QZFL.event.preventDefault(a),txv.login.openLogin())},!0)},initHotReportKey:function(){var a={pageType:txv.history.pageType};txv.history.getMoreBtnTpl=QZFL.string.format(txv.history.getMoreBtnTpl,a),txv.history.template=QZFL.string.format(txv.history.template,a)},getStorageKey:function(a,b){return QZFL.string.trim([b,a].join("_"))},setSite:function(){var a=/^(\w+).*$/i.exec(location.hostname);if(a&&a[1]){var b=a[1].toUpperCase(),c=this.localStorageItemDefine[b];c&&(this.site=b,this.historyKey=c.history,this.uinStorageKey=c.uins)}},bindRm:function(){var a=($e(document),$e("#"+txv.history.mod_id));a.undelegate("[data-type='del']","click"),a.delegate("[data-type='del']","click",function(a){QZFL.event.preventDefault(a),txv.history.rm(this.getAttribute("_key"),this.getAttribute("_idx")||0),txv.common.btnTj("history.delete")})},getHistory:function(a,b){var c={cur:1,pn:txv.history.navSize,simp:1};b||(b={success:QZFL.emptyFn,error:QZFL.emptyFn,notLogin:QZFL.emptyFn}),Live.object.extend(c,a,{t:txv.history.nParamDef.LIST,plat:2,otype:"json"}),txv.history.requestCgi(txv.path.queryHistoryRecordCgi,c,b,100031)},requestCgi:function(a,b,c,d){var e=new Live.RetCode(a);b.rf||(b=txv.history.extendTenvideoData(b)),b.pver||$j.extend(b,{pver:3}),$j.ajax({url:a,dataType:"jsonp",data:b,CSRF:!0,beforeSend:function(){e.begin()},success:function(a){if(a&&a.result){if(0==a.result.code)return c.success(a),void e.reportSuc();if(-11==a.result.code)return e.reportErr(-11),void c.notLogin();e.reportErr(a.result.code)}else e.reportErr(-1);c.error()},error:function(){e.reportErr(-1),c.error()}})},getLocalList:function(a,b,c){return"string"!=typeof a||0===a.length?null:void txv.history.getOnesLocalHistory(a,function(a){var d=txv.history.parseLocalRecord(a);if(c)for(var e=0,f=d.length;f>e;e++)/\,1$/.test(d[e])&&(d.splice(e,1),e--,f--);"function"==typeof b&&b(d)})},showLocalHistory:function(a,b){a=a||txv.history.navSize;var c,d,e,f,g,h=txv.history.makeUserStorageKey(),i=[];if(!QZFL.lang.isArray(b))return void txv.history.getLocalList(h,function(b){txv.history.showLocalHistory(a,b)},this.v2);if(c=b.length,0==c)return void txv.history.showEmpty();for(var j=0;c>j;j++)if("string"==typeof b[j]){var k=b[j].split(",");if(!(k.length<4)&&(d=1*k[3],g="继续观看",(-2==d||d==k[4])&&(g="重新观看"),e=txv.history.getPlayUrl(k[0],k[5]),f=QZFL.string.filterAngAndQt(k[1]),i.push({key:k[0],lnk:e,tit:f,hoverTit:f,target:"_blank",idx:j,ltxt:g,date:k[2],time:d,timeTips:/^\w+__$|^_\w+_$/.test(k[0])?"":txv.history.getTipsByTime(d,k[4])}),i.length===a))break}txv.history.v2?txv.history.renderHistoryV2(i):txv.history.renderHistory(i)},isFinished:function(a,b){return a=txv.history.timeAdaptor(a),txv.history.timeLongLimit>=b||a==b||a==txv.history.timeFlagDef.finish},timeAdaptor:function(a,b){return 0>a&&(a==txv.history.timeFlagDef.finish?a=b:a*=-1),a},getTipsByTime:function(a,b){var c="";return a=parseInt(a,10),b=parseInt(b,10),a=txv.history.timeAdaptor(a,b),txv.history.isFinished(a,b)?c="已看完":a>=3600?(c=a%3600==0?txv.common.formatTimeBySec(a,"{h}小时"):txv.common.formatTimeBySec(a,"{h}小时{m}分"),c="观看至"+c):60>a||isNaN(a)?c="观看不足1分钟":(c=a%60==0?txv.common.formatTimeBySec(a,"{m}分"):txv.common.formatTimeBySec(a,"{m}分{s}秒"),c="观看至"+c),c},showHistory:function(a){return a=a||txv.history.navSize,txv.login.isLogin()?null!=txv.history.hisList?void txv.history.renderContent(txv.history.hisList):void txv.history.getHistory({cur:1,pn:a,simp:1},{success:txv.history.renderContent,error:function(){txv.history.showEmpty(txv.history.errorTips)},notLogin:function(){txv.history.showLocalHistory(txv.history.navSize)}}):void txv.history.showLocalHistory(a)},renderContent:function(a){if(txv.history.hisList=a,!a||0==a.tot||!a.list)return void txv.history.showEmpty();for(var b,c=a.list.length,d=0;c>d;d++)if(b=a.list[d],b.ltxt||(b.ltxt=b.time==txv.history.timeFlagDef.finish||b.time==b.tl?"重新观看":"继续观看"),b.tit||(b.tit=QZFL.string.filterAngAndQt(txv.history.getTitle(b))),b.key=b.keyid,b.idx=d,b.hoverTit=b.tit,/^\w+__$|^_\w+_$/.test(b.keyid)){b.timeTips="";var e=b.keyid.split("_");b.lnk=txv.common.getDetailUrl(e[0]||e[1]),b.tit=b.hoverTit=QZFL.string.filterAngAndQt(b.title||b.col_title),b.target="_blank"}else if(b.timeTips=txv.history.getTipsByTime(b.time,b.tl),b.apr&&"undefined"!=typeof b.pr&&1!=b.pr){b.target="_self";var f=txv.common.getLinkAttr.apply(null,[b.apr].concat(b.keyid.split("_")));f&&(b.lnk=f.url,b.hoverTit=f.hoverTitle)}else b.lnk||(b.lnk=txv.history.getPlayUrl(b)),b.target="_blank";txv.history.v2?txv.history.renderHistoryV2(a.list):txv.history.renderHistory(a.list)},renderHistory:function(a){var b,c,d,e,f=$e("#"+txv.history.mod_id),g="",h=0;if(QZFL.lang.isArray(a)&&0!=a.length)for(e=a.length;e>h;h++)g+=QZFL.string.format(txv.history.template,a[h]);else txv.history.showEmpty(txv.history.emptyTips);if(txv.trace("renderHistory start"),f.size()>0&&(f.removeClass(txv.history.noResultCls),c=getElementById("history_list"),c?(txv.trace("already has ul"),c.innerHTML=g):txv.history.playPageFlag||"1"==f.attr("useIframe")?1==f.find("iframe").size()?(f.find("div").remove(),b=document.createElement("div"),b.innerHTML=txv.history.rmAllTemp,d=f.elements[0],QZFL.dom.createElementIn("ul",d,!0,{id:"history_list",innerHTML:g}),d.insertBefore(b.firstChild,d.lastChild)):(g=['<ul id="history_list">',g,"</ul>",txv.history.rmAllTemp,txv.history.iframeTemp].join(""),f.html(g)):(txv.trace("no need iframe"),g=['<ul id="history_list">',g,"</ul>",txv.history.rmAllTemp].join(""),f.html(g)),txv.history.playPageFlag&&6==QZFL.userAgent.ie)){var i=26*e+53;f.find("iframe").css("height",i+"px"),f.css("height",i+"px")}},renderHistoryV2:function(a){function b(a,b){if(b.length>0)switch(a){case f.today:t=s.replace(/\{text\}/,"今天").replace(/\{cls\}/,"date_green"),i+=r.replace(/\{cls\}/,"history_today").replace(/\{day\}/,t).replace(/\{content\}/,b);break;case f.yesterday:t=s.replace(/\{text\}/,"昨天").replace(/\{cls\}/,"date_blue"),i+=r.replace(/\{cls\}/,"history_yesterday").replace(/\{day\}/,t).replace(/\{content\}/,b);break;case f.earlier:t=s.replace(/\{text\}/,"更早").replace(/\{cls\}/,"date_orange"),i+=r.replace(/\{cls\}/,"history_earlier").replace(/\{day\}/,t).replace(/\{content\}/,b)}}var c,d,e,f={today:0,yesterday:-1,earlier:-999},g=$e("#"+txv.history.mod_id),h='<div class="pop_timeline_wrap"><div class="timeline_video_wrap">{content}</div></div>',i="",j=0,k=new Date,l=k.getDate(),m=k.getTime(),n=864e5,o="",p="",q="",r=txv.history.byDayTpl,s=txv.history.dayTpl,t="";if(!QZFL.lang.isArray(a)||0==a.length)return void txv.history.showEmpty(txv.history.emptyTips);for(e=a.length;e>j;j++){txv.history.getStorageKey(txv.history.option.vid,txv.history.option.coverid)===a[j].key?a[j].timeTips="正在观看":txv.history.option.coverid&&-1!=a[j].key.indexOf(txv.history.option.coverid)&&(a[j].timeTips="正在观看",a[j].tit=a[j].hoverTit=txv.history.option.tit,a[j].lnk=Live.util.getTxvPlayUrl(txv.history.option.coverid,txv.history.option.vid));var u,v=QZFL.string.format(txv.history.template,a[j]);d=1e3*a[j].date,m-2*n>d?q+=v:(k.setTime(d),u=k.getDate(),l==u?o+=v:l-1==u?p+=v:q+=v)}b(f.today,o),b(f.yesterday,p),b(f.earlier,q),i.length>0?($e("#history_pop").removeClass(txv.history.noLoginCls).removeClass(txv.history.noResultCls),c=txv.history.getMoreBtnTpl.replace("{tips}",txv.login.isLogin()?"查看更多":"登录查看更多"),g.html(h.replace(/{content}/,i+c)),6==QZFL.userAgent.ie&&txv.history.adaptPopHeight()):txv.history.showEmpty(txv.history.emptyTips)},adaptPopHeight:function(){txv.common.setPopIframeHeight("history_pop")},getPlayUrl:function(a,b){var c,d,e,f,g,h="";return"string"==typeof a?(c=a,d=c.split("_"),e=d[0],f=d[1],2==d.length?(isNaN(d[2])||(f+="_"+d[2]),"string"==typeof e&&e.length>0?h=txv.common.getStaticPlayUrl(e,f):"string"==typeof f&&f.length>0&&(h=txv.common.getVideoPlayUrl(f))):3==d.length&&(h=txv.common.getDetailUrl(e||f))):"object"===QZFL.object.getType(a)&&(d=a.keyid.split("_"),g=a.time<0?-1*a.time:a.time,3==d.length&&(d[1]=d[1]+"_"+d[2]),h=7==a.ctypeid?txv.common.getBokePlayUrl(d[1]):d[0].length>0?txv.common.getPlayUrl(d[0],d[1]):txv.common.getVideoPlayUrl(d[1])),1==b&&QZFL.lang.isString(a)||-1!==QZFL.inArray(a.ispay,[4,5,6])?"http://film.qq.com"+h:"http://v.qq.com"+h},getTitle:function(a){if(!a)return"";if(a.title=a.title||a.col_title||"",a.col_title)return a.col_title;if(a.vtit=a.vtit||"",2==a.ctypeid||3==a.ctypeid){var b=a.vtit.match(/^([^_]+)_(\d+(?:\-\d+)?)$/);return b&&3==b.length?-1==a.vtit.indexOf("预告片")?[b[1]," 第",b[2],"集"].join(""):[a.title," 第",b[2],"集",b[1]].join(""):-1!=a.vtit.indexOf(a.title)?a.vtit:(b=a.vtit.match(/^([^_]+)_(\d+)_(\d+)$/),b&&4==b.length?[b[1]," 第",b[2],"集"].join(""):a.title+" "+a.vtit)}if(-1!=QZFL.inArray(a.ctypeid,[1,98])){var c=new RegExp("^"+a.title+"_\\d+");return c.test(a.vtit)?a.title||a.vtit:a.vtit}return 39==a.ctypeid?a.title||a.vtit:txv.common.formatVideoTitle(a.vtit)},add:function(a,b,c){var d,e,f=txv.history.getStorageKey(txv.history.option.vid,txv.history.option.coverid);return f.length<2||-1===f.indexOf("_")?void txv.trace("add history error: not enough options!"):(++txv.history.reportTimer,txv.history.addToLocal(b,c,a),txv.login.isLogin()?-3==a&&txv.history.reportTimer!=txv.history.reportToServerTimeLimit?void txv.trace("没达到次数限制，不上报服务器:"+txv.history.reportTimer):a==txv.history.timeFlagDef.begin||0==a?void txv.trace("不上报开始播放:"):(txv.history.reportTimer=0,b=Math.ceil(b),c=Math.ceil(c),txv.history.lastReportToServerKeyid!=f?(txv.history.lastReportToServerKeyid=f,void txv.history.batchReportToServer(txv.history.navSize)):(d=new Live.RetCode(txv.path.addHistoryRecordCgi),e={t:txv.history.rParamDef.ONEREPORT,plat:2,time:b,keyid:f,otype:"json",pver:3,vtype:txv.history.option.typeid},this.addPQtag(e),e=this.extendTenvideoData(e),void $j.ajax({url:txv.path.addHistoryRecordCgi,dataType:"jsonp",data:e,CSRF:!0,beforeSend:function(){d.begin()},success:function(a){txv.trace("set history record success!"),d.reportSuc()},error:function(){txv.trace("set history record error!"),d.reportErr()}}))):void txv.trace("not login!!"))},_addOtherSiteToLocal:function(a,b,c){if(!txv.history.localAddLock){var d=this,e=0,f=0,g=txv.history.getCurTimeStmp(),h=txv.history.makeUserStorageKey();if(!b||a.length<2||txv.history.localAddLock||!/^\w+__$|^_\w+_$/.test(a))return void txv.trace("add local history error: option error");if(!this.storageReady)return void setTimeout(function(){d._addOtherSiteToLocal(b,a,c)},1e3);txv.history.localAddLock=!0;var i=this.getOnesLocalHistory(h);i=i?this.filterVideo(i,a):"";var j=txv.history.toString(a,g,e,f,c,b);i=i?j+"|"+i:j,QZFL.Storage.set(h,i),txv.history.updateUinStorage(h,g,1),txv.history.localAddLock=!1}},reportOtherSite:function(a,b,c,d){var e=c?a+"__":"_"+a+"_";if(txv.login.isLogin()){var f=new Live.RetCode(txv.path.addHistoryRecordCgi),g={t:txv.history.rParamDef.ONEREPORT,plat:2,time:0,keyid:e,otype:"json",pver:3,vtype:d};this.addPQtag(g),g=this.extendTenvideoData(g),$j.ajax({url:txv.path.addHistoryRecordCgi,dataType:"jsonp",data:g,CSRF:!0,beforeSend:function(){f.begin()}}).done(function(a){f.reportSuc()}).fail(function(){f.reportErr()})}else txv.history._addOtherSiteToLocal(e,b,d)},onRemove:function(a){var b=$e("li[key="+a+"]");b.remove(),txv.history.onRemoveLocal(a,txv.history.makeUserStorageKey()),txv.history.hisList=null,txv.history.showHistory()},rm:function(a,b,c,d){if("string"==typeof a&&0!=a.length){if(!txv.login.isLogin()){var e=$e("#"+txv.history.mod_id+" [key="+a+"]");return b=isNaN(b)?0:b,e.remove(),void txv.history.rmLocal(a,b)}"function"==typeof b&&(c=b),c=QZFL.lang.isFunction(c)?c:txv.history.onRemove,d=QZFL.lang.isFunction(d)?d:QZFL.emptyFn;var f=(new Live.RetCode(100070),{t:txv.history.nParamDef.DELETEONE,keyid:a,otype:"json"});txv.history.requestCgi(txv.path.queryHistoryRecordCgi,f,{success:function(){c(a)},error:d,notLogin:function(){c(a)}},100070)}},showEmpty:function(a){a=a||txv.history.emptyTips;var b=$e("#"+txv.history.mod_id),c=$e("#history_pop"),d=this.noResultTpl.replace("{tips}",a),e=txv.history.noResultCls;txv.history.v2?(a!==txv.history.emptyTips||txv.login.isLogin()||(c.removeClass(e),d=txv.history.notLoginNoResultTpl,e=txv.history.noLoginCls),txv.history.playPageFlag&&6==QZFL.userAgent.ie&&c.find("iframe").css("height","202px"),c.addClass(e)):(txv.history.playPageFlag&&(d+=txv.history.iframeTemp,6==QZFL.userAgent.ie&&b.css("height","62px")),b.addClass(e)),b.html(d)},toString:function(a,b,c,d,e,f){return f=txv.history.option.tit||f,QZFL.lang.isString(f)?(txv.history.option.isPay=txv.history.option.isPay?1:0,f=f.replace(",","&#44;"),isNaN(parseInt(e))?[a,f,b,c,d,txv.history.option.isPay].join(","):[a,f,b,c,d,txv.history.option.isPay,e].join(",")):""},removeStorageByKey:function(a){"string"==typeof a&&QZFL.Storage.remove(a,"")},checkSorageIsExist:function(a){var b=this.getUinStorageValue(this.uinStorageKey);if("undefined"==typeof b)return b;if(!b)return!1;for(var c=b.split("|"),d=0,e=c.length;e>d;d++)if(c[d]&&-1!=c.indexOf(this.makeUserStorageKey()))return!0;return!1},updateUinStorage:function(a,b,c,d){if(!(arguments.length<2||!QZFL.lang.isString(a)||isNaN(b))){d||(d=this.uinStorageKey);var e=this.getUinStorageValue(d);if(!e)return void QZFL.Storage.set(d,[a,b,b].join(","));var f=new RegExp("("+a+")(,\\d+)(,\\d+)","g");if(f.test(e))e=1==c?e.replace(f,"$1,"+b+"$3"):e.replace(f,"$1$2,"+b);else{var g,h=e.split("|"),i=b;if(h.length>=6){for(var j,g,i=b,k=0,l=h.length;l>k;k++)if(QZFL.lang.isString(h[k])){var m=h[k].split(",");m[1]<=i&&m[0]!==a&&(i=m[1],j=m[0],g=k)}!isNaN(g)&&l>g&&h.splice(g,1),txv.history.removeStorageByKey(j),e=h.join("|")}else e+="|"+[a,b,b].join(",")}QZFL.Storage.set(d,e)}},addToLocal:function(a,b,c){if(!txv.history.localAddLock){var d=txv.history.getStorageKey(txv.history.option.vid,txv.history.option.coverid),e=txv.history.getCurTimeStmp(),f=txv.history.makeUserStorageKey(),g=txv.history.option.typeid,h="";if(!txv.history.option.tit||!txv.history.option.lnk||d.length<2||txv.history.localAddLock||-1===d.indexOf("_"))return void txv.trace("add local history error: option error");if(this.storageReady){txv.history.localAddLock=!0;var i=this.getOnesLocalHistory(f);i?(h=txv.history.option.coverid?txv.history.option.coverid:"_"+txv.history.option.vid,i=this.filterVideo(i,h)):i="";var j=txv.history.toString(d,e,a,b,g);i=i?j+"|"+i:j,QZFL.Storage.set(f,i),txv.history.updateUinStorage(f,e,1),txv.history.localAddLock=!1,txv.login.isLogin()||txv.history.showLocalHistory(txv.history.navSize)}}},filterVideo:function(a,b){var c=(new RegExp("(\\|"+b+"[^\\|]+)$"),new RegExp("(?:^|\\|)("+b+"[^\\|]+\\|)","g"),new RegExp("^("+b+"[^\\|]+)$","g"),a.split("|")),d=c.length;return d>this.onesLocalSize&&(a=c.splice(0,this.onesLocalSize).join("|")),a=a.replace(new RegExp(b+"[^\\|]+\\|?","gi"),""),/(\|)$/.test(a)&&(a=a.replace(RegExp.$1,"")),d>=this.onesLocalSize?a.replace(/\|[^|]+$/g,""):a},onRemoveLocal:function(a,b){"string"==typeof a&&"string"==typeof b&&this.getOnesLocalHistory(b,function(c){c&&(newStr=txv.history.filterVideo(c,a),newStr?newStr!=c&&QZFL.Storage.set(b,newStr):QZFL.Storage.remove(b))})},rmLocal:function(a,b){if("string"==typeof a&&0!=a.length){var c="";c=txv.history.makeUserStorageKey(),txv.history.onRemoveLocal(a,c),c!==txv.history.historyKey?txv.history.onRemoveLocal(a,txv.history.historyKey):txv.history.showLocalHistory(txv.history.navSize)}},getCurTimeStmp:function(){return Math.ceil(+new Date/1e3)},getHistoryTimeByKey:function(a,b,c){a=a||txv.history.option.vid,b=b||txv.history.option.coverid,c="function"!=typeof c?Live.emptyFn:c;var d=txv.history.getStorageKey(a,b);txv.login.isLogin()?txv.history.getServerHistoryDataByKey(d,c,!0):txv.history.getLocalHistoryDataByKey(d,c)},getLocalHistoryDataByKey:function(a,b){var c=[],d=txv.history.makeUserStorageKey(),e=[],f={vid:"",title:"",coverid:"",playurl:"",date:0,time:0},g=0;txv.history.getLocalList(d,function(d){if(0==d.length||"string"!=typeof a)g=0;else{e=a.split("_"),a=e[0]||e[1];for(var h=0,i=d.length;i>h;h++)if(c=d[h].split(","),!(c.length<5)&&-1!=c[0].indexOf(a)){c[3]=parseInt(c[3]),isNaN(c[3])||-1!=QZFL.inArray(c[3],[-2,-1])?g=0:c[3]<0&&(g=-1*c[3]),g=c[3],f={time:g,title:c[1],date:c[2]-0,vid:c[0].split("_")[1],coverid:c[0].split("_")[0],playurl:txv.history.getPlayUrl(c[0],c[4])};break}}QZFL.lang.isFunction(b)&&b(g,f)})},getServerHistoryDataByKey:function(a,b,c){if("string"==typeof a&&QZFL.lang.isFunction(b)){var d,e,f,g,h,i={};c?(d={t:txv.history.rParamDef.ONEINFO,plat:2,keyid:a,otype:"json",vtype:txv.history.option.typeid},e=txv.path.addHistoryRecordCgi,f=100030,txv.history.addPQtag(d)):(d={t:txv.history.nParamDef.ONEINFO,plat:2,otype:"json",simp:1,keyid:a},e=txv.path.queryHistoryRecordCgi,f=100113),g=new Live.RetCode(f),h={vid:"",time:0},i={success:function(d){if(c)QZFL.object.extend(h,d);else if(d.list&&d.list.length){var e=d.list[0],f=e.keyid.split("_");QZFL.object.extend(h,{coverid:f[0],vid:f[1],time:e.time,date:e.date,title:txv.history.getTitle(e),playurl:txv.history.getPlayUrl(e)})}h.time=h.time-0,-1!=QZFL.inArray(h.time,[txv.history.timeFlagDef.begin,txv.history.timeFlagDef.finish])&&(h.time=0),h.time<0&&(h.time*=-1),txv.history.getLocalHistoryDataByKey(a,function(a,c){c.date>h.date&&c.time>0?b(c.time,c):b(h.time,h)})},error:function(){b(h.time,h)},notLogin:QZFL.emptyFn},txv.history.requestCgi(e,d,i,f)}},parseLocalRecord:function(a){var b=[];return"object"==QZFL.object.getType(a)&&"string"==typeof a.value&&(a=a.value),"string"==typeof a&&a.length>0&&(b=a.split("|")),b},makeUserStorageKey:function(a){return a=a||txv.history.historyKey,txv.login.isLogin()?a+txv.login.getUin():a},batchReportToServer:function(a,b){if(!this.storageReady)return void setTimeout(function(){txv.history.batchReportToServer(a,b)},1e3);if(txv.login.isLogin()&&!this.isBatchReport&&(this.processLocal(a,QZFL.object.extend({success:$j.noop},b)),this.v2)){var c=this.localStorageItemDefine.FILM;this.processLocal(a,"",c.uins,c.history,!1,1)}},processLocal:function(a,b,c,d,e,f){c||(c=this.uinStorageKey),d||(d=this.historyKey);var g,h=this.getReportArr(c,d,e);if(0!=h.length)g="undefined"==typeof e?this.rfDefine[this.site]:this.rfDefine[e?"V":"FILM"],this.requestBatchCgi({pn:f||a,list:h.join("|"),rf:g},b,this.makeUserStorageKey(d),c);else try{b.withoutLocal()}catch(i){}},getReportArr:function(a,b,c){function d(a){return a&&7==a.length?[a[0],a[3],a[2],0,a[6]].join("+"):[a[0],a[3],a[2]].join("+")}var e=this.getUinStorageValue(a),f=this.getTargetUins(e,b),g=[];if(0==f.length)return g;for(var h={},i={},c="boolean"!=typeof c?this.v2:c,j=0,k=f.length;k>j;j++){var l=f[j][0],m=f[j][2],n=this.getOnesLocalHistory(l);if(n)for(var o,p=n.split("|"),q=0,r=p.length;r>q;q++)if(o=p[q].split(","),o.length>=4&&QZFL.lang.isString(o[0])&&-1!==o[0].indexOf("_")&&o[2]>=m&&(c&&0==o[5]||!c)){var s=o[0].split("_");"undefined"==typeof h[s[0]]?(h[s[0]]=o[2],g.push(d(o)),i[s[0]]=g.length-1):h[s[0]]<s[2]&&-1!=l.indexOf(txv.login.getUin())&&(h[s[0]]=o[2],g[i[s[0]]]=d(o))}}return g},requestBatchCgi:function(a,b,c,d){var e=this.getCurTimeStmp(),a=QZFL.object.extend({pn:10,list:"",rf:"v"},a,{t:txv.history.rParamDef.BATCHREPORT,cur:1,simp:1,plat:2,pver:3,otype:"json"}),f={success:function(a){txv.history.removeReportedDataAndUpdateLocal(d,c,e);try{b.success(a)}catch(f){}},notLogin:function(){try{b.notLogin()}catch(a){}},error:function(){try{b.error()}catch(a){}}};txv.history.requestCgi(txv.path.addHistoryRecordCgi,a,f,100031)},getHistoryDataByKey:function(a,b){if("string"==typeof a&&"function"==typeof b){txv.login.isLogin()?this.getServerHistoryDataByKey(a,function(a,c){b(c)},!1):txv.history.getLocalHistoryDataByKey(a,function(a,c){b(c)})}},extendTenvideoData:function(a){var b=txv.history,c=b.rfDefine[b.site];return"string"!=typeof c&&(c=b.rfDefine.V),QZFL.object.extend(a,{rf:c})},addPQtag:function(a){$j.extend(a,{ptag:Live.mypv.getCookiePtag(),qtag:Live.QTAG.getCookieQtag()})},getUinStorageValue:function(a,b){return QZFL.Storage.get(a,b)},getTargetUins:function(a,b){var c=[];if(QZFL.lang.isString(a)){var d=a.split("|"),e=this.makeUserStorageKey(b);"undefined"==typeof b&&(b=this.historyKey);for(var f=0,g=d.length;g>f;f++){var h=d[f],i=h.split(",");i[0]==b?i[1]>=i[2]&&c.push(i):i[0]==e&&i[1]>=i[2]&&c.push(i)}}return c},setUinStorageValue:function(a,b){a&&QZFL.Storage.set(a,b||"")},getOnesLocalHistory:function(a,b){function c(a){if(!a)return"";for(var b,c,d=a.split("|"),e=[],f=d.length-1,g=f;g>=0;g--)b=d[g],c=b.substr(0,b.indexOf(",")),a.indexOf(c)==a.lastIndexOf(c)&&e.unshift(b),a=d.slice(0,g).join("|");return e.join("|")}return b?void QZFL.Storage.get(a,function(a){b(c(a))}):c(QZFL.Storage.get(a))},removeReportedDataAndUpdateLocal:function(a,b,c){QZFL.Storage.remove(b),this.getUinStorageValue(a,function(d){if(d){for(var e=d.split("|"),f=[],g=b.replace(txv.login.getUin(),""),h=0,i=e.length;i>h;h++){var j=e[h],k=j.split(",");k[0]&&k[0]!=b&&(k[0]==g?f.push(j.replace(k[2],c)):f.push(j))}txv.history.setUinStorageValue(a,f.join("|"))}})}},txv.headfavorite={conf:{jsalias:"widget.follow_core",verStorageName:"txv_headfavorite_ver",jsStorageName:"txv_headfavorite_js",curVer:"2.0",localCacheTime:864e5,containerId:"mod_head_favorites",trigglerId:"mod_head_favorites_trigger",popId:"mod_head_favorites_pop",contentTpl:'<ul class="attention_list">{list}</ul><a href="http://v.qq.com/u/playlist.html" target="_blank" class="btn_pop_link btn_pop_more" _hot="mynav.followmore.{pageType}"><span class="ico_text">查看更多</span></a>',itemTpl:'<li class="{cls}"><i class="ico_dot"></i><a {idattr} href="{url}" title="{hoverTitle}" class="list_name" target="{target}" _hot="mynav.followlist.{pageType}" _qtag="nav.follow"><span class="list_type">{tn}</span>{n}</a>{desc}</li>',showCls:"open",contentId:"mod_head_favorites_content",noContentCls:"mod_attention_pop_nothing",noContentTpl:'<div class="pop_info_nothing"><i class="ico_film_large"></i><p class="hint_text">{tips}</p></div>',
noContentTips:"您暂时还没有关注记录",getDataErrorTips:"获取数据失败，请稍后尝试刷新页面",getingDataTips:"正在努力获取数据",notLoginCls:"mod_attention_pop_login",noPlayrightTips:"由于版权方要求，本视频只能使用腾讯视频客户端播放",notLoginTpl:'<div class="pop_info_nothing pop_info_login"><a href="javascript:;" class="btn_login" data-type="login">登录</a><p class="hint_text">{tips}</p></div>',notLoginTips:"请登录查看关注记录",listSize:5},_onShowListCb:new Live.Callback("unique"),_onHideListCb:new Live.Callback("unique"),userData:{},pageType:"",hoverHot:"",addShowListCb:function(a){txv.headfavorite._onShowListCb.add(a)},addHideListCb:function(a){txv.headfavorite._onHideListCb.add(a)},init:function(a){QZFL.object.extend(this.conf,a),Live.actionManager.on(txv.Event.loadedFollow,function(a){txv.headfavorite.conf.jsalias=a});var b,c=$e("#"+this.conf.containerId),d=$e("#"+this.conf.trigglerId);if(txv.headfavorite.pageType=txv.common.getCurPageType(),0!=c.size()&&0!=d.size()){if(b=new Live.FloatMenu({menu:c,area:d,areaOutdelay:100,isNeedChangeDisplay:!1,onShow:function(a){var b,d;txv.login.isLogin()?(b=txv.login.getUin(),d=txv.headfavorite.userData[b],"undefined"==typeof d?txv.headfavorite.getData():d===!1?txv.headfavorite.onGetDataError():c.attr("uin")!=b?(c.attr("uin",b),txv.headfavorite.renderData(d)):txv.common.btnTj(txv.headfavorite.hoverHot)):txv.headfavorite.onNotLogin(),c.addClass(txv.headfavorite.conf.showCls),txv.headfavorite._onShowListCb.fire()},onHide:function(a){c.removeClass(txv.headfavorite.conf.showCls),txv.headfavorite._onHideListCb.fire()}}),txv.login.addLogoutCallback(function(){txv.headfavorite.userData={}}),txv.common.conf.playPageFlag){var e=document.createElement("iframe");e.src="about:blank",e.frameborder="0",e.className="iframe_mask",$j(e).insertBefore(getElementById(txv.headfavorite.conf.contentId))}d.onClick(function(a){txv.login.isLogin()||(QZFL.event.preventDefault(a),txv.login.openLogin())}),6==QZFL.userAgent.ie&&c.delegate("li","mouseover",function(a){QZFL.css.addClassName(this,"hover")},!0).delegate("li","mouseout",function(a){QZFL.css.removeClassName(this,"hover")},!0)}},onNotLogin:function(){var a=$e("#"+this.conf.popId),b=$e("#"+this.conf.contentId);b.html(txv.headfavorite.conf.notLoginTpl.replace("{tips}",txv.headfavorite.conf.notLoginTips)),a.removeClass(txv.headfavorite.conf.noContentCls).addClass(txv.headfavorite.conf.notLoginCls),txv.headfavorite._adaptIframeHeight(164)},getData:function(){txv.headfavorite.onGetingData(),seajs.use(txv.headfavorite.conf.jsalias,function(a){a.list({start:0,end:txv.headfavorite.conf.listSize-1,f:2,sid:2}).done(function(a){txv.headfavorite.onGetDataSuc(a)}).fail(function(a){return a&&-11==a.suc?void txv.headfavorite.onNotLogin():void txv.headfavorite.onGetDataError()})})},_adaptIframeHeight:function(a){6==QZFL.userAgent.ie&&txv.common.conf.playPageFlag&&txv.common.setPopIframeHeight(this.conf.popId,a)},onGetDataError:function(){txv.headfavorite.showEmpty(txv.headfavorite.conf.getDataErrorTips),txv.headfavorite.userData[txv.login.getUin()]=!1},onGetingData:function(){txv.headfavorite.showEmpty(txv.headfavorite.conf.getingDataTips)},showEmpty:function(a){var b=$e("#"+this.conf.popId),c=$e("#"+this.conf.contentId);a=a||txv.headfavorite.conf.noContentTips,c.html(txv.headfavorite.conf.noContentTpl.replace("{tips}",a)),b.removeClass(txv.headfavorite.conf.notLoginCls).addClass(txv.headfavorite.conf.noContentCls),txv.headfavorite._adaptIframeHeight(213),txv.headfavorite.hoverHot="mynav.followhover.null",txv.headfavorite.conf.getingDataTips!=a&&txv.common.btnTj(txv.headfavorite.hoverHot)},onGetDataSuc:function(a){txv.headfavorite.userData[txv.login.getUin()]=a,a&&a.follow&&a.total>0?txv.headfavorite.renderData(a):txv.headfavorite.showEmpty(txv.headfavorite.conf.noContentTips)},renderData:function(a){function b(a){txv.history.requestCgi(txv.path.queryHistoryRecordCgi,{simp:1,pver:3,plat:2,t:txv.history.nParamDef.BATCHINFO,otype:"json",list:a.join("|")},{success:txv.headfavorite.refreshHref,error:QZFL.emptyFn,notLogin:QZFL.emptyFn},100129)}if(!a||!a.follow||0==a.total)return void txv.headfavorite.showEmpty(txv.headfavorite.conf.noContentTips);var c,d,e,f,g="",h=$e("#"+txv.headfavorite.conf.contentId),i=txv.headfavorite.conf.itemTpl,j=[];getElementById(txv.headfavorite.conf.popId);if($e("#"+txv.headfavorite.conf.popId).removeClass(txv.headfavorite.conf.noContentCls).removeClass(txv.headfavorite.conf.notLoginCls),0==h.find("ul").size()){for(c=0,d=a.follow.length;d>c;c++){if(e=a.follow[c],36!=e.t&&37!=e.t?f=e:(f=(e.vid||e.cid)[0],f.highlight=e.highlight,f.tn=e.n,f.t=e.t),f.urlorigin=f.url,f.url=txv.headfavorite.getUrl(f),f.date="",f.n=QZFL.string.escHTML(f.n||""),f.idattr="",f.tn||(f.tn=""),f.imgtag&&f.imgtag.tag_3?(f.desc=f.imgtag.tag_3.text,/^\d{4}/.test(f.desc)&&("undefined"!=$j.type(f.lcst)?f.desc="更新至"+f.desc:f.desc=""),f.highlight&&(f.desc=f.desc.replace("至","了")),-1!=f.desc.indexOf("全")&&(f.desc="已完结"),10==f.tid&&(f.desc+=" "+(f.lcst||f.st||""))):f.desc="",f.tn&&-1==f.tn.indexOf("[")&&(0==f.t?(f.desc=f.tn,1==f.status?f.tn="[直播中]":f.tn="[直播]"):36==f.t||37==f.t?f.tn="["+f.tn+"最新"+(36==f.t?"动态]":"战绩]"):f.tn="["+f.tn+"]"),f.outsite)f.target="_blank",f.hoverTitle=f.tn+f.n,f.url=txv.common.getDetailUrl(f.id);else if(-1!=$j.inArray(f.tid,[2,3])&&1==f.t&&(f.idattr='id="nav_f_'+f.id+'"',j.push(f.id)),f.cls=f.desc&&f.highlight&&(0!=f.t||1==f.status)?"new":"",f.cls=36!=f.t&&37!=f.t||!f.highlight?"":"new",f.desc&&(f.desc='<p class="list_desc">'+f.desc+"</p>"),1==f.pr&&-1==f.url.indexOf("http://cache.tv.qq.com/")||QZFL.string.isURL(f.id)||0==f.t)f.hoverTitle=f.tn+f.n,f.target="_blank",0==f.t&&(f.id?f.url=3==f.status?"javascript:;":"http://data.v.qq.com/live/program/"+f.id+"/play":f.url="http://v.qq.com/live/?cnlid="+f.tid);else if(f.playright||5!=f.t){var k=txv.common.getLinkAttr(f.playright,f.lcid||f.id);k?(f.url=k.url,f.hoverTitle=k.hoverTitle):(f.hoverTitle=39===f.t?"打开商品地址":txv.headfavorite.conf.noPlayrightTips,f.url=39===f.t?f.urlorigin:"javascript:;"),f.target=39===f.t?"_blank":"_self"}else f.url="http://v.qq.com/variety/column/column_"+f.id+".html",f.target="_blank",f.hoverTitle=f.tn+f.n;f.pageType=txv.headfavorite.pageType,g+=QZFL.string.format(i,f)}h.html(QZFL.string.format(txv.headfavorite.conf.contentTpl,{list:g,pageType:txv.headfavorite.pageType})),j.length&&b(j)}setTimeout(function(){txv.headfavorite._adaptIframeHeight(),txv.headfavorite.hoverHot="mynav.followhover."+txv.headfavorite.pageType,txv.common.btnTj(txv.headfavorite.hoverHot)},20)},refreshHref:function(a){if(a&&a.list)for(var b=0,c=a.list.length;c>b;b++){var d=a.list[b],e=d.keyid.split("_"),f=e[0],g=e[1],h="";if(d.apr&&"undefined"!=typeof d.pr&&1!=d.pr){var i=txv.common.getLinkAttr(d.apr,f,g);i&&(h=i.url)}else h=txv.history.getPlayUrl(d);$j("#nav_f_"+f).attr("href",h)}},getUrl:function(a){var b="";return a?(a.lcid&&a.lcid.length>0?b=txv.common.getPlayUrl(a.lcid):a.id&&a.id.length>0&&(b=txv.common.getPlayUrl(a.id)),b=-1!=QZFL.inArray(a.pay,[4,5,6])?"http://film.qq.com"+b:"http://v.qq.com"+b,QZFL.string.isURL(a.id)&&(b=a.id),b):b}},function(a){function b(){f(),j=setInterval(f,n)}function c(){o||(o=!0,p+=s-r,r=(new Date).getTime(),q+=r-s,i=m>p?setTimeout(b,m-p):setTimeout(b,n-(p-m)%n))}function d(){o&&(o=!1,s=(new Date).getTime(),i&&(clearTimeout(i),i=0),j&&(clearInterval(j),j=0))}function e(){d(),f((new Date).getTime())}function f(){var a=(new Date).getTime(),b=new Image(1,1),c=a-t-q;(0>c||c>1e4)&&(c=2998),b.src="http://btrace.qq.com/kvcollect?BossId=4154&Pwd=819243753&vtime="+c+"&_dc="+Math.random(),t=a,q=0}function g(){if(!u&&window.top===window&&parseInt(k.getUin())%97===76&&l[window.location.host]){u=!0;var b=a(window);b.bind("focus",c),b.bind("blur",d),b.bind("unload",e),document.hasFocus()&&c()}}function h(){if(u){var b=a(window);d(),b.unbind("focus",c),b.unbind("blur",d),b.unbind("unload",e)}u=!1}var i,j,k=txv.login,l={"v.qq.com":!0,"film.qq.com":!0,"live.qq.com":!0,"tv.qq.com":!0},m=3e3,n=3e3,o=!1,p=0,q=0,r=(new Date).getTime(),s=r,t=r,u=!1;k.addLoginCallback(g),k.addLogoutCallback(h),g()}($j),function(a){function b(a){var b=encodeURIComponent,c=a.bizCode,d=a.bizMsg,e=0>=+c?"&bizcode="+c:"",f=d?"&bizmsg="+b(d):"",g=new Image(1,1);g.src="http://btrace.qq.com/kvcollect?BossId=4140&Pwd=1431567924&protocol="+a.protocol+"&host="+a.host+"&path="+b(a.path)+"&query="+b(a.query)+"&delay="+a.delay+"&httpcode="+a.httpCode+e+f+"&_dc="+Math.random()}function c(a,b){var d,e,f=/ret|code|status|state|res|em/i,g=/msg|message/i,h=/re[ts]/i;for(var i in a){var j=a[i],k=0>=+d,l="string"==typeof e;if(k&&l)break;if(!k)if("o"===j&&"s"===i)d=0;else{var m=parseInt(j)&&+j;0>=m&&f.test(i)&&(d=m)}if(l||"string"==typeof j&&g.test(i)&&(e=j),!b&&"object"==typeof j&&h.test(i)){var n=c(j,!0);d=n.ret,e=n.msg}}return{ret:d,msg:e}}function d(a,d){var e;if(e="object"==typeof a?a:d,"jsonp"!==e.dataType)return h.apply(this,arguments);var f,g,j=e.beforeSend,k=e.success,l=e.error,m=!1,n=0,o=200;e.beforeSend=function(a){n=(new Date).getTime(),f=a,g=this,j&&j.apply(this,arguments)};var p=function(a){setTimeout(function(){var d,e,f=(new Date).getTime()-n;if(a&&"object"==typeof a){var h=c(a);d=h.ret,e=h.msg}var i=document.createElement("a");i.href=g.url;var j=i.pathname;/^\//.test(j)||(j="/"+j),b({protocol:i.protocol.replace(/:$/,""),host:i.host,path:j,query:i.search.replace(/^\?/,"")+i.hash,delay:f,httpCode:o,bizCode:d,bizMsg:e})})};e.success=function(a,b){p(a),k&&k.apply(this,arguments)};var q=function(){m||(m=!0,p(),l&&l.apply(this,arguments))};e.error=function(a,b,c){o="timeout"===c?556:555,q.apply(this,arguments)};var r=h.apply(this,arguments);try{var s=i[0].firstChild;s.onerror=function(a){o=555,q.call(g,f,null,a)}}catch(t){}return r}function e(){parseInt(g.getUin())%97===10&&(a.ajax=d)}function f(){a.ajax=h}var g=txv.login;if(!a.realAjax){var h=a.realAjax=a.ajax,i=document.getElementsByTagName("head");g.addLoginCallback(e),g.addLogoutCallback(f),e()}}($j);