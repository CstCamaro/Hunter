!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";window.Promise=n(1);var i=n(3);n(5),window.console=window.console&&"function"==typeof window.console.log?console:{log:function(){},info:function(){},warn:function(){},error:function(){}},window.JSON||(window.JSON=$.JSON),window.PageMessage=n(6),PageMessage.waitandon=function(t){var e=this,n=arguments;PageMessage.wait(t,function(){PageMessage.on.apply(e,n)}),PageMessage.wait.apply(this,arguments)},n(7),n(8);var o=n(10);window.player_time_speed||(window.player_time_speed={}),window.player_time_speed.startCreatePlayer=(new Date).getTime(),o.play(i(VIDEO_INFO));var a=COVER_INFO;a.vipPage&&a.category_map.indexOf("正片")>-1&&(2==a.type||3==a.type||9==a.type||106==a.type||-1!=["6cl5pzyr6cqcx0u","t6udtxyvbhbbxv2"].indexOf(a.cover_id))&&txv.login.addReadyCallback(function(){txv.vip.getVipInfo().always(function(t){var e=-1!=LIST_INFO.vid.indexOf(VIDEO_INFO.vid);if(t&&t.vip){var n=0,i=0,o=0;COVER_INFO.vip_ids.forEach(function(t,e){2&t.F?(n++,i++,t.E=n):0===t.F?(o++,i++,t.E=i):o>0?(o--,t.E=i-o):(i++,t.E=i)}),LIST_INFO.vid=COVER_INFO.vip_ids.map(function(t){return t.V}).concat(COVER_INFO.clips_ids.slice(0,100))}-1!==[9,10,11,12].indexOf(+COVER_INFO.pay_status)&&-1!==[2,3].indexOf(+COVER_INFO.type)?(window.NewVipIdsPromise=$.Deferred(),$.ajax({url:"//access.video.qq.com/fcgi/PlayVidListReq?raw=1&vappid=17174171&vsecret=a06edbd9da3f08db096edab821b3acf3c27ee46e6d57c2fa&page_size=100&type=4&cid="+COVER_INFO.cover_id,xhrFields:{withCredentials:!0},timeout:5e3}).done(function(t){var n,i=GRAY_NEW_VIDEO_LIST;try{n=t.data.vid_list}catch(a){}if(!i||!n||!n.length)return void window.NewVipIdsPromise.reject(Error("timeout"));setTimeout(function(){window.NewVipIdsPromise.reject(Error("timeout"))},2e3);var o=n.map(function(t){return t.vid});ListInfo.get(o,function(t,n){if(t)return void window.NewVipIdsPromise.reject(t);var i=0,o=n.map(function(t){var e=+t.episode,n=1===t.positive_trailer;return e=e||(n?i+1:0),n&&(i=e),{F:n?2:0,V:t.vid,E:e}});COVER_INFO.vip_ids=o,LIST_INFO.vid=COVER_INFO.vip_ids.map(function(t){return t.V}).concat(COVER_INFO.clips_ids.slice(0,100)),e&&-1==LIST_INFO.vid.indexOf(VIDEO_INFO.vid)&&playJSBridge.changeVid(LIST_INFO.vid[0]),window.NewVipIdsPromise.resolve()})}).fail(function(t){window.NewVipIdsPromise.reject(t)})):e&&-1==LIST_INFO.vid.indexOf(VIDEO_INFO.vid)&&playJSBridge.changeVid(LIST_INFO.vid[0])})});var r=n(51);window.addEventListener("unload",function(){return!window.PLAYER||!window.PLAYER.getCurrentTime||(r.setByBeacon({cid:COVER_INFO&&COVER_INFO.cover_id,vid:VIDEO_INFO.vid,time:window.PLAYER.getCurrentTime(),title:VIDEO_INFO.title,episode:VIDEO_INFO.episode,dur:VIDEO_INFO.duration,typeid:VIDEO_INFO.type,ispay:VIDEO_INFO.drm}),!0)})},function(t,e,n){(function(e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function i(t){return"function"==typeof t}function o(t){q=t}function a(t){j=t}function r(){return void 0!==F?function(){F(c)}:s()}function s(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<L;t+=2){(0,Q[t])(Q[t+1]),Q[t]=undefined,Q[t+1]=undefined}L=0}function d(t,e){var n=this,i=new this.constructor(u);i[z]===undefined&&k(i);var o=n._state;if(o){var a=arguments[o-1];j(function(){return C(o,i,a,n._result)})}else b(n,i,t,e);return i}function l(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(u);return y(n,t),n}function u(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function h(t,e,n,i){try{t.call(e,n,i)}catch(o){return o}}function v(t,e,n){j(function(t){var i=!1,o=h(n,e,function(n){i||(i=!0,e!==n?y(t,n):x(t,n))},function(e){i||(i=!0,w(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&o&&(i=!0,w(t,o))},t)}function g(t,e){e._state===K?x(t,e._result):e._state===G?w(t,e._result):b(e,undefined,function(e){return y(t,e)},function(e){return w(t,e)})}function m(t,e,n){e.constructor===t.constructor&&n===d&&e.constructor.resolve===l?g(t,e):n===undefined?x(t,e):i(n)?v(t,e,n):x(t,e)}function y(e,n){if(e===n)w(e,p());else if(t(n)){var i=void 0;try{i=n.then}catch(error){return void w(e,error)}m(e,n,i)}else x(e,n)}function _(t){t._onerror&&t._onerror(t._result),T(t)}function x(t,e){t._state===Y&&(t._result=e,t._state=K,0!==t._subscribers.length&&j(T,t))}function w(t,e){t._state===Y&&(t._state=G,t._result=e,j(_,t))}function b(t,e,n,i){var o=t._subscribers,a=o.length;t._onerror=null,o[a]=e,o[a+K]=n,o[a+G]=i,0===a&&t._state&&j(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,o=void 0,a=t._result,r=0;r<e.length;r+=3)i=e[r],o=e[r+n],i?C(n,i,o,a):o(a);t._subscribers.length=0}}function C(t,e,n,o){var a=i(n),r=void 0,s=void 0,c=!0;if(a){try{r=n(o)}catch(d){c=!1,s=d}if(e===r)return void w(e,f())}else r=o;e._state!==Y||(a&&c?y(e,r):!1===c?w(e,s):t===K?x(e,r):t===G&&w(e,r))}function I(t,e){try{e(function(e){y(t,e)},function(e){w(t,e)})}catch(n){w(t,n)}}function O(){return X++}function k(t){t[z]=X++,t._state=undefined,t._result=undefined,t._subscribers=[]}function E(){return new Error("Array Methods must be provided an Array")}function V(t){return new Z(this,t).promise}function N(t){var e=this;return new e($(t)?function(n,i){for(var o=t.length,a=0;a<o;a++)e.resolve(t[a]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function P(t){var e=this,n=new e(u);return w(n,t),n}function S(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function R(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(o){}if("[object Promise]"===i&&!e.cast)return}t.Promise=tt}var M=void 0;M=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var $=M,L=0,F=void 0,q=void 0,j=function(t,e){Q[L]=t,Q[L+1]=e,2===(L+=2)&&(q?q(c):W())},A="undefined"!=typeof window?window:undefined,U=A||{},B=U.MutationObserver||U.WebKitMutationObserver,J="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),H="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),W=void 0;W=J?function(){return function(){return e.nextTick(c)}}():B?function(){var t=0,e=new B(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():H?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():A===undefined?function(){try{var t=Function("return this")().require("vertx");return F=t.runOnLoop||t.runOnContext,r()}catch(e){return s()}}():s();var z=Math.random().toString(36).substring(2),Y=void 0,K=1,G=2,X=0,Z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(u),this.promise[z]||k(this.promise),$(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&x(this.promise,this._result))):w(this.promise,E())}return t.prototype._enumerate=function(t){for(var e=0;this._state===Y&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===l){var o=void 0,a=void 0,r=!1;try{o=t.then}catch(c){r=!0,a=c}if(o===d&&t._state!==Y)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===tt){var s=new n(u);r?w(s,a):m(s,t,o),this._willSettleAt(s,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===Y&&(this._remaining--,t===G?w(i,n):this._result[e]=n),0===this._remaining&&x(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;b(t,undefined,function(t){return n._settledAt(K,e,t)},function(t){return n._settledAt(G,e,t)})},t}(),tt=function(){function t(e){this[z]=O(),this._result=this._state=undefined,this._subscribers=[],u!==e&&("function"!=typeof e&&S(),this instanceof t?I(this,e):D())}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype["finally"]=function(t){var e=this,n=e.constructor;return i(t)?e.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return tt.prototype.then=d,tt.all=V,tt.race=N,tt.resolve=l,tt.reject=P,tt._setScheduler=o,tt._setAsap=a,tt._asap=j,tt.polyfill=R,tt.Promise=tt,tt})}).call(e,n(2),function(){return this}())},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(u===clearTimeout)return clearTimeout(t);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function r(){v&&f&&(v=!1,f.length?h=f.concat(h):g=-1,h.length&&s())}function s(){if(!v){var t=o(r);v=!0;for(var e=h.length;e;){for(f=h,h=[];++g<e;)f&&f[g].run();g=-1,e=h.length}f=null,v=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function d(){}var l,u,p=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var f,h=[],v=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||v||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.prependListener=d,p.prependOnceListener=d,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";function i(t,e){var n=t.vname_title||t.title||"",i=t.series_part_title||(t.series_name||"")+"第"+ +t.episode+"集",o=t.episode;t.category_map=t.category_map||[];var a=!0;if(t.category_map&&-1==t.category_map.indexOf("正片")&&-1==t.category_map.indexOf("预告片"))return t.title;var r;switch(+e.list_show_style){case 1530990:r=+o>0?["第"+o+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[n],a&&(a=e.title);break;case 1530992:r=[i],a&&(a=t.series_name);break;case 1532404:r=["第"+o+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":""),n],a&&(a=e.title);break;case 1532405:r=[i,n],a&&(a=t.series_name);break;case 1530991:r=[n],a&&(a=e.title);break;default:r=152462==e.digital_mode&&+t.episode>0?["第"+ +t.episode+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[t.title],a&&(a=e.title)}return a&&r.unshift(a),r.join(" ")}n(4);t.exports=function(t){return{vid:t.vid,connectionPlayTime:t.connectionPlayTime,cid:COVER_INFO.cover_id,playStartTime:t.head_time,playEndTime:t.tail_time,duration:t.duration,title:i(t,COVER_INFO),showBullet:1==t.danmu,showImageBullet:1==t.c_has_adv_danmu,openBulletDefault:!!t.danmu_status,showMark:t.c_tags_flag,preview:t.pic160x90&&t.pic160x90.replace(/^http\:/,""),isNeedPay:!!+t.drm,playerName:t.interactive_content_id&&t.interactive_content_id.indexOf("1543606")>-1?"plot":"vod"}}},function(t,e){"use strict";function n(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var i={escape:function(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;"):""},type:function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=/\[object (\w+)\]/.exec(Object.prototype.toString.call(t));return e?e[1].toLowerCase():""},keys:function(t){var e=[];return t?Object.keys?Object.keys(t):(this.objEach(t,function(t){e.push(t)}),e):e},bind:function(t,e){return t.bind?t.bind(e):function(){return t.apply(e,arguments)}},extend:function(t){if("object"!=this.type(t)&&"function"!=this.type(t))return t;for(var e,i,o=1,a=arguments.length;o<a;o++){e=arguments[o];for(i in e)n(e,i)&&(t[i]=e[i])}return t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);var n=-1;return i.some(t,function(t,i){if(t===e)return n=i,!0}),n},forEach:function(t,e){if(t.forEach)return t.forEach(e);for(var n=t.length,i=0;i<n;i++)e(t[i],i);return t},some:function(t,e){if(t.some)return t.some(e);for(var n=t.length,i=!1,o=0;o<n;o++)if(e(t[o],o)){i=!0;break}return i},map:function(t,e){if(t.map)return t.map(e);for(var n=t.length,i=[],o=0;o<n;o++)i.push(e(t[o],o));return i},objEach:function(t,e){if(t)for(var i in t)if(n(t,i)&&!1===e(i,t[i]))break},reduce:function(t,e){if("function"!=i.type(e))throw new TypeError("Array.prototype.reduce callback must be a function");var n=t.length;if(0===n&&2===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o,a=0;if(arguments.length>=3)o=arguments[2];else for(;;){if(a in t){o=t[a++];break}if(++a>=n)throw new TypeError("reduceRight of empty array with no initial value")}for(;a<n;a++)o=e(o,t[a],a,t);return o},filter:function(t,e,n){if(t.filter)return t.filter(e);for(var i=t.length,o=[],a=0;a<i;a++){var r=t[a];e.call(n,r,a,t)&&o.push(r)}return o},nextTick:function(){var t=this;return function(){setTimeout.apply(t,arguments)}}(),lock:function(t){var e;return function(){if(!e){e=!0;var n=[].slice.call(arguments,0);return n.unshift(function(){e=!1}),t.apply(this,n)}}},queue:function(t,e){function n(){var t=i.shift();if(!t)return void(o=e);o--;var a=t[0],r=t[1],s=t[2];s.unshift(function(){o++,n.apply(this,arguments)}),setTimeout(function(){a.apply(r,s)})}e=e||1;var i=[],o=e;return function(){if(i.push([t,this,[].slice.call(arguments,0)]),o)return n()}},delegator:function(t){var e,n=[];return function(o){if(e)return n.push(o);e=!0,t.call(this,function(){e=!1;var t=this,a=arguments;o&&o.apply(t,a);var r=n;n=[],i.forEach(r,function(e){e&&e.apply(t,a)})})}},once:function(t){var e,n=arguments;return function(){if(!e&&t)return e=!0,t.apply(n.length>=2?n[1]:null,arguments)}},verCompare:function(t,e){if(t===e)return 0;t=t.split("."),e=e.split(".");for(var n=t.length>=e.length?t.length:e.length,i=0;n--;){var o=Number(t[i]||0),a=Number(e[i++]||0);if(a>o)return 1;if(a<o)return-1}return 0},batchTimeout:function(t,e){function n(t){if(s.push(t),r)return void c.push(+new Date);a=+new Date,c.push(a),r=!0,setTimeout(function(){var t=Math.round(i.reduce(c,function(t,e){return t+(e-a)},0)/c.length);r=!1,c=[];var n=s.slice(0);s=[],setTimeout(function(){n.forEach(function(t){try{t&&t()}catch(e){console.error(e)}})},Math.max(e-o-t,0))},o)}var i=this,o=e/t;(!o||o<1)&&(t=1,o=e),o=Math.round(o);var a,r=!1,s=[],c=[];return n}};t.exports=i},function(t,e,n){var i,o;!function(a,r){"use strict";i=r,(o="function"==typeof i?i.call(e,n,e,t):i)!==undefined&&(t.exports=o)}(0,function(){var t,e,n=Array,i=n.prototype,o=Object,a=o.prototype,r=Function,s=r.prototype,c=String,d=c.prototype,l=Number,u=l.prototype,p=i.slice,f=i.splice,h=i.push,v=i.unshift,g=i.concat,m=i.join,y=s.call,_=s.apply,x=Math.max,w=Math.min,b=a.toString,T="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,C=Function.prototype.toString,I=/^\s*class /,O=function(t){try{var e=C.call(t),n=e.replace(/\/\/.*\n/g,""),i=n.replace(/\/\*[.\s\S]*\*\//g,""),o=i.replace(/\n/gm," ").replace(/ {2}/g," ");return I.test(o)}catch(a){return!1}},k=function(t){try{return!O(t)&&(C.call(t),!0)}catch(e){return!1}},t=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(T)return k(t);if(O(t))return!1;var e=b.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},E=RegExp.prototype.exec,V=function(t){try{return E.call(t),!0}catch(e){return!1}};e=function(t){return"object"==typeof t&&(T?V(t):"[object RegExp]"===b.call(t))};var N,P=String.prototype.valueOf,S=function(t){try{return P.call(t),!0}catch(e){return!1}};N=function(t){return"string"==typeof t||"object"==typeof t&&(T?S(t):"[object String]"===b.call(t))};var D=o.defineProperty&&function(){try{var t={};o.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(n){return!1}}(),R=function(t){var e;return e=D?function(t,e,n,i){!i&&e in t||o.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,i){!i&&e in t||(t[e]=n)},function(n,i,o){for(var a in i)t.call(i,a)&&e(n,a,i[a],o)}}(a.hasOwnProperty),M=function(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},$=l.isNaN||function(t){return t!==t},L={ToInteger:function(t){var e=+t;return $(e)?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function(e){var n,i,o;if(M(e))return e;if(i=e.valueOf,t(i)&&(n=i.call(e),M(n)))return n;if(o=e.toString,t(o)&&(n=o.call(e),M(n)))return n;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return o(t)},ToUint32:function(t){return t>>>0}},F=function(){};R(s,{bind:function(e){var n=this;if(!t(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i,a=p.call(arguments,1),s=function(){if(this instanceof i){var t=_.call(n,this,g.call(a,p.call(arguments)));return o(t)===t?t:this}return _.call(n,e,g.call(a,p.call(arguments)))},c=x(0,n.length-a.length),d=[],l=0;l<c;l++)h.call(d,"$"+l);return i=r("binder","return function ("+m.call(d,",")+"){ return binder.apply(this, arguments); }")(s),n.prototype&&(F.prototype=n.prototype,i.prototype=new F,F.prototype=null),i}});var q=y.bind(a.hasOwnProperty),j=y.bind(a.toString),A=y.bind(p),U=_.bind(p),B=y.bind(d.slice),J=y.bind(d.split),H=y.bind(d.indexOf),Q=y.bind(h),W=y.bind(a.propertyIsEnumerable),z=y.bind(i.sort),Y=n.isArray||function(t){return"[object Array]"===j(t)},K=1!==[].unshift(0);R(i,{unshift:function(){return v.apply(this,arguments),this.length}},K),R(n,{isArray:Y});var G=o("a"),X="a"!==G[0]||!(0 in G),Z=function(t){var e=!0,n=!0,i=!1;if(t)try{t.call("foo",function(t,n,i){"object"!=typeof i&&(e=!1)}),t.call([1],function(){"use strict";n="string"==typeof this},"x")}catch(o){i=!0}return!!t&&!i&&e&&n};R(i,{forEach:function(e){var n,i=L.ToObject(this),o=X&&N(this)?J(this,""):i,a=-1,r=L.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++a<r;)a in o&&(void 0===n?e(o[a],a,i):e.call(n,o[a],a,i))}},!Z(i.forEach)),R(i,{map:function(e){var i,o=L.ToObject(this),a=X&&N(this)?J(this,""):o,r=L.ToUint32(a.length),s=n(r);if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.map callback must be a function");for(var c=0;c<r;c++)c in a&&(s[c]=void 0===i?e(a[c],c,o):e.call(i,a[c],c,o));return s}},!Z(i.map)),R(i,{filter:function(e){var n,i,o=L.ToObject(this),a=X&&N(this)?J(this,""):o,r=L.ToUint32(a.length),s=[];if(arguments.length>1&&(i=arguments[1]),!t(e))throw new TypeError("Array.prototype.filter callback must be a function");for(var c=0;c<r;c++)c in a&&(n=a[c],(void 0===i?e(n,c,o):e.call(i,n,c,o))&&Q(s,n));return s}},!Z(i.filter)),R(i,{every:function(e){var n,i=L.ToObject(this),o=X&&N(this)?J(this,""):i,a=L.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.every callback must be a function");for(var r=0;r<a;r++)if(r in o&&!(void 0===n?e(o[r],r,i):e.call(n,o[r],r,i)))return!1;return!0}},!Z(i.every)),R(i,{some:function(e){var n,i=L.ToObject(this),o=X&&N(this)?J(this,""):i,a=L.ToUint32(o.length);if(arguments.length>1&&(n=arguments[1]),!t(e))throw new TypeError("Array.prototype.some callback must be a function");for(var r=0;r<a;r++)if(r in o&&(void 0===n?e(o[r],r,i):e.call(n,o[r],r,i)))return!0;return!1}},!Z(i.some));var tt=!1;i.reduce&&(tt="object"==typeof i.reduce.call("es5",function(t,e,n,i){return i})),R(i,{reduce:function(e){var n=L.ToObject(this),i=X&&N(this)?J(this,""):n,o=L.ToUint32(i.length);if(!t(e))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var a,r=0;if(arguments.length>=2)a=arguments[1];else for(;;){if(r in i){a=i[r++];break}if(++r>=o)throw new TypeError("reduce of empty array with no initial value")}for(;r<o;r++)r in i&&(a=e(a,i[r],r,n));return a}},!tt);var et=!1;i.reduceRight&&(et="object"==typeof i.reduceRight.call("es5",function(t,e,n,i){return i})),R(i,{reduceRight:function(e){var n=L.ToObject(this),i=X&&N(this)?J(this,""):n,o=L.ToUint32(i.length);if(!t(e))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===o&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var a,r=o-1;if(arguments.length>=2)a=arguments[1];else for(;;){if(r in i){a=i[r--];break}if(--r<0)throw new TypeError("reduceRight of empty array with no initial value")}if(r<0)return a;do{r in i&&(a=e(a,i[r],r,n))}while(r--);return a}},!et);var nt=i.indexOf&&-1!==[0,1].indexOf(1,2);R(i,{indexOf:function(t){var e=X&&N(this)?J(this,""):L.ToObject(this),n=L.ToUint32(e.length);if(0===n)return-1;var i=0;for(arguments.length>1&&(i=L.ToInteger(arguments[1])),i=i>=0?i:x(0,n+i);i<n;i++)if(i in e&&e[i]===t)return i;return-1}},nt);var it=i.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);R(i,{lastIndexOf:function(t){var e=X&&N(this)?J(this,""):L.ToObject(this),n=L.ToUint32(e.length);if(0===n)return-1;var i=n-1;for(arguments.length>1&&(i=w(i,L.ToInteger(arguments[1]))),i=i>=0?i:n-Math.abs(i);i>=0;i--)if(i in e&&t===e[i])return i;return-1}},it);var ot=function(){var t=[1,2],e=t.splice();return 2===t.length&&Y(e)&&0===e.length}();R(i,{splice:function(t,e){return 0===arguments.length?[]:f.apply(this,arguments)}},!ot);var at=function(){var t={};return i.splice.call(t,0,0,1),1===t.length}();R(i,{splice:function(t,e){if(0===arguments.length)return[];var n=arguments;return this.length=x(L.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(n=A(arguments),n.length<2?Q(n,this.length-t):n[1]=L.ToInteger(e)),f.apply(this,n)}},!at);var rt=function(){var t=new n(1e5);return t[8]="x",t.splice(1,1),7===t.indexOf("x")}(),st=function(){var t=[];return t[256]="a",t.splice(257,0,"b"),"a"===t[256]}();R(i,{splice:function(t,e){for(var n,i=L.ToObject(this),o=[],a=L.ToUint32(i.length),r=L.ToInteger(t),s=r<0?x(a+r,0):w(r,a),d=w(x(L.ToInteger(e),0),a-s),l=0;l<d;)n=c(s+l),q(i,n)&&(o[l]=i[n]),l+=1;var u,p=A(arguments,2),f=p.length;if(f<d){l=s;for(var h=a-d;l<h;)n=c(l+d),u=c(l+f),q(i,n)?i[u]=i[n]:delete i[u],l+=1;l=a;for(var v=a-d+f;l>v;)delete i[l-1],l-=1}else if(f>d)for(l=a-d;l>s;)n=c(l+d-1),u=c(l+f-1),q(i,n)?i[u]=i[n]:delete i[u],l-=1;l=s;for(var g=0;g<p.length;++g)i[l]=p[g],l+=1;return i.length=a-d+f,o}},!rt||!st);var ct,dt=i.join;try{ct="1,2,3"!==Array.prototype.join.call("123",",")}catch(Ce){ct=!0}ct&&R(i,{join:function(t){var e=void 0===t?",":t;return dt.call(N(this)?J(this,""):this,e)}},ct);var lt="1,2"!==[1,2].join(undefined);lt&&R(i,{join:function(t){var e=void 0===t?",":t;return dt.call(this,e)}},lt);var ut=function(t){for(var e=L.ToObject(this),n=L.ToUint32(e.length),i=0;i<arguments.length;)e[n+i]=arguments[i],i+=1;return e.length=n+i,n+i},pt=function(){var t={};return 1!==Array.prototype.push.call(t,undefined)||1!==t.length||"undefined"!=typeof t[0]||!q(t,0)}();R(i,{push:function(t){return Y(this)?h.apply(this,arguments):ut.apply(this,arguments)}},pt);var ft=function(){var t=[];return 1!==t.push(undefined)||1!==t.length||"undefined"!=typeof t[0]||!q(t,0)}();R(i,{push:ut},ft),R(i,{slice:function(t,e){var n=N(this)?J(this,""):this;return U(n,arguments)}},X);var ht=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(Ce){}return!1}(),vt=function(){try{return[1,2].sort(/a/),!1}catch(Ce){}return!0}(),gt=function(){try{return[1,2].sort(undefined),!0}catch(Ce){}return!1}();R(i,{sort:function(e){if(void 0===e)return z(this);if(!t(e))throw new TypeError("Array.prototype.sort callback must be a function");return z(this,e)}},ht||!gt||!vt);var mt=!{toString:null}.propertyIsEnumerable("toString"),yt=function(){}.propertyIsEnumerable("prototype"),_t=!q("x","0"),xt=function(t){var e=t.constructor;return e&&e.prototype===t},wt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},bt=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!wt["$"+t]&&q(window,t)&&null!==window[t]&&"object"==typeof window[t]&&xt(window[t])}catch(Ce){return!0}return!1}(),Tt=function(t){if("undefined"==typeof window||!bt)return xt(t);try{return xt(t)}catch(Ce){return!1}},Ct=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],It=Ct.length,Ot=function(t){return"[object Arguments]"===j(t)},kt=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&!Y(e)&&t(e.callee)},Et=Ot(arguments)?Ot:kt;R(o,{keys:function(e){var n=t(e),i=Et(e),o=null!==e&&"object"==typeof e,a=o&&N(e);if(!o&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var r=[],s=yt&&n;if(a&&_t||i)for(var d=0;d<e.length;++d)Q(r,c(d));if(!i)for(var l in e)s&&"prototype"===l||!q(e,l)||Q(r,c(l));if(mt)for(var u=Tt(e),p=0;p<It;p++){var f=Ct[p];u&&"constructor"===f||!q(e,f)||Q(r,f)}return r}});var Vt=o.keys&&function(){return 2===o.keys(arguments).length}(1,2),Nt=o.keys&&function(){var t=o.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),Pt=o.keys;R(o,{keys:function(t){return Pt(Et(t)?A(t):t)}},!Vt||Nt);var St,Dt,Rt=0!==new Date(-0xc782b5b342b24).getUTCMonth(),Mt=new Date(-0x55d318d56a724),$t=new Date(14496624e5),Lt="Mon, 01 Jan -45875 11:59:59 GMT"!==Mt.toUTCString();Mt.getTimezoneOffset()<-720?(St="Tue Jan 02 -45875"!==Mt.toDateString(),Dt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test($t.toString())):(St="Mon Jan 01 -45875"!==Mt.toDateString(),Dt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test($t.toString()));var Ft=y.bind(Date.prototype.getFullYear),qt=y.bind(Date.prototype.getMonth),jt=y.bind(Date.prototype.getDate),At=y.bind(Date.prototype.getUTCFullYear),Ut=y.bind(Date.prototype.getUTCMonth),Bt=y.bind(Date.prototype.getUTCDate),Jt=y.bind(Date.prototype.getUTCDay),Ht=y.bind(Date.prototype.getUTCHours),Qt=y.bind(Date.prototype.getUTCMinutes),Wt=y.bind(Date.prototype.getUTCSeconds),zt=y.bind(Date.prototype.getUTCMilliseconds),Yt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Kt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Gt=function(t,e){return jt(new Date(e,t,0))};R(Date.prototype,{getFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ft(this);return t<0&&qt(this)>11?t+1:t},getMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ft(this),e=qt(this);return t<0&&e>11?0:e},getDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Ft(this),e=qt(this),n=jt(this);if(t<0&&e>11){if(12===e)return n;return Gt(0,t+1)-n+1}return n},getUTCFullYear:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=At(this);return t<0&&Ut(this)>11?t+1:t},getUTCMonth:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=At(this),e=Ut(this);return t<0&&e>11?0:e},getUTCDate:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=At(this),e=Ut(this),n=Bt(this);if(t<0&&e>11){if(12===e)return n;return Gt(0,t+1)-n+1}return n}},Rt),R(Date.prototype,{toUTCString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=Jt(this),e=Bt(this),n=Ut(this),i=At(this),o=Ht(this),a=Qt(this),r=Wt(this);return Yt[t]+", "+(e<10?"0"+e:e)+" "+Kt[n]+" "+i+" "+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)+" GMT"}},Rt||Lt),R(Date.prototype,{toDateString:function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),i=this.getFullYear();return Yt[t]+" "+Kt[n]+" "+(e<10?"0"+e:e)+" "+i}},Rt||St),(Rt||Dt)&&(Date.prototype.toString=function(){if(!(this&&this instanceof Date))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),n=this.getMonth(),i=this.getFullYear(),o=this.getHours(),a=this.getMinutes(),r=this.getSeconds(),s=this.getTimezoneOffset(),c=Math.floor(Math.abs(s)/60),d=Math.floor(Math.abs(s)%60);return Yt[t]+" "+Kt[n]+" "+(e<10?"0"+e:e)+" "+i+" "+(o<10?"0"+o:o)+":"+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)+" GMT"+(s>0?"-":"+")+(c<10?"0"+c:c)+(d<10?"0"+d:d)},D&&o.defineProperty(Date.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var Xt=Date.prototype.toISOString&&-1===new Date(-621987552e5).toISOString().indexOf("-000001"),Zt=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString(),te=y.bind(Date.prototype.getTime);R(Date.prototype,{toISOString:function(){if(!isFinite(this)||!isFinite(te(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=At(this),e=Ut(this);t+=Math.floor(e/12),e=(e%12+12)%12;var n=[e+1,Bt(this),Ht(this),Qt(this),Wt(this)];t=(t<0?"-":t>9999?"+":"")+B("00000"+Math.abs(t),0<=t&&t<=9999?-4:-6);for(var i=0;i<n.length;++i)n[i]=B("00"+n[i],-2);return t+"-"+A(n,0,2).join("-")+"T"+A(n,2).join(":")+"."+B("000"+zt(this),-3)+"Z"}},Xt||Zt),function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(-621987552e5).toJSON().indexOf("-000001")&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(Ce){return!1}}()||(Date.prototype.toJSON=function(e){var n=o(this),i=L.ToPrimitive(n);if("number"==typeof i&&!isFinite(i))return null;var a=n.toISOString;if(!t(a))throw new TypeError("toISOString property is not callable");return a.call(n)});var ee=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),ne=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z"));if(isNaN(Date.parse("2000-01-01T00:00:00.000Z"))||ne||!ee){var ie=Math.pow(2,31)-1,oe=$(new Date(1970,0,1,0,0,0,ie+1).getTime());Date=function(t){var e=function(n,i,o,a,r,s,d){var l,u=arguments.length;if(this instanceof t){var p=s,f=d;if(oe&&u>=7&&d>ie){var h=Math.floor(d/ie)*ie,v=Math.floor(h/1e3);p+=v,f-=1e3*v}l=1===u&&c(n)===n?new t(e.parse(n)):u>=7?new t(n,i,o,a,r,p,f):u>=6?new t(n,i,o,a,r,p):u>=5?new t(n,i,o,a,r):u>=4?new t(n,i,o,a):u>=3?new t(n,i,o):u>=2?new t(n,i):u>=1?new t(n instanceof t?+n:n):new t}else l=t.apply(this,arguments);return M(l)||R(l,{constructor:e},!0),l},n=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),i=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function(t,e){var n=e>1?1:0
;return i[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)},a=function(e){var n=0,i=e;if(oe&&i>ie){var o=Math.floor(i/ie)*ie,a=Math.floor(o/1e3);n+=a,i-=1e3*a}return l(new t(1970,0,1,0,0,n,i))};for(var r in t)q(t,r)&&(e[r]=t[r]);return R(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,R(e.prototype,{constructor:e},!0),R(e,{parse:function(e){var i=n.exec(e);if(i){var r,s=l(i[1]),c=l(i[2]||1)-1,d=l(i[3]||1)-1,u=l(i[4]||0),p=l(i[5]||0),f=l(i[6]||0),h=Math.floor(1e3*l(i[7]||0)),v=Boolean(i[4]&&!i[8]),g="-"===i[9]?1:-1,m=l(i[10]||0),y=l(i[11]||0);return u<(p>0||f>0||h>0?24:25)&&p<60&&f<60&&h<1e3&&c>-1&&c<12&&m<24&&y<60&&d>-1&&d<o(s,c+1)-o(s,c)&&(r=60*(24*(o(s,c)+d)+u+m*g),r=1e3*(60*(r+p+y*g)+f)+h,v&&(r=a(r)),-864e13<=r&&r<=864e13)?r:NaN}return t.parse.apply(this,arguments)}}),e}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var ae=u.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)),re={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var n=-1,i=e;++n<re.size;)i+=t*re.data[n],re.data[n]=i%re.base,i=Math.floor(i/re.base)},divide:function(t){for(var e=re.size,n=0;--e>=0;)n+=re.data[e],re.data[e]=Math.floor(n/t),n=n%t*re.base},numToString:function(){for(var t=re.size,e="";--t>=0;)if(""!==e||0===t||0!==re.data[t]){var n=c(re.data[t]);""===e?e=n:e+=B("0000000",0,7-n.length)+n}return e},pow:function Ie(t,e,n){return 0===e?n:e%2==1?Ie(t,e-1,n*t):Ie(t*t,e/2,n)},log:function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}};R(u,{toFixed:function(t){var e,n,i,o,a,r,s,d;if(e=l(t),(e=$(e)?0:Math.floor(e))<0||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=l(this),$(n))return"NaN";if(n<=-1e21||n>=1e21)return c(n);if(i="",n<0&&(i="-",n=-n),o="0",n>1e-21)if(a=re.log(n*re.pow(2,69,1))-69,r=a<0?n*re.pow(2,-a,1):n/re.pow(2,a,1),r*=4503599627370496,(a=52-a)>0){for(re.multiply(0,r),s=e;s>=7;)re.multiply(1e7,0),s-=7;for(re.multiply(re.pow(10,s,1),0),s=a-1;s>=23;)re.divide(1<<23),s-=23;re.divide(1<<s),re.multiply(1,1),re.divide(2),o=re.numToString()}else re.multiply(0,r),re.multiply(1<<-a,0),o=re.numToString()+B("0.00000000000000000000",2,2+e);return e>0?(d=o.length,o=d<=e?i+B("0.0000000000000000000",0,e-d+2)+o:i+B(o,0,d-e)+"."+B(o,d-e)):o=i+o,o}},ae);var se=function(){try{return"1"===1..toPrecision(undefined)}catch(Ce){return!0}}(),ce=u.toPrecision;R(u,{toPrecision:function(t){return void 0===t?ce.call(this):ce.call(this,t)}},se),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?function(){var t="undefined"==typeof/()??/.exec("")[1],n=Math.pow(2,32)-1;d.split=function(i,o){var a=String(this);if(void 0===i&&0===o)return[];if(!e(i))return J(this,i,o);var r,s,c,d,l=[],u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),p=0,f=new RegExp(i.source,u+"g");t||(r=new RegExp("^"+f.source+"$(?!\\s)",u));var v=void 0===o?n:L.ToUint32(o);for(s=f.exec(a);s&&!((c=s.index+s[0].length)>p&&(Q(l,B(a,p,s.index)),!t&&s.length>1&&s[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<a.length&&h.apply(l,A(s,1)),d=s[0].length,p=c,l.length>=v));)f.lastIndex===s.index&&f.lastIndex++,s=f.exec(a);return p===a.length?!d&&f.test("")||Q(l,""):Q(l,B(a,p)),l.length>v?A(l,0,v):l}}():"0".split(void 0,0).length&&(d.split=function(t,e){return void 0===t&&0===e?[]:J(this,t,e)});var de=d.replace;(function(){var t=[];return"x".replace(/x(.)?/g,function(e,n){Q(t,n)}),1===t.length&&"undefined"==typeof t[0]})()||(d.replace=function(n,i){var o=t(i),a=e(n)&&/\)[*?]/.test(n.source);if(o&&a){var r=function(t){var e=arguments.length,o=n.lastIndex;n.lastIndex=0;var a=n.exec(t)||[];return n.lastIndex=o,Q(a,arguments[e-2],arguments[e-1]),i.apply(this,a)};return de.call(this,n,r)}return de.call(this,n,i)});var le=d.substr,ue="".substr&&"b"!=="0b".substr(-1);R(d,{substr:function(t,e){var n=t;return t<0&&(n=x(this.length+t,0)),le.call(this,n,e)}},ue);var pe="\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff",fe="​",he="["+pe+"]",ve=new RegExp("^"+he+he+"*"),ge=new RegExp(he+he+"*$"),me=d.trim&&(pe.trim()||!fe.trim());R(d,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return c(this).replace(ve,"").replace(ge,"")}},me);var ye=y.bind(String.prototype.trim),_e=d.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);R(d,{lastIndexOf:function(t){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=c(this),n=c(t),i=arguments.length>1?l(arguments[1]):NaN,o=$(i)?Infinity:L.ToInteger(i),a=w(x(o,0),e.length),r=n.length,s=a+r;s>0;){s=x(0,s-r);var d=H(B(e,s,a+r),n);if(-1!==d)return s+d}return-1}},_e);var xe=d.lastIndexOf;if(R(d,{lastIndexOf:function(t){return xe.apply(this,arguments)}},1!==d.lastIndexOf.length),8===parseInt(pe+"08")&&22===parseInt(pe+"0x16")||(parseInt=function(t){var e=/^[\-+]?0[xX]/;return function(n,i){var o=ye(n),a=l(i)||(e.test(o)?16:10);return t(o,a)}}(parseInt)),1/parseFloat("-0")!=-Infinity&&(parseFloat=function(t){return function(e){var n=ye(e),i=t(n);return 0===i&&"-"===B(n,0,1)?-0:i}}(parseFloat)),"RangeError: test"!==String(new RangeError("test"))){var we=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;void 0===t?t="Error":"string"!=typeof t&&(t=c(t));var e=this.message;return void 0===e?e="":"string"!=typeof e&&(e=c(e)),t?e?t+": "+e:t:e};Error.prototype.toString=we}if(D){var be=function(t,e){if(W(t,e)){var n=Object.getOwnPropertyDescriptor(t,e);n.configurable&&(n.enumerable=!1,Object.defineProperty(t,e,n))}};be(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),be(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Te=function(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=Te}})},function(t,e,n){"use strict";function i(){this._evtObjs={},this._outdatedMsgs={}}function o(){}var a=n(4);i.prototype.on=function(t,e,n){this._evtObjs[t]||(this._evtObjs[t]=[]),this._evtObjs[t].push({handler:e,once:n});var i=this;return function(){i.off(t,e)}},i.prototype.wait=function(t,e){return this._outdatedMsgs[t]?(e.apply(null,this._outdatedMsgs[t]),o):this.on(t,e,!0)},i.prototype.off=function(t,e){var n,i=this;return n=t?[t]:a.keys(this._evtObjs),a.forEach(n,function(t){if(e){var n=i._evtObjs[t]||[],o=[];a.forEach(n,function(t){t.handler!==e&&o.push(t)}),i._evtObjs[t]=o}else i._evtObjs[t]=[]}),this},i.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1);this._outdatedMsgs[t]=e;var n=this._evtObjs[t]||[];a.forEach(n,function(t){t.once&&t.called||(t.called=!0,t.handler&&t.handler.apply(null,e))})},i.prototype.emitAsync=function(){var t=arguments,e=this;setTimeout(function(){e.emit.apply(e,t)},0)},i.prototype.assign=function(t){var e=this;a.forEach(["on","off","wait","emit","emitAsync"],function(n){var i=e[n];t[n]=function(){return i.apply(e,arguments)}})},(new i).assign(i),t.exports=i},function(t,e){var n=window.PageMessage;window.__tenvideo_setPlayerAction=function(t){if(t&&t.cmd>0)return 2==t.cmd?n.emit("flash_action",t):n.emit("active_"+t.cmd,t),!0},n.on("vidChanged",function(){$(".l_qq_com").show()})},function(t,e,n){"use strict";function i(t,e,n){window.VIDEO_INFO=t,!n&&r.play(a.extend(c(t),e)),o.emit("vidChanged",t)}var o=window.PageMessage,a=n(9),r=n(10),s=n(61),c=n(3),d=function(){return""};window.playJSBridge={changeVid:function(t,e,n){"string"==typeof t?s.get(t,function(t,o){i(o,e,n)}):i(t,e,n)},changeFollowState:function(t){o.emit("followChange",t)},VIPTips:function(t){"function"==typeof t&&(d=t)},getVIPTips:function(){return d.apply(this,arguments)}}},function(t,e){t.exports=$},function(t,e,n){function i(t){var e=$.extend({nextVid:!1},t,d);if(Object.keys(s).forEach(function(t){try{s[t].beforeCreate&&s[t].beforeCreate(e)}catch(n){console.error(n)}}),window.IS_INTERACT)try{window.PLAYER=c=new Vtplayer(e)}catch(n){window.PLAYER=c=new Txplayer(e)}else window.PLAYER=c=new Txplayer(e);c.on("showLogin",function(){txv.login.openLogin()}),Object.keys(s).forEach(function(t){try{s[t].afterCreate&&s[t].afterCreate(c,e)}catch(n){console.error(n)}})}var o=window.PageMessage,a=n(11)("PLAYER-PLAY"),r=n(12);n(13),n(15),n(27),n(31),n(43),n(44);var s={};s.bullet=n(45),s.control=n(47),s["h5-720"]=n(48),s.history=n(49),s.message=n(64),s.playnext=n(65),s.report=n(68),s.userinfo=n(69),s.vip=n(70),s.language=n(73),s.keycontrol=n(75),s.windboss=n(76),s.client=n(79),s.plugins=n(85),Txplayer.dataset.debug=!!txv.util.getUrlParam("debug"),Txplayer.dataset.ts=window.jsVersion&&window.jsVersion.flash||"",Txplayer.dataset.pluginsPreload=!0;var c,d={official:!0,showLoopPlay:!0,containerId:"tenvideo_player",videoType:"vod",width:"100%",height:"100%",flashTimeStamp:window.jsVersion&&window.jsVersion.flash||"",autoplay:!0,showToggleSideBar:!0,showBrowserFullScreen:window.top==window,cid:COVER_INFO.cover_id,tpid:COVER_INFO.type||VIDEO_INFO.type||0,columnId:COVER_INFO.column_id||"",flashvar:{columnId:COVER_INFO.columnid||"",preSee:+(parseInt(COVER_INFO.pre_play_timelong_id)>0)},flashCallFn:function(t){var e;switch(t.type){case"trailerMode":case"getPayTip":e=function(){var t=playJSBridge.getVIPTips.apply(this,arguments),e=Date.now();return t&&COVER_INFO.free_begin_time&&new Date(COVER_INFO.free_end_time).getTime()-e>0&&new Date(COVER_INFO.free_begin_time).getTime()-e<0&&(t+='/去客户端<a href="javascript:" data-action="customTips" data-behave="clientfree" _stat="clientfree:player">免费看</a>（限今天）'),t};break;case"showRelationItem":e=function(t){return o.emit("relation-item:show",$.extend({fromPlayer:!0},t)),""};break;case"showRelationItemPop":e=function(t){return o.emit("relation-item-pop:show",t),""};break;case"addRelationCart":e=function(t){return o.emit("relation-item:add-cart",t),""};break;default:e=function(){return""}}return e(t)},extendPluginsMap:{vod:{flash:["Barrage","PlayerHistoryReport"],html5hd:["Barrage","PlayerHistoryReport"],chromehls:["Barrage","PlayerHistoryReport"],safarihls:["Barrage","PlayerHistoryReport"]}}};if(txv.util.getUrlParam("debugCombo")&&(d.useComboService=!1),"lite"==txv.cookie.get("__mode")&&(d.chid=4002,d.enForcePlayerType=!0),"car"===r.getUrlParam("clientType")){$.extend(d,{removePluginsList:["Barrage","closetoend-recommend","BarrageInteractEgg","UiWindowFullScreen"]});var l=document.createElement("button");o.on("tvp-adStart",function(){0===$(".clientType_car_return").length&&(l.setAttribute("class","clientType_car_return"),l.setAttribute("style","z-index:2101"),l.innerHTML='<svg class="clientType_car_return_icon" width="40px" height="40px" viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Path 11</title><g id="视觉稿" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"><polyline id="Path-11" stroke="#FFFFFF" stroke-width="5.6" fill-rule="nonzero" points="28 4 12 20.2808944 28 36"></polyline></g></svg><span class="clientType_car_return_text">返回上级</span>',l.addEventListener("click",function(){window.location.href="https://v.qq.com/p/switch/?clientType=car"}),document.body.appendChild(l))},!0),o.on("tvp-adEnd",function(){document.body.removeChild(l)},!0)}window.IS_PURE&&$.extend(d,{removePluginsList:["Barrage","closetoend-recommend","BarrageInteractEgg"]}),48888==COVER_INFO.columnid&&$.extend(d,{playerType:"flash"}),$.extend(d,{enableAreaControl:!0,barrageDefaulArea:30}),COVER_INFO&&3==COVER_INFO.type&&$.extend(d,{barrageDefaulArea:70});var u=txv.util.getUrlParam("volume");"number"!=typeof u||isNaN(u)||(d.volume=+u),$.extend(d,window.PlayerParam),Object.keys(s).forEach(function(t){try{s[t].defaultParam&&s[t].defaultParam(d)}catch(e){console.error(e)}}),t.exports={play:function(t){t=t||{};var e=t.vid;playCfg=$.extend({},t,{vid:e}),Object.keys(s).forEach(function(t){s[t].beforePlay&&s[t].beforePlay(playCfg)}),c?o.wait("tvp-ready",function(){a("play:",playCfg),c.play.call(c,playCfg)}):$("#tenvideo_player")[0]&&i(playCfg)}}},function(t,e){"use strict";var n=function(){return"undefined"!=typeof wx&&wx.getSystemInfoSync?"devtools"==wx.getSystemInfoSync().platform:"undefined"!=typeof navigator&&-1!=navigator.userAgent.indexOf("Chrome")}(),i=function(t){var e=[Math.floor(50*Math.random()+200),Math.floor(50*Math.random()+150),Math.floor(50*Math.random()+100)].sort(function(){return Math.random()-.5});e="rgb("+e[0]+", "+e[1]+", "+e[2]+")";var o=null;return o=n?function(){try{if(i.disable||"undefined"==typeof window.console||!console.log||!console.log.apply)return;var n=["%c【%s】%c "+t+" %c ","background: #ddd",new Date,"background: "+e,"background: #333;color: white"];console.log.apply(console,n.concat([].slice.call(arguments,0)))}catch(o){}}:function(){try{if(i.disable||"undefined"==typeof window.console||!console.log||!console.log.apply)return;var e=["【%s】 "+t+" %s ",new Date];console.log.apply(console,e.concat([].slice.call(arguments,0)))}catch(n){}},o.time=function(t){console.time(moduleName+"@"+t)},o.timeEnd=function(){console.timeEnd(moduleName+"@"+label)},o};i.disable=window.DISABLE_TXV_BROWSERLOG||!1,t.exports=i},function(t,e){var n={getUrlParam:function(t,e){e=e||location.href;var n,i=new RegExp("[?&#]"+t+"=([^&#]+)","gi"),o=e.match(i);return o&&o.length>0?(n=o[o.length-1].split("="),n&&n.length>1?n[1]:""):""},addUrlParam:function(t,e){e=e||document.URL;var i=e+"?";e.indexOf("?")>-1&&(i=e+"&");for(var o in t)if(n.getUrlParam(o,i)){var a=new RegExp("([?&#]"+o+"=)([^&#]+)(.*?)","i");i=i.replace(a,"$1"+t[o]+"$3")}else i=i+o+"="+t[o]+"&";var r=i.length,s=i.charAt(r-1);return"?"!=s&&"&"!=s||(i=i.substring(0,r-1)),i},getVidFromUrl:function(t){t=t||document.URL||document.location.href;var e,i=n.getUrlParam("vid",t);return i||(e=t.match(/\/\w{15}\/(\w+)\.html/))&&(i=e[1]),i||((e=t.match(/\/page\/(\w+)\.html/))?i=e[1]:(e=t.match(/\/(page|play)\/+(\w{11})\.html/))&&(i=e[2])),i||(e=t.match(/\/boke\/gplay\/\w+_\w+_(\w+)\.html/))&&(i=e[1]),/^[a-zA-Z0-9]+$/.test(i)?encodeURIComponent(i):""},getDefaultVid:function(){var t=this.getVidFromUrl();if(VIDEO_INFO)t=VIDEO_INFO.sv||VIDEO_INFO.vid;else{var e=$("#mod_videolist").find("li"),n=e.eq(0);1==n.length&&(t=n.attr("sv")||n.attr("id")||"")}return t},getCurUrl:function(){return document.URL||document.location.href},reportPV:function(t){var e="",i=n.getCurUrl(),o=t||this.getVidFromUrl();e=COVER_INFO.cover_id?"/x"+(i.indexOf("/prev/")>0?"/prev/":"/cover/")+COVER_INFO.cover_id+"/"+(o||"index")+".html":i.replace("http://v.qq.com","").replace("https://v.qq.com",""),txv.tj2.pv({virtualURL:e}),txv.tj2.virtualpv(["cover/",COVER_INFO.type,".html"].join(""))}};t.exports=n},function(t,e,n){function i(t){o=Txplayer.$,this.dataset={},this.context=t,this.init()}var o=Txplayer.$,a=n(14),r=Txplayer.util,s=n(11)("PLAYER-PLUGIN-POPUP");i.prototype={init:function(){var t=this;setTimeout(function(){t.write(),t.addEventListener()},100),this.dataset.isSmall=!1,this.dataset.disable=!0},write:function(){var t=a({}),e=this.context.dataset.$playermod.find("[data-role=txp-ui-favorite]");e.append(t),this.dataset.$client=e.find("[data-role=txp-ui-popup-client]")},remove:function(){this.dataset.$client.remove()},addEventListener:function(){function t(){if(n.dataset.disable)return void n.dataset.$client.hide();(i||2===n.context.dataset.playState)&&!a&&!n.context.dataset.isPlayingAd&&n.context.dataset.playState>0?n.dataset.$client.show():n.dataset.$client.hide()}var e,n=this,i=!1,a=!1;this.dataset.eventsList={},this.dataset.eventsList[r.getUniqueMsgKey("beforeUiControlShow")]=function(){e=i,i=!0,t(),e!==i&&window.PageMessage.emit("tvp-controlShowing",i)},this.context.msg.on("hideUiControl",function(){e=i,i=!1,t(),e!==i&&window.PageMessage.emit("tvp-controlShowing",i)}),this.dataset.eventsList[r.getUniqueMsgKey("userPausePlayer")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("showUIVipGuide")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("userPlayPlayer")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("videoPlaying")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("vidChange")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("smallWindowModeChange")]=function(e){e.isSmallWindow?a=!0:n.context.dataset.playState>0&&(a=!1),t()},o.each(this.dataset.eventsList,function(t,e){n.context.msg.on(t,e)}),this.dataset.$client.on("click",function(t){t.preventDefault(),t.stopPropagation();var e="qqlive://sso/vbarid="+n.context.dataset.cid+"&videoid="+n.context.dataset.vid+"&start="+Math.max(0,n.context.userApi.getCurrentTime()-5)+"&rfid="+localStorage.getItem("gp-rfid")+"&atag=web.v_flash_rightflowclient";return s("broadcast:",e),n.context.userMsg.broadcast("clickOpenPcClient",{sso:e,confid:"channel1.v_flash_rightflowclient"}),!1}),this.context.msg.on("showPcClientPop",function(t){0==t?(n.dataset.disable=!0,n.dataset.$client.hide()):n.dataset.disable=!1})}},Txplayer.register("popup-client-plugin",i)},function(module,exports){module.exports=function(d){with(d)return'<button class="txp_btn txp_btn_popup" _stat="player_rightflowclient" data-role="txp-ui-popup-client" style="display: none">\n    <svg class="txp_icon txp_icon_popup" version="1.1" viewBox="0 0 20 20" width="20" height="20">\n        <path d="M17 18H3c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h5c.6 0 1 .4 1 1s-.4 1-1 1H3v12h14v-3c0-.6.4-1 1-1s1 .4 1 1v3c0 1.1-.9 2-2 2zm2-10c0 .6-.4 1-1 1s-1-.4-1-1V5.4l-4.4 4.4c-.4.4-1 .4-1.4 0-.4-.4-.4-1 0-1.3L15.6 4H13c-.6 0-1-.4-1-1s.4-1 1-1h5c.5 0 .9.4 1 .9V8z"></path>\n    </svg>\n    <txp class="txp_tips_popup">客户端播放</txp>\n</button>'}},function(t,e,n){function i(){this.timer=null,this.deadtime=0,this.cb=null}function o(t){c=s.$,this.dataset={},this.context=t,this.timer=new i,this.init()}function a(t){var e=((new Date).getTime(),(new Date).toJSON()),n=e.split("T")[0],i=new Date(n).getTime(),o=new Date(t).toJSON(),a=o.split("T")[0];return new Date(a).getTime()===i}var r=window.PageMessage,s=window.Txplayer,c=s.$,d=s.util,l=n(16),u=(n(11)("PLAYER-PLUGIN-CLOSETOEND"),n(17));i.prototype={on:function(t,e){this.deadtime=e,this.startTime=Date.now(),this.cb=t;var n=this;return this.timer=setTimeout(function(){"function"==typeof t&&t(),n.clear()},e)},pause:function(){if(this.timer){var t=Date.now(),e=t-this.startTime;this.deadtime=this.deadtime-e,clearTimeout(this.timer)}},restart:function(){this.cb&&this.on(this.cb,this.deadtime)},clear:function(){this.timer&&(clearTimeout(this.timer),this.timer=null,this.deadtime=0,this.cb=null)}},o.prototype={init:function(){var t=this;this.context.msg.on("videoTimeUpdate",function(e){t.checkBlackVids()||t.closed||t.context.dataset.currentTime>.95*(t.context.dataset.duration-(window.VIDEO_INFO.tailtime||0))&&t.load()}),this.context.msg.on("videoPlay",function(){t.timer&&t.timer.restart()}),this.context.msg.on("videoPause",function(e){e.end||t.timer&&t.timer.pause()}),this.context.msg.on("vidChange",function(){t.loaded=!1,t.closed=!1,t.timer&&t.timer.clear(),t.hide(),t.clearDom()}),this.context.msg.on("beforeVideoRePlay",function(){t.hide()}),this.context.msg.on("resize",function(){var e=t.context.dataset.$playermod,n=e.width(),i=e.height();t.dataset.$list&&(n<=670||i<=377?t.dataset.$list.find("[data-vid]+[data-vid]").addClass(s.dataset.hideClass):t.dataset.$list.find("[data-vid]").removeClass(s.dataset.hideClass))})},write:function(t){function e(){i||o&&!a?p.hide():o||p.show()}var n={container:"txp-ui-closetoendrecommend-container",list:"txp-ui-closetoendrecommend-list",close:"txp-ui-closetoendrecommend-close",vecVids:t.vecVids,hideClass:s.dataset.hideClass},i=!1,o=!1,a=!1,d=l(n),p=this;this.context.dataset.$playermod.append(d),this.dataset.$container=this.context.dataset.$playermod.find("[data-role="+n.container+"]"),this.dataset.$list=this.context.dataset.$playermod.find("[data-role="+n.list+"]"),this.dataset.$close=this.context.dataset.$playermod.find("[data-role="+n.close+"]");var f=this.context.dataset.$playermod,h=f.width(),v=f.height();(h<=670||v<=377)&&this.dataset.$list.find("[data-vid]+[data-vid]").addClass(s.dataset.hideClass),u.event("closetoendrecommend"),this.dataset.$list.on("click","[data-vid]",function(t){var e=c(t.currentTarget).attr("data-vid");u.click("closetoendrecommend_open"),p.context.msg.broadcast("pause"),p.context.msg.broadcast("userPausePlayer"),window.open("//v.qq.com/x/page/"+e+".html")});var g=null;this.dataset.$list.on("mouseover",function(){a=!0,clearTimeout(g)}),this.dataset.$list.on("mouseleave",function(){a=!1,p.closed||(g=setTimeout(e,300))}),this.dataset.$list.on("contextmenu",function(t){return t.preventDefault(),!0}),this.dataset.$close.on("click",function(t){p.addToBlackVids(),p.closed=!0,p.show15Timer&&(o=!0,p.timer.clear()),clearTimeout(g),u.click("closetoendrecommend_close"),p.hide()}),this.show15Timer=this.timer.on(function(){o=!0,e()},15e3),r.on("tvp-setSmallWindowMode",function(t){i=t,e()})},loaded:!1,load:function(t){if(this.loaded)return t&&t();this.loaded=!0;var e=this;c.ajax({url:"//ncgi.video.qq.com/fcgi-bin/outside_related_vids_cgi?otype=json&strVid="+this.context.dataset.vid+"&etype=1&iNum=1",jsonpCallback:"closetoendrecommend",dataType:"jsonp"}).done(function(t){0==t.iRet&&(t.stVinfo=t.stVinfo||{},e.write(t))})},show:function(){this.dataset.$list&&this.dataset.$list.removeClass(s.dataset.hideClass)},hide:function(){this.dataset.$list&&this.dataset.$list.addClass(s.dataset.hideClass)},clearDom:function(){this.dataset.$container&&this.dataset.$container.length&&this.dataset.$container.remove()},checkBlackVids:function(){var t=d.getData("cer_vids")||"[]",e=this.context.dataset.vid;if(-1!==t.indexOf(e)){var n=JSON.parse(t);n=n.filter(function(t,e){return a(t.time)});var i=JSON.stringify(n);return d.setData("cer_vids",i),i.indexOf(e)>-1}},addToBlackVids:function(){var t=this.context.dataset.vid,e=d.getData("cer_vids"),n=JSON.parse(e||"[]");n.push({vid:t,time:(new Date).getTime()}),d.setData("cer_vids",JSON.stringify(n))}},s.register("closetoend-recommend",o)},function(module,exports){module.exports=function(d){with(d)return'<txpdiv data-role="'+container+'">\n  <style>\n    .mod_player_float .txp_recommend_popup{\n      display: none;\n    }\n  </style> \n  <txpdiv class="txp_recommend_popup"\n    data-role="'+list+'"\n  >\n    <txpdiv class="txp_close" data-role="'+close+'">\n      <svg class="txp_icon txp_icon_close" version="1.1" viewBox="0 0 16 16" width="16" height="16">\n        <path d="M9.358 8l6.356-6.408c.388-.365.388-.957 0-1.322-.388-.365-1.017-.365-1.404 0L8 6.63 1.69.27C1.304-.095.675-.095.288.27c-.388.365-.388.957 0 1.322L6.642 8 .286 14.408c-.388.365-.388.957 0 1.322.388.365 1.017.365 1.404 0L8 9.37l6.31 6.36c.387.365 1.016.365 1.403 0 .388-.365.388-.957 0-1.322L9.358 8z"></path>\n      </svg>\n    </txpdiv>\n    '+vecVids.map(function(t){return t.vid?'\n          <txpdiv class="txp_recommend_item" data-vid="'+t.vid+'">\n            <img src="'+t.coverurl+'" onerror="picerr(this, \'h\')">\n            <txpdiv class="txp_title">'+Txplayer.util.xss(t.title)+"</txpdiv>\n          </txpdiv>\n        ":""}).join("")+"\n  </txpdiv>\n\n</txpdiv>\n"}},function(t,e,n){"use strict";function i(){return f||window.jQuery||window.$}function o(t,e){return v.hot([_,"event",t,e].join(".")),this}function a(t,e,n){return v.hot([_,"click",t,e,n].join(".")),this}function r(t){return v.hot([_,"pageview",t,"",h].join(".")),this}function s(t,e){return v.hot([_,"stat",t,e].join(".")),this}function c(t){return v.hot([_,"videoview",t].join(".")),this}function d(t){return"array"!==g.type(t)?"":g.map(t,function(t){return g.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function l(t){return"string"!=typeof t?[]:g.map(t.split("|"),function(t){return g.map(t.split(","),function(t){return decodeURIComponent(t)})})}function u(t,e){switch(t){case"click":a.apply(this,e);break;case"pageview":r.apply(this,e);break;case"event":o.apply(this,e);break;case"stat":s.apply(this,e);break;case"videoview":c.apply(this,e)}}function p(t){var e=Array.prototype.slice.call(arguments,1);if(m)try{var n=localStorage.getItem(x);try{n=l(n)}catch(i){}return"array"!==g.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(x,d(n))}catch(i){}u(t,e)}var f,h="2006041645",v=n(18),g=n(4),m="localStorage"in window&&null!==window.localStorage,y="index",_="vplay2017",x=_+"_lazy_reports";t.exports={setPage:function(t){return y=t,this},setJQ:function(t){return f=t,this},bind2d:function(t,e,n){var o=i();return o(t).on("click","["+n+"]",function(t){for(var i,r=t.currentTarget,s=o(r).attr(n),c=10;c&&r&&!(i=o(r).attr(e));)c--,r=r.parentNode;i&&a(y,i,s)}),this},bind:function(t,e){var n=i();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),r=o.attr(e);if("A"==i.tagName){var s=o.attr("href"),c=o.attr("target");if(!/^(javascript:|#)/.test(s)&&!c)return void p("click",y,r,"")}a(y,r,"")}),this},click:function(t){return a(y,t,"")},event:function(t){return o(y,t)},stat:function(t){return s(y,t)},flush:function(){if(localStorage)try{var t=localStorage.getItem(x);localStorage.removeItem(x),t&&(t=l(t),g.forEach(t,function(t){u(t[0],t.slice(1))}))}catch(e){}},pv:r,vv:c}},function(t,e,n){"use strict";function i(t){return m+T+"&s_uuid="+(v()||a())+"&s_omgid="+(w||"")+"&s_referrer="+encodeURIComponent(document.referrer||t.referrer||"")+"&_dc="+Math.random()+"&s_openid="+(x||u.get("openid")||u.get("vqq_openid"))+"&s_uin="+(u.get("o_cookie")||u.get("uin")||u.get("luin"))+"&s_vuserid="+(u.get("vuserid")||u.get("vqq_vuserid"))+"&s_appid="+u.get("appid")+"&s_mainlogin="+u.get("main_login")}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[t(),t(),t(),t()].join("")}function a(){if(b)return b;var t=u.get("tvfe_boss_uuid");if(!t){t=o();try{u.set("tvfe_boss_uuid",t,"qq.com",!1,87600)}catch(e){u.set("tvfe_boss_uuid",t,"",!1,87600)}}return b=t,t}function r(t,e){t=t.replace(/\.$/,"").split("."),(t.length<3||t.length>5)&&console.warn("按钮名分段数不对，可能会导致数据丢失");var n=i({referrer:g()});n+="&s_ptag="+encodeURIComponent(_||"")+"&s_app="+encodeURIComponent(t[0]||"")+"&s_module="+encodeURIComponent(t[1]||"")+"&s_behave="+encodeURIComponent(t[2]||"")+"&s_sub="+encodeURIComponent(t[3]||"")+"&s_fifth="+encodeURIComponent(t[4]||""),e&&e.lazy?f.push(n):p(n)}function s(t){return function(e){var n;try{n=JSON.parse(e)}catch(i){try{n=JSON.parse(decodeURIComponent(e))}catch(i){return t(i.message,null,e)}}0==n.errCode?t(null,n,e):t(n.errCode+":"+n.errMsg,n,e)}}var c,d=n(19)(),l=n(20),u=n(22),p=n(23),f=n(24),h=function(){},v=h,g=h,m="//btrace.qq.com";try{c=window.jQuery||window.Zepto||window.tvp&&tvp.$}catch(C){}c&&c(document.body).on("click","[_boss]",function(t){r(c(t.currentTarget).attr("_boss"))});var y=window.sessionStorage||{getItem:function(){return""}},_=l.get("ptag")||y.getItem("ptag")||u.get("ptag"),x=l.get("openid"),w="";if(d.browser.QQvideo){n(25)(function(t){t.invoke("getDeviceInfo",null,s(function(t,e){t||0!=e.errCode||(w=e.result.omgid||"")}))})}var b,T="/kvcollect?BossId=3255&Pwd=2118551257&s_url="+encodeURIComponent(location.href.split("?")[0])+"&s_ua="+navigator.userAgent+"&s_browser="+d.browser.name;t.exports={uuid:function(){return a()},uuidGetter:function(t){v=t||h},referrerGetter:function(t){g=t||h},ptag:function(t){_=t},host:function(t){m=t},hot:r,uid:a}},function(t,e){function n(t){if(t){var e={},n={},i={iphone:t.match(/(iphone)\s(os\s)?([\d_]+)/i),ipad:t.match(/(ipad).*\s([\d_]+)/i),ipod:t.match(/(ipod).*\s([\d_]+)/i),android:t.match(/(android)\s([\d\.]+)/i),windows:t.match(/Windows(\s+\w+)?\s+?(\d+\.\d+)/)};i.ipod&&(e.ios=e.ipod=!0,e.version=i.ipod[2].replace(/_/g,"."),e.name="ipod"),i.ipad&&(e.ios=e.ipad=!0,e.version=i.ipad[2].replace(/_/g,"."),e.name="ipad"),i.iphone&&(e.iphone=e.ios=!0,e.version=i.iphone[3].replace(/_/g,"."),e.name="iphone"),i.android&&(e.android=!0,e.version=i.android[2],e.name="android"),i.windows&&(e.windows=!0,e.version=i.windows[2],e.name="windows");var o={IE:t.match(/; msie\b|; trident\b|\bedge\//i),WeChat:t.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||t.match(/MicroMessenger\/((\d+)\.(\d+))/),MQQClient:!t.match(/QQReader/)&&t.match(/QQ\/(\d+\.\d+)/i)||t.match(/V1_AND_SQ_([\d\.]+)/),MQQReader:t.match(/QQReader/i),sukan:t.match(/synopsis/i),QQvideo:!t.match(/TADChid/i)&&t.match(/QQLiveBrowser\/([\d.]+)/),QQADvideo:t.match(/TADChid/i),QQHDvideo:t.match(/QQLiveHDBrowser\/([\d.]+)/),TBSSDK:t.match(/MQQBrowser\/(\d+\.\d+)/i)&&t.match(/MSDK\/(\d+\.\d+)/),MQQBrowser:t.match(/MQQBrowser\/(\d+\.\d+)/i),UCBrowser:t.match(/ucbrowser\/(\d+\.\d+)/i),Qzone:t.match(/Qzone\/[\w\d\_]*(\d\.\d)[\.\w\d\_]*/i),Weibo:t.match(/Weibo/i),qqnews:t.match(/qqnews\/(\d+\.\d+\.\d+)/i),QQLiveBroadcast:t.match(/QQLiveBroadcast/i),kuaibao:t.match(/qnreading\/(\d+\.\d+\.\d+)/i),liebao:t.match(/LieBaoFast\/(\d+\.\d+\.\d+)/i),IEMobile:t.match(/IEMobile(\/|\s+)(\d+\.\d+)/)||t.match(/WPDesktop/),douban:t.match(/com\.douban\.frodo\/(\d+\.\d+\.\d+)/i),MiuiBrowser:t.match(/MiuiBrowser\/(\d+\.\d+)/i),Chrome:e.ios?t.match(/CriOS\/(\d+\.\d+)/):t.match(/Chrome\/(\d+\.\d+)/),Safari:!!e.ios&&t.match(/Safari\/(\d+\.\d+)/),Firefox:t.match(/Firefox\/(\d+\.\d+)/i),Line:t.match(/Line/i),Facebook:t.match(/FBAV/i)||t.match(/FBAN/i),Instagram:t.match(/Instagram/i),Twitter:t.match(/Twitter/i),SamsungBrowser:t.match(/SamsungBrowser/i)};if(o.MQQReader)n.MQQReader=!0,n.version=1,n.name="MQQReader";else if(o.IEMobile)n.IEMobile=!0,n.version=1,n.name="IEMobile";else for(var a in o)if(o[a]){n[a]=!0,n.version=o[a][1]||0,n.name=a;break}return{browser:n,os:e}}}var i=null,o=function(){return i||(i=n(navigator.userAgent))};o.__express=function(t,e,i){t.ua=n(t.headers["user-agent"]),i()},o.__jquery=function(t){t=t||window.jQuery||window.Zepto;var e=i||(i=n(navigator.userAgent));t.browser=e.browser,t.os=e.os},o.__clearCache=function(){i=null},t.exports=o},function(t,e,n){"use strict";var i=n(21);t.exports={get:function(t,e){var n=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)");e=e||location.href;var o=e.match(n);return o?i(o[2]):""},del:function(t){var e=new RegExp("(\\?|#|&)"+t+"=([^&#]*)(&|#|$)"),n=location.href.match(e);n=n?n[2]:"";try{window.history&&history.replaceState&&history.replaceState(null,null,location.href.replace(t+"="+n,""))}catch(i){}}}},function(t,e){var n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},i=function(t){return n[t]};t.exports=function(t){return(""+t).replace(/&(?![\w#]+;)|[<>"']/g,i)}},function(t,e){"use strict";t.exports={set:function(t,e,n,i,o){if(o){var a=new Date,r=new Date;r.setTime(a.getTime()+36e5*o)}return document.cookie=t+"="+e+"; "+(o?"expires="+r.toGMTString()+"; ":"")+(i?"path="+i+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+window.location.host+";"),!0},get:function(t,e){var n=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),i=(e||document.cookie).match(n);return i?i[1]:""},del:function(t,e,n){var i=new Date;i.setTime(i.getTime()-1),document.cookie=t+"=; expires="+i.toGMTString()+";"+(n?"path="+n+"; ":"path=/; ")+(e?"domain="+e+";":"domain="+window.location.host+";")}}},function(t,e){"use strict";function n(){}t.exports=function(t){var e=document.createElement("img");e.onerror=n,e.onload=n,e.onabort=n,e.src=t}},function(module,exports,__webpack_require__){var cookie=__webpack_require__(22),report=__webpack_require__(23),storage=function(){var t=!1;try{window.localStorage&&(t=!0)}catch(n){}var e=location.hostname||location.host;return t?{get:function(t){return localStorage.getItem(t)},set:function(t,e){return localStorage.setItem(t,e)},clear:function(t){return localStorage.removeItem(t)}}:{get:function(t){return cookie.get(t)},set:function(t,n){return cookie.set(t,n,e)},clear:function(t){return cookie.set(t,"",e)}}
}(),reg=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,k="txv_lazyreport_list",d="|",clear=function(){return storage.clear(k)},shift=function(){var t=storage.get(k);if(!t)return"";var e=t.split(d),n=e.shift();return storage.set(k,e.join(d)),n?decodeURIComponent(n):""},push=function(t){if(t){var e=storage.get(k),n=[];e&&(n=e.split(d)),n.push(encodeURIComponent(t)),storage.set(k,n.join(d))}},reportItem=function(item){if(reg.test(item))try{!!report&&report(item)}catch(e){}else setTimeout(function(){try{eval(item)}catch(e){}},0)},_report=function(){for(var t=shift();t;)reportItem(t),t=shift()};module.exports={push:push,clear:clear,report:_report}},function(t,e,n){"use strict";function i(t){var e=null;if(!t)return null;try{e=t.TenvideoJSBridge||t.WebViewJavascriptBridge}catch(n){}return e}function o(){top.WebViewJavascriptBridge&&(top.TenvideoJSBridge=top.WebViewJavascriptBridge,top.TenvideoJSBridge.invoke=top.WebViewJavascriptBridge.callHandler,top.TenvideoJSBridge.on=top.WebViewJavascriptBridge.registerHandler);var t=new r;l=top.TenvideoJSBridge;var e=l.on;l.on=function(n,i){t._evtObjs[n]&&t._evtObjs[n].length||e.call(l,n,function(e){t.emit(n,e)}),t.on(n,i)},u.ready=!0;try{l.isOnMethodOverride=!0;var n=top.document.createEvent("Events");n.initEvent("onTenvideoJSBridgeOnMethodOverride"),top.document.dispatchEvent(n)}catch(i){}}var a=n(26),r=n(6),s=n(19)(),c=[],d=!1,l=null,u=Object.create({},{ready:{set:function(t){if(d!=t){d=t;for(var e;e=c.shift();)setTimeout(function(t){return function(){t(l)}}(e),0)}},get:function(){return d}}}),p=window==top?window:top,f=function(t){u.ready?t(l):c.push(t)};if(f.QQvideoBridgeCallback=function(t){return function(e){var n;try{n="string"==typeof e?JSON.parse(e):e}catch(i){try{n=JSON.parse(decodeURIComponent(e))}catch(i){return t(i.message,null,e)}}0==n.errCode?t(null,n,e):t(n.errCode+":"+n.errMsg,n,e)}},t.exports=f,s.browser.WeChat){var h=!1,v=!1,g=function(t){"bridge"==t&&(v=!0),"js"==t&&(h=!0),h&&v&&(l=p.WeixinJSBridge,u.ready=!0)};if(top.WeixinJSBridge)g("bridge");else try{p.document.addEventListener("WeixinJSBridgeReady",function(){g("bridge")})}catch(_){l=null,u.ready=!0}p.wx?g("js"):a("//res.wx.qq.com/open/js/jweixin-1.2.0.js",function(){g("js")}),setTimeout(function(){u.ready||(l=null,u.ready=!0)},1e4)}else if(s.browser.MQQClient){if(window.mqq||window.QQApi)l=window.mqq||window.QQApi,u.ready=!0;else{a("//s.url.cn/qqmobile/qqapi.js?_bid=152",function(){l=window.mqq||window.QQApi,u.ready=!0})}setTimeout(function(){u.ready||(l=null,u.ready=!0)},6e3)}else if(s.browser.QQvideo)if(i(p))o();else{document.addEventListener("onTenvideoJSBridgeReady",o),document.addEventListener("WebViewJavascriptBridgeReady",o);var m=setInterval(function(){i(p)?(clearInterval(m),o()):u.ready&&clearInterval(m)},200);setTimeout(function(){u.ready||(l=null,u.ready=!0)},6e3)}else if(s.browser.qqnews)window.TencentNews?(l=window.TencentNews,u.ready=!0):a("http://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1",function(){if(window.TencentNews)l=window.TencentNews,u.ready=!0;else var t=setInterval(function(){(window.TencentNews||u.ready)&&(clearInterval(t),l=window.TencentNews,u.ready=!0)},500)}),setTimeout(function(){u.ready||(l=null,u.ready=!0)},6e3);else if(s.browser.sukan){if(window.WebViewJavascriptBridge)l=window.WebViewJavascriptBridge,u.ready=!0;else if(window.WVJBCallbacks)window.WVJBCallbacks.push(function(){l=window.WebViewJavascriptBridge,u.ready=!0});else{window.WVJBCallbacks=[function(){l=window.WebViewJavascriptBridge,u.ready=!0}];var y=document.createElement("iframe");y.style.display="none",y.src="https://__bridge_loaded__",document.documentElement.appendChild(y),setTimeout(function(){document.documentElement.removeChild(y)},0)}setTimeout(function(){u.ready||(l=null,u.ready=!0)},6e3)}else l=null,u.ready=!1},function(t,e){"use strict";t.exports=function(t,e){var n=document.createElement("script"),i=document.getElementsByTagName("script")[0];n.src=t,n.type="text/javascript",n.onload=n.onerror=n.onreadystatechange=function(){/loaded|complete|undefined/.test(n.readyState)&&function(){n.onload=n.onerror=n.onreadystatechange=null,n.parentNode.removeChild(n),n=undefined,e&&e()}()},i.parentNode.insertBefore(n,i)}},function(t,e,n){function i(t){r=a.$,this.dataset={},this.context=t,this.init()}var o=n(17),a=window.Txplayer,r=a.$,s=a.util,c=n(28),d=n(29),l=n(30);a.apiList;i.prototype={init:function(){var t=this;this.dataset.playerConfig=this.context.config,this.dataset.nextData=null,this.context.dataset.nextVideoInfo={},this.dataset.nextVideoInfoCopy={},this.context.dataset.nextVid=this.dataset.playerConfig.nextVid,t.dataset.getNextVid=function(e){return t.dataset.nextData&&t.dataset.nextData.isNewNextVid?{vid:t.dataset.nextData.nextVid}:"function"===r.type(t.dataset.playerConfig.getNextVid)?t.dataset.playerConfig.getNextVid(e):r.noop(e)},this.write(),this.addEventListerner(),this.exportsModuleApis()},write:function(){var t={next:"txp-ui-control-play-next",hideClass:a.dataset.hideClass,tabindex:a.dataset.tabindex++,nextTip:"txp-next-tip",svgPrefix:""};this.dataset.renderData=t;var e=c(t);this.context.$mod.$buttonsleftmod.append(e),this.dataset.$next=this.context.$mod.$buttonsleftmod.find('[data-role="'+t.next+'"]'),this.dataset.$nextTip=this.context.$mod.$buttonsleftmod.find('[data-role="'+t.nextTip+'"]');var n={tipMod:"txp-next-tip-mod",tipText:"txp-next-tip-text",tipPreview:"txp-next-tip-preview",hideClass:a.dataset.hideClass},i=d(n);this.context.$mod.$playermod.append(i),this.dataset.$tipMod=this.context.$mod.$playermod.find('[data-role="'+n.tipMod+'"]'),this.dataset.$tipText=this.dataset.$tipMod.find('[data-role="'+n.tipText+'"]'),this.dataset.$tipPreview=this.dataset.$tipMod.find('[data-role="'+n.tipPreview+'"]');var o={tipContentMod:"txp-next-tip-content-mod",tipContentText:"txp-next-tip-content-text",tipContentCancle:"txp-next-tip-content-cancle",tipContentPlay:"txp-next-tip-content-play",tipContentPoster:"txp-next-tip-content-poster",hideClass:a.dataset.hideClass,svgPrefix:""},r=l(o);this.context.$mod.$playermod.append(r),this.dataset.$tipContentMod=this.context.$mod.$playermod.find('[data-role="'+o.tipContentMod+'"]'),this.dataset.$tipContentText=this.dataset.$tipContentMod.find('[data-role="'+o.tipContentText+'"]'),this.dataset.$tipContentCancle=this.dataset.$tipContentMod.find('[data-role="'+o.tipContentCancle+'"]'),this.dataset.$tipContentPlay=this.dataset.$tipContentMod.find('[data-role="'+o.tipContentPlay+'"]'),this.dataset.$tipContentPoster=this.dataset.$tipContentMod.find('[data-role="'+o.tipContentPoster+'"]'),this.initDisplay()},remove:function(){this.dataset.$next.remove(),this.dataset.$tipMod.remove(),this.dataset.$tipContentMod.remove()},initDisplay:function(){1==this.context.dataset.nextVid?(this.dataset.$next.removeClass(a.dataset.hideClass),this.dataset.$next.removeClass("txp_disabled"),this.writeTips()):0==this.context.dataset.nextVid?(this.dataset.$tipMod.addClass(a.dataset.hideClass),this.dataset.$nextTip.addClass(a.dataset.hideClass),this.dataset.$next.addClass(a.dataset.hideClass)):(this.dataset.$next.removeClass(a.dataset.hideClass),this.dataset.$next.addClass("txp_disabled"))},writeTips:function(){this.dataset.nextData&&this.dataset.nextData.title&&this.dataset.nextData.preview&&(this.dataset.$tipText.html(s.xss(this.dataset.nextData.title)),this.dataset.$tipContentText.html(s.xss(this.dataset.nextData.title)),this.dataset.$tipPreview.attr("src",this.dataset.nextData.preview)),this.dataset.nextData&&this.dataset.nextData.previewPoster&&this.dataset.$tipContentPoster.css({"background-image":"url("+this.dataset.nextData.previewPoster+")"})},canclePlayTheNext:function(){this.dataset.isCancle=!0,clearTimeout(this.dataset.timer),this.dataset.timer=null,this.dataset.$tipContentMod.addClass(a.dataset.hideClass)},doPlayTheNext:function(t,e){var n=this;if(this.dataset.$tipContentMod.addClass(a.dataset.hideClass),n.dataset.nextData.showCountdown||n.dataset.nextData.noRefresh)return void n.nofreshDoPlayTheNext(n.dataset.nextVideoInfo,e);try{this.context.userMsg.broadcast("beforePlayNext",{vid:t||n.dataset.nextData.pageUrl})}catch(i){}},nofreshDoPlayTheNext:function(t,e){var n=this;if(11===t.vid.length){try{n.context.userMsg.broadcast("beforePlayNext",{vid:t.vid})}catch(o){}var i={vid:t.vid,nextVid:t.nextVid,bullet:t.bullet,bulletId:t.bulletId,duration:t.duration,playStartTime:t.playStartTime,playEndTime:t.playEndTime,isNeedPay:t.isNeedPay,title:t.title,autoplay:!t.hasOwnProperty("autoplay")||t.autoplay,defaultDefinition:t.defaultDefinition};e.hasOwnProperty("connectionPlayType")&&(i.connectionPlayType=e.connectionPlayType),n.context.msg.broadcast("playControl",i)}},bindWindowScroll:function(t){return document.addEventListener?(window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}):(window.attachEvent("onscroll",t),function(){window.detachEvent("onscroll",t)})},playTheNext:function(t){function e(){function e(){i.dataset.timer&&(clearTimeout(i.dataset.timer),i.dataset.timer=null)}c()!=l&&(l=c(),l?(i.dataset.$tipContentMod.addClass("pause_vv"),e()):(i.dataset.$tipContentMod.removeClass("pause_vv"),e(),i.dataset.timer=setTimeout(function(){i.dataset.isCancle||(i.dataset.nextData&&i.dataset.nextData.pageUrl?i.doPlayTheNext(i.dataset.nextData.pageUrl,t):(i.nofreshDoPlayTheNext(n,t),i.context.msg.broadcast("updateNextVideoInfo")),u())},1e4)))}if(s.showInfo("uiPlayNext.playTheNext",t),o.event("player-play-next"),t=t||{},1==this.context.dataset.nextVid){var n,i=this,r=this.context.dataset.vid;try{n=i.dataset.getNextVid(r),i.dataset.nextVideoInfo=n}catch(p){s.showInfo("[playTheNext.getNextVid.error]",p)}if(!n||!n.vid)return void s.showError("播放下个视频失败","找不到vid");var c=function(){var t=i.context.userApi;return!t.isPlayerInScreen()||t.isSmallWindowMode()},d=i.dataset.nextData&&(i.dataset.nextData.pageUrl||i.dataset.nextData.showCountdown)&&t.isAllEnd&&!s.os.ipad,l=undefined;if(c()||d){this.dataset.$tipContentMod.addClass("pause_vv").removeClass(a.dataset.hideClass);var u=this.bindWindowScroll(e);return void e()}if(i.dataset.nextData&&i.dataset.nextData.pageUrl&&!i.dataset.nextData.showCountdown)try{i.context.userMsg.broadcast("beforePlayNext",{vid:n.pageUrl})}catch(p){}else i.nofreshDoPlayTheNext(n,t),i.context.msg.broadcast("updateNextVideoInfo")}},showTip:function(){var t=this;t.dataset.nextData&&t.dataset.nextData.title&&t.dataset.nextData.preview?t.dataset.$tipMod.removeClass(a.dataset.hideClass):t.dataset.$nextTip.removeClass(a.dataset.hideClass)},hideTip:function(){var t=this;t.dataset.nextData&&t.dataset.nextData.title&&t.dataset.nextData.preview?t.dataset.$tipMod.addClass(a.dataset.hideClass):t.dataset.$nextTip.addClass(a.dataset.hideClass)},bindMouseEvent:function(){var t=this;this.dataset.$next.on("mouseenter",function(e){r(e.relatedTarget).parents().hasClass("txp_btn_next")||t.showTip()}).on("mouseleave",function(e){r(e.relatedTarget).parents().hasClass("txp_btn_next")||t.hideTip()})},addEventListerner:function(){var t=this;this.dataset.$next.on(a.dataset.clickEventName,function(){t.context.dataset.nextVid&&(t.hideTip(),t.playTheNext({connectionPlayType:3}))}),this.dataset.$tipContentCancle.on(a.dataset.clickEventName,function(){t.canclePlayTheNext(),t.context.msg.broadcast("showUicontrol")}),this.dataset.$tipContentPlay.on(a.dataset.clickEventName,function(){t.dataset.nextData&&t.dataset.nextData.pageUrl||(t.dataset.nextData.noRefresh=!0),t.doPlayTheNext(t.dataset.nextData.pageUrl,{connectionPlayType:3})}),this.dataset.eventsList={},this.dataset.eventsList[s.getUniqueMsgKey("vidChange")]=function(){t.dataset.isCancle=null,t.dataset.nextData=null,t.dataset.$tipContentMod.addClass(a.dataset.hideClass)},this.dataset.eventsList[s.getUniqueMsgKey("hideUiControl")]=function(){t.hideTip()},this.dataset.eventsList[s.getUniqueMsgKey("beforeVideoPlay")]=function(){t.canclePlayTheNext(),t.dataset.isCancle=null},this.dataset.eventsList[s.getUniqueMsgKey("userStopVideo")]=function(){t.canclePlayTheNext(),t.dataset.isCancle=null},this.dataset.eventsList[s.getUniqueMsgKey("videoEnd")]=function(e){e.isAllEnd&&t.context.dataset.nextVid&&!t.context.dataset.canPlayTime&&(t.context.dataset.nextVideoInfo.vid||"v3"!=t.context.config.version||t.context.userApi.stop&&t.context.userApi.stop(),t.context.dataset.disableAutoPlayNext||t.context.dataset.isLoopPlay||t.playTheNext({connectionPlayType:2,isAllEnd:!0}))},this.dataset.eventsList[s.getUniqueMsgKey("updateNextVideoInfo")]=function(){var e=!t.context.dataset.isLoopPlay&&!t.context.dataset.disableAutoPlayNext;t.context.dataset.nextVideoInfo=e?t.dataset.nextVideoInfoCopy:{}},this.dataset.eventsList[s.getUniqueMsgKey("userPlayNext")]=function(e){t.context.dataset.nextVid&&(t.hideTip(),t.playTheNext(e))},r.each(this.dataset.eventsList,function(e,n){t.context.msg.on(e,n)}),s.mobile||this.bindMouseEvent()},exportsModuleApis:function(){var t=this;this.dataset.moduleApis={},this.dataset.moduleApis.getNextData=function(e,n){return t.dataset.nextData},this.dataset.moduleApis.setNextVid=function(e,n){if(t.context.dataset.nextVid=e.nextVid,1==t.context.dataset.nextVid){var i,o=t.context.dataset.vid;if(e.next)t.dataset.nextData={vid:o,nextVid:e.next,isNewNextVid:!!e.next};else try{i=t.dataset.getNextVid(o)}catch(a){s.showInfo("[playTheNext.getNextVid.error]",a)}i&&(t.dataset.nextData={vid:o,nextVid:i.vid},i.title&&(t.dataset.nextData.title=i.title),i.preview&&(t.dataset.nextData.preview=i.preview),i.showCountdown&&(t.dataset.nextData.showCountdown=i.showCountdown),i.pageUrl&&(t.dataset.nextData.pageUrl=i.pageUrl),i.previewPoster&&(t.dataset.nextData.previewPoster=i.previewPoster),"v.qq.com"!==location.hostname||s.os.ipad||t.dataset.nextData.pageUrl||t.context.dataset.canPlayTime||t.context.dataset.isLoopPlay?(t.context.dataset.nextVideoInfo={},t.dataset.nextVideoInfoCopy={}):(t.context.dataset.nextVideoInfo.vid=i.vid,t.context.dataset.nextVideoInfo.cid=i.cid||t.context.dataset.cid,t.dataset.nextVideoInfoCopy.vid=i.vid,t.dataset.nextVideoInfoCopy.cid=i.cid||t.context.dataset.cid))}else t.context.dataset.nextVideoInfo={},t.dataset.nextVideoInfoCopy={};t.initDisplay(),t.context.msg.broadcast("updateNextVideoInfo")},r.extend(this.context.userApi,this.dataset.moduleApis),r.each(this.dataset.moduleApis,function(e,n){t.context.msg.on(e,n)})}},a.register("UiPlayNext",i)},function(module,exports){module.exports=function(d){with(d)return'<txpdiv data-role="'+next+'" class="txp_btn txp_btn_next" data-report="play-next" aria-label="下一集">\n  <svg class="txp_icon txp_icon_next" version="1.1" viewBox="0 0 36 36">\n    <use class="txp_svg_symbol txp_svg_next" xlink:href="'+svgPrefix+'#txp_svg_next" />\n  </svg>\n  <txpdiv class="txp_tooltip '+hideClass+'" data-role="'+nextTip+'">下一集</txpdiv>\n</txpdiv>'}},function(module,exports){module.exports=function(d){with(d)return'<txpdiv class="txp_hint_next '+hideClass+'" data-role="'+tipMod+'">\n<txpdiv class="txp_next_pic"><img data-role="'+tipPreview+'" alt="" /></txpdiv>\n\t<txpdiv class="txp_next_wording">\n\t\t<txpdiv class="txp_label">下一个</txpdiv>\n\t\t<txpdiv class="txp_next_title" data-role="'+tipText+'"></txpdiv>\n\t</txpdiv>\n</txpdiv>'}},function(module,exports){module.exports=function(d){with(d)return'<txpdiv class="txp_overlay_next '+hideClass+'" data-role="'+tipContentMod+'">\n<div class="txp_next_poster" data-role="'+tipContentPoster+'" style="background-image:url()"></div>\n<txpdiv class="txp_next_content">\n\t<txpdiv class="txp_label">即将播放</txpdiv>\n\t<txpdiv class="txp_next_title" data-role="'+tipContentText+'"></txpdiv>\n\t<a class="txp_cancel" href="javascript:" data-role="'+tipContentCancle+'">取消</a>\n\t<button class="txp_btn txp_btn_play_lg" data-status="play" data-role="'+tipContentPlay+'">\n\t\t<svg class="txp_icon txp_icon_play" viewBox="0 0 36 36" >\n\t\t\t<use class="txp_svg_symbol txp_svg_play" xlink:href="'+svgPrefix+'#txp_svg_play" />\n\t\t</svg>\n\t\t<svg class="txp_icon_cirlce" viewBox="0 0 72 72" >\n\t\t\t<circle r="34" cy="36" cx="36"></circle>\n\t\t</svg>\n\t</button>\n</txpdiv>\n</txpdiv>'}},function(t,e,n){function i(t){a=o.$,this.dataset={hasPlaying:!1,videoTimeCounter:0},this.taskTimer=null,this.context=t,this.videoCounter=0;var e=this;a.getScript("//vm.gtimg.cn/tencentvideo/script/101/101components.js",function(){e.init()})}var o=window.Txplayer,a=o.$,r=o.util,s=n(32),c=(o.apiList,n(33).standard()),d={1660477:"hasShow101",1660478:"hasComingOne",1660479:"hasChaoyin"};i.prototype={init:function(){if(window.RankIOI){"8190768"==this.context.config.showId&&(this.context.config.showId="1660479"),this.write(),this.addEventListerner(),this.exportsModuleApis();try{c.setApp("doki").setPage("player101")}catch(t){}this.dataset.hasShowed="true"==r.getData(d[this.context.config.showId])}},write:function(){var t=this,e={container:"txp-ui-101-components"},n=s(e);this.context.dataset.$playermod.append(n),this.dataset.$container=this.context.dataset.$playermod.find("[data-role="+e.container+"]"),this.hide(),this.dataset.rank=new RankIOI({container:this.dataset.$container,vid:this.context.config.vid,showId:this.context.config.showId}),this.dataset.JIKEtask=new TaskJIKE({}),this.dataset.rank.on("vote",function(e){t.initVote(e)}),this.dataset.rank.on("listDataReady",function(e){t.context.userMsg.broadcast("101componentReady",e)}),this.dataset.rank.on("listDataRefresh",function(e){t.context.userMsg.broadcast("101componentRefresh",e)}),this.dataset.JIKEtask.on("tasksuccess",function(){t.starListRefresh()})},closeBrowserFullscreen:function(){this.context.dataset.isBrowserFullscreen&&this.context.msg.broadcast("exitBrowserFullscreen")},closeWindowsFullscreen:function(){this.context.dataset.isWindowFullscreen&&this.context.msg.broadcast("exitWindowFullscreen")},starListRefresh:function(){this.dataset.rank.refreshRank()},taskSupport:function(t){var e=this;this.taskTimer&&clearTimeout(this.taskTimer),this.taskTimer=setTimeout(function(){e.dataset.JIKEtask&&e.dataset.JIKEtask.taskRequest(e.context.config.vid,t)},5e3)},bindMouseEvent:function(){},show:function(){this.dataset.$container.show(),this.dataset.isShowing||!this.dataset.rank||this.dataset.rank.dataset.listEmpty||(this.dataset.isShowing=!0,this.dataset.listShowing?c.pv("展开浮层"):c.pv("入口icon"))},hide:function(){this.dataset.$container.hide(),this.dataset.isShowing=!1},addEventListerner:function(){function t(){if(e.dataset.disable)return void e.hide();(n||2===e.context.dataset.playState||e.dataset.listShowing)&&!i&&!e.context.dataset.isPlayingAd&&e.context.dataset.playState>0&&e.dataset.hasPlaying?e.show():e.hide()}var e=this,n=!1,i=!1;e.dataset.listShowing=!1,this.dataset.rank.on("listShow",function(t){e.dataset.listShowing=!0,!e.dataset.rank.dataset.listEmpty&&c.pv("展开浮层"),e.dataset.$container.css({"z-index":30})}),this.dataset.rank.on("listHide",function(t){e.dataset.listShowing=!1,e.dataset.$container.css({"z-index":5})}),this.dataset.eventsList={},this.dataset.eventsList[r.getUniqueMsgKey("beforeUiControlShow")]=function(){n=!0,t()},this.dataset.eventsList[r.getUniqueMsgKey("adStart")]=function(){t()},this.context.msg.on("hideUiControl",function(){n=!1,t()}),this.dataset.eventsList[r.getUniqueMsgKey("userPausePlayer")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("showUIVipGuide")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("playStateChange")]=function(t){e.dataset.hasPlaying||t&&t.state>0&&(e.dataset.hasPlaying=!0,e.dataset.timmer&&clearTimeout(e.dataset.timmer),e.dataset.hasShowed||(e.dataset.hasShowed=!0,r.setData(d[e.context.config.showId],"true"),e.dataset.rank.setFirstTime(),e.dataset.rank.rankShow(),e.dataset.timmer=setTimeout(function(){e.dataset.rank.entranceShow(),e.dataset.listShowing=!1},3500),e.dataset.$container.one("click",function(){e.dataset.timmer&&clearTimeout(e.dataset.timmer)})))},this.dataset.eventsList[r.getUniqueMsgKey("userPlayPlayer")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("videoPlaying")]=function(){t()},this.dataset.eventsList[r.getUniqueMsgKey("vidChange")]=function(){e.dataset.hasPlaying=!1,e.dataset.timmer&&clearTimeout(e.dataset.timmer),t(),e.dataset.rank.generateList(e.context.dataset.vid)},e.context.msg.on("windowFullscreenChange",function(){e.fullscreenChange(e.context.dataset.isWindowFullscreen)}),e.context.msg.on("IOIVote",function(t){e.initVote(t)}),e.context.userMsg.on("browserFullscreenChange",function(t){e.dataset.isBrowserFullscreen=t,e.fullscreenChange(t)}),this.dataset.eventsList[r.getUniqueMsgKey("smallWindowModeChange")]=function(e){i=!!e.isSmallWindow,t()},a.each(this.dataset.eventsList,function(t,n){e.context.msg.on(t,n)}),this.dataset.moduleApis={},this.dataset.moduleApis.starListRefresh=e.starListRefresh.bind(this),this.dataset.moduleApis.taskSupport=e.taskSupport.bind(this),a.extend(this.context.userApi,this.dataset.moduleApis)},fullscreenChange:function(t){var e=this;this.dataset.isFullScreen=t,t?(this.dataset.rank.setEntranceTop(30),a("#vote_popper").appendTo(e.context.dataset.$playermod),a("#101_rules_popper").appendTo(e.context.dataset.$playermod)):(this.dataset.rank.setEntranceTop(0),a("#vote_popper").appendTo(a("body")),a("#101_rules_popper").appendTo(a("body"))),setTimeout(function(){e.dataset.rank.setListLeft()},300)},initVote:function(t){var e=this;txv&&txv.login&&txv.login.isLogin()?txv.vip&&txv.vip.getVipInfo?txv.vip.getVipInfo().always(function(n){n&&n.vip,e.dataset.JIKEtask.support({vid:t.starId,state:t.state,playtask:t.playtask,sharetask:t.sharetask,sucCallback:function(){e.dataset.rank.refreshRank()},errCallback:function(){}})}):e.dataset.JIKEtask.support({vid:t.starId,state:t.state,playtask:t.playtask,sharetask:t.sharetask,sucCallback:function(){e.dataset.rank.refreshRank()},errCallback:function(){}}):(e.dataset.isFullScreen&&(e.closeBrowserFullscreen(),e.closeWindowsFullscreen()),e.context.userMsg.broadcast("showLogin"))},refreshRank:function(t){var e=this;t&&e.dataset.rank&&e.dataset.rank.refreshRank(t)},exportsModuleApis:function(){}},o.register("Components101",i)},function(module,exports){module.exports=function(d){with(d)return'<txpdiv data-role="'+container+'" style="position: absolute;z-index: 21;white-space: nowrap;width:100%"></txpdiv>\n  '}},function(t,e,n){"use strict";function i(t){this._con=t}function o(){return d||window.jQuery||window.$||m}function a(t){return"array"!==p.type(t)?"":p.map(t,function(t){return p.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function r(t){return"string"!=typeof t?[]:p.map(t.split("|"),function(t){return p.map(t.split(","),function(t){return decodeURIComponent(t)})})}function s(t){function e(t,e){return e=e||{},e.loaded=!0,v.hot(t,p.extend({},I,e))}function n(t,n,i){return e([w,"event",t,n,i||""]),this}function i(t,n,i){return e([w,"click",t,n||"",i]),this}function h(t,n,i){return e([w,"pageview",t,n||"",i||""]),this}function m(t,e){switch(t){case"click":i.apply(this,e);break;case"pageview":h.apply(this,e);break;case"event":n.apply(this,e)}}function y(t){var e=Array.prototype.slice.call(arguments,1);if(g)try{var n=localStorage.getItem(b);try{n=r(n)}catch(i){}return"array"!==p.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(b,a(n))}catch(i){}m(t,e)}function _(){}var x="index",w="boss_common",b=w+"_lazy_reports",T=t&&t.standard,C=t&&t.loaded,I={},O={create:s,ptag:v.ptag,standard:function(t){return s(p.extend({standard:!0},t))},click:function(t,e){var n=(t+"."+(e||"")).split(".");return i(x,n[0],n[1])},event:function(t,e){var i=(t+"."+(e||"")).split(".");return n(x,i[0],i[1])},pv:function(t,e,n){var i=(t+"."+(e||"")+"."+(n||"")).split(".");h(i[0],i[1],i[2])},pagestat:function(t){var n=Array.prototype.slice.call(arguments,1);return n.unshift(w,t,x),e(n),this},stat:function(){var t=Array.prototype.slice.call(arguments);return t.unshift(w),e(t),this},setApp:function(t){return w=t,b=t+"_lazy_reports",setTimeout(function(){O.flush()},1e3),this},setPage:function(t){return x=t,this},setJQ:function(t){return d=t,this},set:function(t){return p.objEach(t,function(t,e){switch(t){case"loaded":C=!!e;break;case"source":I[t]=e}}),this},bind2d:function(t,e,n,i,a){var r=o(),s=this;return r(t).on("click","["+n+"]",function(t){var o=t.currentTarget,c=r(o),d=c.attr(n),l=c.attr(i),u=[];a&&(u=(c.attr(a)||"").split(/\,\s*/));for(var p,f=10;f&&o&&!(p=r(o).attr(e));)f--,o=o.parentNode;p&&s.click.apply(s,[p,d,l].concat(u))}),this},bind:function(t,e){var n=o();return n(t).on("click","["+e+"]",function(t){var o=t.currentTarget,a=n(o),r=a.attr(e),s=(r+".").split(".");if("A"==o.tagName){var c=a.attr("href"),d=a.attr("target"),l=(c||"").match(/^([a-zA-Z]+)\:/);if(l=l?l[1]:"",!/^(javascript:|#)/.test(c)&&!d&&(!l||/^https?$/.test(l)))return void y("click",x,s[0],s[1])}i(x,s[0],s[1])}),this},bindLazy:function(t,e){var n=o();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),a=o.attr(e);y("click",x,a,"")}),this},flush:function(){if(localStorage)try{var t=localStorage.getItem(b);localStorage.removeItem(b),t&&(t=r(t),p.forEach(t,function(t){m(t[0],t.slice(1))}))}catch(e){}return this},uuidGetter:function(t){return l=t,this},referrerGetter:function(t){return u=t,this},host:function(t){return v.host&&v.host(t),this},setExtraReporter:function(t){return v.setExtraReporter(t),this}};if(T){var k=O.bind2d,E=document.body,V="_module",N="_pos",P=[];O.bind=function(t,e,n,i){return E=t||E,V=e||V,N=n||N,k.call(O,E,V,N,i||"_detail","_exts")},O.bind2d=O.bind;var S={},D=0;p.extend(O,{stat:_,pagestat:_,bindExpose:function(t,e,n,i){var a=o(),r=t||E,s=e||V,d=n||N;if(i=i||{},!r.querySelectorAll)return this;var l=r.querySelectorAll("["+d+"]");return p.forEach(l,function(t){if(!t._binded_expose){t._binded_expose=!0;var e=c(V,t),n=D++;if(e){var o=a(e),r=a(t),l=f(t,{inview:!!i.inview,once:!0,enter:!0,recalc:!0,offset:i.inview?20:0,horiz:e.hasAttribute&&e.hasAttribute("_horiz"),listenHoriz:!0},function(){var t=o.attr(s)||"",e=r.attr(d)||"",i=r.attr("_detail")||"",a=(r.attr("_exts")||"").split(/\,\s*/);t&&O.expose.apply(O,[t,e,i].concat(a)),l&&(delete S[n],l())});S[n]=l}}}),this},updateExpose:function(){return f.message.emit("update"),this},click:function(t,n,i){return arguments.length<2&&(n=t,t=""),e([w,"click",x,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:T}),this},event:function(t,n,i){return arguments.length<2&&(n=t,t=""),e([w,"event",x,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:T}),this},expose:function(t,n,i){return e([w,"expose",x,t,n,i].concat(this.getExts(3,arguments)).concat(P),{standard:T}),this},pv:function(t,n,i,o){return e([w,"pageview",t||x,n,i,o].concat(this.getExts(4,arguments)).concat(P),{standard:T}),this},exts:function(){var t=[].slice.call(arguments,0);return P=t,this},getExts:function(t,e){return e=[].slice.call(e,0),e.slice(t).concat(new Array(4)).slice(0,4)}})}return O}function c(t,e){for(var n=o(),i=10;i&&e&&!n(e).attr(t);)i--,e=e.parentNode;return e}var d,l,u,p=n(4),f=n(34),h=n(36),v=n(38),g="localStorage"in window&&null!==window.localStorage,m=function(t){return new i(t)};i.prototype.on=function(t,e,n){h(this._con,e,t,function(t){n({currentTarget:t.delegateTarget})})},i.prototype.attr=function(t){return this._con.getAttribute(t)},v.uuidGetter&&v.uuidGetter(function(){if(l)try{return l()}catch(t){}}),v.referrerGetter&&v.referrerGetter(function(){if(u)try{return u()}catch(t){}}),t.exports=s()},function(t,e,n){"use strict";function i(){l(window,"scroll",a),l(window,"resize",a)}function o(t,e){function n(n){var i,p,m,y,x,E=!n||n===document.body;if(E&&!T)i=d(t);else if(!E&&!T){var V=n.getBoundingClientRect();p=V.height,m=V.width,y=V.left,x=V.top}var N,P,S,D=!1,R=!1,M=function(o,a,r){if(!u.once||!R){var s;if(E){if(i=T||!i.height?d(t):i,!i.height)return;var c=i.top-k,l=i.bottom;u.offset&&(c-=u.offset,l+=u.offset);var h=!u.listenHoriz||i.left>=0&&i.right<=r;w?(s=C?c>=o&&l<=o+a:c<o+a&&l>o,s=s&&h):s=h&&o+a>c}else if(!E){var v=t.getBoundingClientRect();if(!v.height||!v.width)return;if(O)s=f(t,v);else{if(!p||!m||!x){var g=n.getBoundingClientRect();p=g.height,m=g.width,x=g.top,y=g.left}var _=v.height,V=v.width,c=v.top-x,N=v.left-y,l=v.bottom-x,P=v.right-y,S=u.offset;u.offset&&(c+=S,N+=S,l-=S,P-=S),s=w?C?I?N>=0&&P<=m:c>=0&&l<=p:I?N>-V&&N<m:c>-_&&c<p:c<p&&N<m}}var M=D;if(M&&!s&&"function"==typeof u.out&&u.out(),!s)return void(D=!1);D=!0,(b&&!M||!b)&&(R=!0,e&&e())}};if(E)N=g.on("scroll",M),a();else{var $,L=!1,F=function(){$||($=!0,setTimeout(function(){$=!1,L&&M(r(),s(),c())},_.throttle?_.throttle:100))};if(N=g.on("scroll",F),n._onviewDelegator)L=n._onviewDelegator.visible(),S=n._onviewDelegator.message.on("visible",function(t){L=t,t&&F()}),F();else{var q=new v;n._onviewDelegator={message:q,visible:function(){return L}},S=o(n,h.extend({},u,{inview:!0,enter:!0,offset:0,listenHoriz:!1,out:function(){q.emit("visible",!1),L=!1}}),function(){L=!0,q.emit("visible",!0),F()})}P=l(n,"scroll",F),F()}return function(){N&&N(),P&&P(),S&&S(),N=P=S=null}}x||(x=!0,i());var u={},y=arguments;"object"==h.type(e)&&(u=e,e=y[2]);var w=p(u,"visible",!0),b=p(u,"enter",!1),T=p(u,"recalc",!1),C=p(u,"inview",!1),I=p(u,"horiz",!1),O=p(u,"absoluteCalc",!1),k=u.offsetTop||0,E=m(t);if(h.some(E.parents,function(t){return document.body===t}))return n(E.scrollParent);var V,N=setTimeout(function(){V=n(m(t).scrollParent)});return function(){clearTimeout(N),V&&V()}}function a(){if(_.throttle){if(w)return;w=!0,setTimeout(function(){w=!1,g.emit("scroll",r(),s(),c())},_.throttle)}else g.emit("scroll",r(),s(),c())}function r(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}function s(){return"BackCompat"==document.compatMode?document.body.clientHeight:document.documentElement.clientHeight}function c(){return"BackCompat"==document.compatMode?document.body.clientWidth:document.documentElement.clientWidth}function d(t){var e=t.getBoundingClientRect();return{top:e.top+r(),left:e.left,right:e.right,bottom:e.bottom+r(),height:e.bottom-e.top}}function l(t,e,n){return y?t.attachEvent("on"+e,n):t.addEventListener(e,n),function(){u(t,e,n)}}function u(t,e,n){y?t.detachEvent("on"+e,n):t.removeEventListener(e,n)}function p(t,e,n){return t.hasOwnProperty(e)?!!t[e]:n}function f(t,e,n){n=Object.assign({},{top:0,right:0,bottom:0,left:0},n);var e=e||t.getBoundingClientRect(),i=t.cacheOffsetWidth=t.cacheOffsetWidth||t.offsetWidth,o=t.cacheOffsetHeight=t.cacheOffsetHeight||t.offsetHeight,a=!(e.right-n.left<=0&&e.left+i-n.left<=0||e.left+n.right>=b&&e.right+n.right>=i+b),r=!(e.bottom-n.top<=0&&e.top+o-n.top<=0||e.top+n.bottom>=T&&e.bottom+n.bottom>=o+T);return 0!==t.width&&0!==t.height&&a&&r}var h=n(4),v=n(6),g=new v,m=n(35),y=!document.addEventListener,_={},x=!1;o.set=function(t,e){return _[t]=e,o},o.message=g,g.on("update",a),t.exports=o;var w,b=window.innerWidth,T=window.innerHeight},function(t,e,n){"use strict";function i(t,e){e=e||[];var n=t.parentNode;return n?(e.push(n),n===document.body?e:i(n,e)):e}function o(t){if(!t)return"";var e;if(window.getComputedStyle)try{e=window.getComputedStyle(t)}catch(n){}else t.currentStyle&&(e=t.currentStyle);return e?r(e):""}function a(t){return(!t.hasAttribute||!t.hasAttribute("_scroll_skip"))&&(/(auto|scroll)/.test(o(t))||t.hasAttribute&&t.hasAttribute("_scroll_view"))}function r(t){var e="";return s.some(["-y","-x",""],function(n){var i="overflow"+n,o="hidden"!==t[i]?t[i]:"";if(o)return e=o,!0}),e}var s=n(4);t.exports=function(t){for(var e=i(t),n=document.body,o=0;o<e.length;o++){var r=e[o];if(r===document.body||a(r)){n=r;break}}return{parents:e,scrollParent:n}}},function(t,e,n){function i(t,e,n,i,o){var r=a.apply(this,arguments);return t.addEventListener(n,r,o),{destroy:function(){t.removeEventListener(n,r,o)}}}function o(t,e,n,o,a){return"function"==typeof t.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,o,a)}))}function a(t,e,n,i){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&i.call(t,n)}}
var r=n(37);t.exports=o},function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}t.exports=n},function(t,e,n){"use strict";function i(t){var e=document.referrer||t.referrer||"",n=k||u.get("openid")||u.get("vqq_openid"),i=E||u.get("vuserid")||u.get("vqq_vuserid"),o=u.get("o_cookie")||u.get("uin")||u.get("luin"),r=u.get("appid"),s=u.get("main_login");return b+(t.standard?N:V)+"&s_uuid="+(_()||a())+(e?"&s_referrer="+encodeURIComponent(e):"")+(n?"&s_openid="+n:"")+(o?"&s_uin="+o:"")+(i?"&s_vuserid="+i:"")+(r?"&s_appid="+r:"")+(s?"&s_mainlogin="+s:"")+"&s_url="+encodeURIComponent(location.href.split("?")[0])}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return[t(),t(),t(),t()].join("")}function a(){if(C)return C;var t=u.get("tvfe_boss_uuid");if(!t){t=o();try{u.set("tvfe_boss_uuid",t,"qq.com",!1,87600)}catch(e){u.set("tvfe_boss_uuid",t,"",!1,87600)}}return C=t,t}function r(t,e){e=e||{};var n=e.loaded,o="number"==h.type(n)?n:500;"string"==h.type(t)?(t=t.replace(/\.$/,"").split("."),(t.length<3||t.length>5)&&console.warn("按钮名分段数不对，可能会导致数据丢失")):"array"!=h.type(t)&&(t=[]);var a="";if(e.standard){a=i({standard:!0,referrer:x()});var r=["s_app","s_behave","s_page","s_module","s_pos","s_detail","s_psdesc","s_ext2","s_ext3","s_ext4","s_pgdetail","s_value2","s_value3","s_value4"];h.forEach(r,function(e,n){var i=t[n];null!==i&&i!==undefined&&""!==i&&e&&(a+="&"+e+"="+encodeURIComponent(i))})}else{var c=e.source||"";if("function"==h.type(c))try{c=c()}catch(u){}a=i({referrer:x()}),a+="&s_app="+encodeURIComponent(t[0]||"")+"&s_module="+encodeURIComponent(t[1]||"")+"&s_behave="+encodeURIComponent(t[2]||"")+"&s_sub="+encodeURIComponent(t[3]||"")+"&s_fifth="+encodeURIComponent(t[4]||"")+(c?"&s_source="+encodeURIComponent(c):"")}a+=O?"&s_ptag="+encodeURIComponent(O):"",a+="&_dc="+Math.ceil(1e7*Math.random());var l=function(){if(e&&e.lazy)f.push(a);else if(n){var t=h.once(function(){P(a)});s(t),setTimeout(t,o)}else P(a)};e.standard?(d.os.iphone?a+="&s_platform=5":d.os.android?a+="&s_platform=3":d.os.windows&&T&&(a+="&s_platform=1"),g(function(t){var e=t.bucketId;e&&(a+="&plat_bucketid="+e);var n=t.omgid;n&&(a+="&s_omgid="+n);var i=t.idfa;i&&(a+="&s_idfa="+i);var o=t.imei;o&&(a+="&s_imei="+o),l()})):l()}function s(t){if(S)t();else if(D)var e=m.on("ready",function(){e(),t()});else{var n=h.once(function(){D=!1,S=!0;try{t()}finally{m.emit("ready")}});window.addEventListener?window.addEventListener("load",n):window.attachEvent?window.attachEvent("onload",n):n(),setTimeout(n,5e3)}}var c,d=n(19)(),l=n(20),u=n(22),p=n(39),f=n(24),h=n(4),v=n(6),g=n(42),m=new v,y=function(){},_=y,x=y,w=y,b="//btrace.video.qq.com",T=/qqlive/i.test(navigator.userAgent);try{c=window.jQuery||window.Zepto||window.tvp&&window.tvp.$}catch(R){}c&&c(document.body).on("click","[_boss]",function(t){r(c(t.currentTarget).attr("_boss"))});var C,I=window.sessionStorage||{getItem:function(){return""}},O=l.get("ptag")||I.getItem("ptag")||u.get("ptag"),k=l.get("openid"),E=l.get("vuserid"),V="/kvcollect?BossId=3255&Pwd=2118551257&s_ua="+navigator.userAgent+"&s_browser="+d.browser.name,N="/kvcollect?BossId=5982&Pwd=1952884855&s_ua="+navigator.userAgent,P=function(t){p(t),"function"==typeof w&&w(t)};t.exports={uuid:function(){return a()},uuidGetter:function(t){_=t||y},referrerGetter:function(t){x=t||y},setExtraReporter:function(t){w=t||y},ptag:function(t){O=t},host:function(t){b=t},hot:r,uid:a};var S,D},function(t,e,n){"use strict";var i=n(40),o=/(\.|^)qq\.com$/.test(location.hostname);(i.isAndroid()||i.isIOS())&&o?t.exports=n(41):t.exports=n(23)},function(t,e){"use strict";var n=navigator.userAgent,i=n.toLowerCase();t.exports={isIE:function(){return/; msie\b|; trident\b|\bedge\//.test(i)},isWX:function(){return/micromessenger/.test(i)},isQQ:function(){return/\bqq\b/.test(i)},isQQBrowser:function(){return/mqqbrowser/.test(i)},isQQLive:function(){return/qqlive/.test(i)},isQQLiveBroadcast:function(){return/qqlivebroadcast/.test(i)},isMobile:function(){return!!(n.match(/Android/i)||n.match(/android/i)||n.match(/iPhone/i)||n.match(/iPod/i)||n.match(/webOS/i)||n.match(/BlackBerry/i)||n.match(/BB/i)||n.match(/Windows Phone/i)||n.match(/iPad.*MicroMessenger/i)||n.match(/IEMobile/i))},isIOS:function(){return/iPad|iPhone|iPod/.test(n)&&!window.MSStream},isMac:function(){return/\bmac\b/.test(i)},isPC:function(){return/Win/.test(n)},isAndroid:function(){return/android/.test(i)},isChrome:function(){return/Chrome\//.test(n)},wxVer:function(){var t=i.match(/micromessenger\/([\d\.]+)/);return t?t[1]:""},androidVer:function(){var t=i.match(/android\s([0-9\.]*)/);return t?t[1]:""}}},function(t,e){t.exports=function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.withCredentials=!0,e.send()}},function(t,e,n){function i(t){window.TenvideoJSBridge?t(TenvideoJSBridge):document.addEventListener("onTenvideoJSBridgeReady",function(){t(TenvideoJSBridge)},!1)}var o=n(19)(),a="",r="",s="",c="",d="",l=!1,u=!1,p=!1,f=[];l=u=!o.browser.QQvideo,t.exports=function(t){if(l&&u)return void t({omgid:a,guid:r,idfa:s,imei:c,bucketId:d});if(f.push(t),!p){p=!0;var e=!1,n=function(){if(!e&&l&&u){e=!0;var t=f;f=[];for(var n={omgid:a,guid:r,idfa:s,imei:c,bucketId:d},i=0,o=t.length;i<o;i++)setTimeout(t[i],0,n)}};setTimeout(function(){l=u=!0,n()},3e3),i(function(t){t.invoke("getDeviceInfo",null,function(t){l=!0;var e;try{e=JSON.parse(t).result}catch(i){}e||(e={}),a=e.omgid,s=e.idfa,c=e.imei,r=e.guid,n()}),t.invoke("getAppInfo",null,function(t){u=!0;var e;try{e=JSON.parse(t).result}catch(i){}e||(e={}),d=e.bucketId,n()})})}}},function(t,e){function n(t){this.context=t,window.__BarrageInteractEgg__?this.addEvents():$.getScript("//vm.gtimg.cn/tencentvideo/script/components/barrage-interact-egg.js").done(this.addEvents.bind(this))}var i=window.PageMessage;n.prototype={addEvents:function(){i.wait("tvp-bulletReady",this.onBulletReady.bind(this)),this.context.userMsg.on("windowFullscreenChange",this.onWindowFullscreenChange.bind(this)),this.context.userMsg.on("browserFullscreenChange",this.onBrowserFullscreenChange.bind(this)),this.context.msg.on("postBullet",this.onPostBullet.bind(this))},onPostBullet:function(t){this.eggInst&&this.eggInst.onPostBullet(t)},onBulletReady:function(){this.eggInst=new __BarrageInteractEgg__({relativeDom:this.context.dataset.$playermod,cid:this.context.dataset.cid}),this.setEggParent(!0)},setEggParent:function(t){this.eggInst&&(t?$("body").append(this.eggInst.$el):this.context.dataset.$playermod.append(this.eggInst.$el))},onWindowFullscreenChange:function(t){this.setEggParent(!t)},onBrowserFullscreenChange:function(t){this.setEggParent(!t)}},Txplayer.register("BarrageInteractEgg",n)},function(t,e){function n(t){s=r.$,this.dataset={},this.context=t,this.init(),this.tipsHide=!1,this.previewTips=!1}function i(t){var e=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0];e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),n.appendChild(e)}var o,a,r=window.Txplayer,s=r.$,c=r.util,d=window.PageMessage,l='<svg class="txp_svg_icon txp_icon_hidevideo_label" width="22" height="22"><use xlink:href="#txp_icon_hidevideo_label"></use></svg>',u=[],p=!1,f=!1,h=!1,v=!1;n.prototype={init:function(){var t=this;d.on("active_10",function(e){if("list"===e.action&&e.data&&e.data.length){var n=[];try{n=JSON.parse(JSON.stringify(e.data))}catch(error){console.error("UiPlayHideVideos init JSON Error",error)}t.write(n),t.initPlayerFunction(),t.initHideVideosLayer(n)}})},initPlayerFunction:function(){var t=this;d.on("tvp-playend",function(e){t.checkLastVid(e.vid)}),d.on("tvp-browfullscreen",function(e){setTimeout(function(){t.resizeHideVideosLayer()},200)}),d.on("tvp-winfullscreen",function(e){setTimeout(function(){t.resizeHideVideosLayer()},200)}),d.on("vidChanged",function(e){e.vid===o?(t.dataset.$hideVideoDotList&&t.dataset.$hideVideoDotList.removeClass("txp_none"),t.context.dataset.$playermod.find(".txp_interact_hide_video_layer").addClass("txp_none"),t.context.dataset.$playermod.find(".txp_back_hide_videos").addClass("txp_none"),t.context.dataset.$playermod.find(".txp_btn_show_all_hide_video").addClass("txp_none")):u.indexOf(e.vid)>-1?(t.dataset.$hideVideoDotList&&t.dataset.$hideVideoDotList.addClass("txp_none"),t.setNextVid(e.vid),t.context.dataset.$playermod.find(".txp_back_hide_videos").removeClass("txp_none"),t.context.dataset.$playermod.find(".txp_hint_next").hide(),t.context.dataset.$playermod.find(".txp_btn_show_all_hide_video").removeClass("txp_none"),t.showBtnHideVideo()):(t.dataset.$hideVideoDotList&&t.dataset.$hideVideoDotList.addClass("txp_none"),t.context.dataset.$playermod.find(".txp_back_hide_videos").addClass("txp_none"),t.context.dataset.$playermod.find(".txp_btn_show_all_hide_video").addClass("txp_none"))})},write:function(t){if(p)return!1;var e=this,n="",i=e.context.dataset.duration;if(t.length>0&&e.context.msg.broadcast("reportUsrAction",{usr_action:"playpoint-hidevideo-view"}),o=VIDEO_INFO.vid,s.each(t,function(t,e){262144==e.cate&&s.each(e.gds,function(t,e){if(e&&e.showdot&&e.hide_videos&&e.hide_videos.length){var o=parseInt(e.bt/1e3,10)/i*100,a="";o>98&&(a="right: -8px;",o="auto; "),n+='<a _stat="播放器:普通模式:播控区:彩蛋打点" data-report="播放器:普通模式:播控区:彩蛋打点" class="txp_interact_hide_video_dot txp_none" \t                    href="//v.qq.com/x/page/'+(e.hide_videos[0]&&e.hide_videos[0].vid)+".html?fromHideVideo="+VIDEO_INFO.vid+'" \t                    data-left="'+o+'" data-label="'+c.xss(e.text||"隐藏彩蛋")+'" \t                    data-title="'+c.xss(e.hide_videos[0]&&e.hide_videos[0].copywriter||"立即前往")+'" \t                    data-vid="'+(e.hide_videos[0]&&e.hide_videos[0].vid)+'" \t                    data-role="ui-hide-videos-progress-dot" style="'+a+"left: "+o+'%"><svg class="txp_svg_icon txp_icon_hidevideo_dot" width="20" height="22"><use xlink:href="#txp_icon_hidevideo_dot"></use></svg></a>'}})}),!n)return!1;e.context.dataset.$playermod.find(".txp_interact_hide_video").length||(e.context.dataset.$playermod.append('<txpdiv class="txp_interact_hide_video"></txpdiv>'),e.dataset.$hideVideo=e.context.dataset.$playermod.find(".txp_interact_hide_video")),e.context.dataset.$playermod.find(".txp_progress_list").append('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1" height="1" class="svg_sprite"> \t<symbol viewBox="0 0 20 22" id="txp_icon_hidevideo_dot">  \t    <g transform="translate(2 2)" fill="currentColor" fill-rule="evenodd"> \t        <path d="M9.079.607l5.8 3.262A2.2 2.2 0 0 1 16 5.787v6.426a2.2 2.2 0 0 1-1.121 1.918l-5.8 3.262a2.2 2.2 0 0 1-2.158 0l-5.8-3.262A2.2 2.2 0 0 1 0 12.213V5.787a2.2 2.2 0 0 1 1.121-1.918l5.8-3.262a2.2 2.2 0 0 1 2.158 0z" stroke="currentColor" stroke-width="3.3" opacity=".6" stroke-linejoin="round"/>  \t        <circle cx="8" cy="9" r="3"/>  \t    </g>  \t</symbol>  \t<symbol viewBox="0 0 22 22" id="txp_icon_hidevideo_label">  \t    <path d="M8.23 3.662l2.27-1.31a1 1 0 0 1 1 0l2.281 1.316m2.468 1.425l1.991 1.15a1 1 0 0 1 .5.866v2.516m0 2.75v2.516a1 1 0 0 1-.5.866l-1.904 1.1m-2.564 1.48L11.5 19.65a1 1 0 0 1-1 0l-2.262-1.306M5.71 16.884L3.76 15.757a1 1 0 0 1-.5-.866v-2.516m0-2.75V7.109a1 1 0 0 1 .5-.866l2.035-1.176M11 15.125V11M6.873 8.642L11 11l4.133-2.362" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>  \t</symbol> \t</svg><txpdiv class="txp_interact_hide_video_dot_list"></txpdiv>'),e.dataset.$hideVideoDotList=e.context.dataset.$playermod.find(".txp_interact_hide_video_dot_list"),e.dataset.$hideVideoDotList.append(n),e.dataset.$HideVideoDots=e.context.dataset.$playermod.find(".txp_interact_hide_video_dot"),e.bindEvent(),p=!0,e.context.msg.on("videoTimeUpdate",function(t){var n=e.context.dataset.currentTime/e.context.dataset.duration*100;e.showDots(n)}),e.hideRecommendEnd()},hideRecommendEnd:function(){i(".txp_recommend_popup{\tdisplay: none !important;}")},hideTips:function(t){var e=this;e.tipsHide=setTimeout(function(){e.dataset.$hideVideo.addClass("txp_none"),e.resetPreviewTips()},t)},hidePreviewTips:function(){s(".txp_progress_list").css({"pointer-events":"tvp_none"}),s(".txp_tooltip_preview").addClass("txp_none_important")},resetPreviewTips:function(){this.previewTips=setTimeout(function(){s(".txp_progress_list").css({"pointer-events":"auto"}),s(".txp_tooltip_preview").removeClass("txp_none_important")},900)},bindEvent:function(){var t=this;t.dataset.$HideVideoDots.on("mouseenter",function(){t.hidePreviewTips(),clearTimeout(t.tipsHide),clearTimeout(t.previewTips),t.context.msg.broadcast("reportUsrAction",{usr_action:"playpoint-hidevideo-hover"});var e=s(this).data("title")||"",n=s(this).data("label")||"",i=s(this).data("vid")||"",o=s(this).css("left")||0,a="";parseFloat(o)<40&&(o="35px",a="txp_interact_hide_video_tips_hide_arrow");var r='<a _stat="播放器:普通模式:播控区:彩蛋打点" data-report="播放器:普通模式:播控区:彩蛋打点" class="txp_interact_hide_video_tips '+a+'" \t                            href="//v.qq.com/x/page/'+i+".html?fromHideVideo="+VIDEO_INFO.vid+'" \t                            data-vid="'+i+'" \t                            style="z-index:15;left: '+o+'">\t                            <txpdiv class="txp_interact_hide_video_tips_label">'+l+n+"</txpdiv>"+t.subCHStr(e,0,32)+"</a>";t.dataset.$hideVideo.removeClass("txp_none"),t.dataset.$hideVideo.html(r);var c=t.context.dataset.$playermod.find(".txp_interact_hide_video_tips").width(),d=t.context.dataset.$playermod.width();parseFloat(o)+c>d?t.context.dataset.$playermod.find(".txp_interact_hide_video_tips").css({left:d-c+"px"}).addClass("txp_interact_hide_video_tips_hide_arrow"):"35px"!==o&&t.context.dataset.$playermod.find(".txp_interact_hide_video_tips").removeClass("txp_interact_hide_video_tips_hide_arrow")}).on("mouseleave",function(){t.hideTips(500)}),t.dataset.$hideVideo.on("mouseenter",function(){clearTimeout(t.tipsHide)}).on("mouseleave",function(){t.hideTips(0)}),t.context.dataset.$playermod.delegate(".txp_interact_hide_video_dot, .txp_interact_hide_video_tips","click",function(e){t.context.msg.broadcast("reportUsrAction",{usr_action:"playpoint-hidevideo-click"}),txv.Boss.click(s(this).attr("_stat"));var n=s(this).data("vid");return n&&(t.dataset.$hideVideo.addClass("txp_none"),t.dataset.$hideVideoDotList.addClass("txp_none"),t.initBackFullVideo(VIDEO_INFO.vid),a||(a=t.context.dataset.currentTime),playJSBridge.changeVid(n)),!1})},bindClick:function(){var t=this;t.context.dataset.$playermod.delegate(".txp_back_hide_videos","click",function(e){var n=s(this);t.context.msg.broadcast("reportUsrAction",{usr_action:n.attr("data-report")});var i=n.attr("data-href");return a&&(i=i+"?start="+a),location.href=i,!1})},showDots:function(t){var e=-1;this.dataset.$HideVideoDots.each(function(n){var i=s(this),o=parseFloat(i.data("left"));t&&!isNaN(o)&&o<t?(e=n,i.removeClass("txp_none").removeClass("txp_interact_hide_video_dot_next")):n==e+1?(i.removeClass("txp_none"),i.addClass("txp_interact_hide_video_dot_next")):i.addClass("txp_none")})},subCHStr:function(t,e,n){function i(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=[t.substr(n,1),o(n)];return e}function o(t){return a.charCodeAt(t)>255||a.charCodeAt(t)<0}var a=(t||"")+"";return function(t,e){for(var n=0,o="",r=i(a),s=0;s<a.length;s++){if(r[s][1]?n+=2:n++,e<n)return o;t<n&&(o+=r[s][0])}return o}(e,e+n)},initBackFullVideo:function(t){var e=this;if(h)return!1;if(t=t||txv&&txv.util&&txv.util.getUrlParam("fromHideVideo")||""){e.context.dataset.$playermod.append('<txpdiv data-report="播放器:普通模式:播控区:回到完整版" data-vid="'+t+'" class="txp_back_hide_videos" data-href="//v.qq.com/x/page/'+t+'.html">\t            <svg class="txp_svg_icon_back_hidevideo" width="18" height="18"> \t            <path fill="currentColor" transform="translate(2 2)" d="M1.93 7.388L4.826 4.48a.804.804 0 0 0 0-1.134.798.798 0 0 0-1.13 0L.234 6.82a.804.804 0 0 0 0 1.134l3.462 3.474a.797.797 0 0 0 1.13 0 .803.803 0 0 0 0-1.134L1.93 7.388z" id="b"/> \t            <path fill="none" stroke="currentColor" stroke-width="1.556" stroke-linecap="round" stroke-linejoin="round" d="M3.556 3.556V2h10.888v14H3.556v-1.556"/> \t            </svg>回到完整版</txpdiv>');var n="scene=播放器&pagename=播控区&columnname=彩蛋打点&controlname="+t+"&cid=&vid="+(VIDEO_INFO&&VIDEO_INFO.vid||"")+"&pid=&datatype=1&playertype=1&controlidx=1&columnidx=1&plat_bucketid="+(txv&&txv.cookie&&txv.cookie.get("bucket_id")||"");PLAYER&&"function"==typeof PLAYER.setOuterReportData&&PLAYER.setOuterReportData(encodeURIComponent(n)),e.bindClick(),h=!0}},initHideVideosLayer:function(t){var e=this;if(f)return!1;for(var n="",i=0,o=0,a=t.length;o<a;o++){var r=t[o];if(r.gds&&r.gds.length&&(r.gds[0]&&r.gds[0].hide_videos&&r.gds[0].hide_videos.length)){n+='<txpdiv class="txp_hv_block">',n+='<txpdiv class="txp_hv_label" style="--txp_hv_label_left:'+(r.gds[0].bt>=36e5?4:3)+'em">'+e.formatDuration(r.gds[0].bt/1e3)+"</txpdiv>";for(var s=r.gds[0].hide_videos,c=0,d=s.length;c<d;c++){i++;var p=s[c];u.push(p.vid),n+='<txpdiv class="txp_hv_item" data-vid="'+p.vid+'">\t                    <img class="txp_hv_pic" src="'+(p.img||"").replace(/^https?:/,"")+'" alt="" /> \t                    <txpdiv class="txp_hv_title" >'+p.copywriter+"</txpdiv > \t                </txpdiv>"}n+="</txpdiv>"}}var h='<txpdiv class="txp_interact_hide_video_layer txp_none" data-total="'+i+'"> \t                        <txpdiv class="txp_interact_layer_title"> \t                        '+l+'全部隐藏视角 \t                        <txpdiv class="txp_page_small"> \t                            <button class="txp_btn_prev txp_disabled"> \t                            <svg class="txp_svg_icon txp_svg_icon_prev" viewBox="0 0 6 10" width="6" height="10" > <path d="M1.4 4.7L5 1M1.3 5.3L5 9" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" /> </svg> \t                            </button> \t                            <txpdiv class="txp_page_num">1/3</txpdiv> \t                            <button class="txp_btn_next"> \t                            <svg class="txp_svg_icon txp_svg_icon_next" viewBox="0 0 6 10" width="6" height="10" > <path d="M4.6 4.7L1 1M4.7 5.3L1 9" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" /> </svg> \t                            </button> \t                        </txpdiv> \t                        </txpdiv> \t                        <txpdiv class="txp_interact_layer_body" data-total="'+i+'">'+n+'</txpdiv> \t                        <button class="txp_hide_video_layer_btn_close"> \t                        <svg class="txp_svg_icon txp_svg_icon_close" width="26" height="26" > <path d="M2.2.4L13 11.2 23.8.4a1.3 1.3 0 0 1 1.8 1.8L14.8 13l10.8 10.8a1.3 1.3 0 0 1-1.8 1.8L13 14.8 2.2 25.6a1.3 1.3 0 0 1-1.8-1.8L11.2 13 .4 2.2A1.3 1.3 0 0 1 2.2.4z" fill="currentColor" /> </svg> \t                        </button> \t                    </txpdiv>\t                    <txpdiv class="txp_btn_show_all_hide_video txp_none"> \t                        <svg class="txp_svg_icon txp_icon_hidevideo_label" width="22" height="22" > <use xlink:href="#txp_icon_hidevideo_label"></use></svg >全部隐藏视角 \t                    </txpdiv>';i&&(e.context.dataset.$playermod.append(h),e.resizeHideVideosLayer(),e.pageHandle(),e.handleHideVideoLayer(),e.observerPlayerSize(),f=!0)},handleHideVideoLayer:function(){var t=this;$btnShowLayer=t.context.dataset.$playermod.find(".txp_btn_show_all_hide_video"),$layer=t.context.dataset.$playermod.find(".txp_interact_hide_video_layer"),$btnCloseLayer=$layer.find(".txp_hide_video_layer_btn_close"),$btnShowLayer.click(function(){$layer.removeClass("txp_none"),$btnShowLayer.addClass("txp_none"),s(".txp_top_btns").addClass("txp_none"),t.resizeHideVideosLayer(),PLAYER&&PLAYER.pause()}),$btnCloseLayer.click(function(){if(t.context.dataset.isLastVid&&o&&!v){var e="//v.qq.com/x/page/"+o+".html";console.log("fullVidStart",a),a&&(e=e+"?start="+a),location.href=e}else v=!1,$layer.addClass("txp_none"),$btnShowLayer.removeClass("txp_none"),s(".txp_top_btns").removeClass("txp_none"),PLAYER&&PLAYER.play()}),$layer.delegate(".txp_hv_item","click",function(){v=!0,$btnCloseLayer.trigger("click"),playJSBridge.changeVid(s(this).data("vid"))})},resizeHideVideosLayer:function(t){var e=this,n=e.context.dataset.$playermod.width(),i=e.context.dataset.$playermod.find(".txp_interact_layer_title"),o=e.context.dataset.$playermod.find(".txp_interact_layer_body"),a=e.context.dataset.$playermod.find(".txp_page_num"),r=e.context.dataset.$playermod.find(".txp_hv_item"),c=o.data("total"),d=VIDEO_INFO&&VIDEO_INFO.vid||"",l=0;r.each(function(t,e){s(e).data("vid")===d?(l=t+1,s(e).addClass("txp_hv_item_current")):s(e).removeClass("txp_hv_item_current")});var u=parseInt((n-60+18)/216);u=u>c?c:u;var p=216*u-18,f=parseInt((n-p)/2);console.log("showNum",u,c),i.css({left:f,right:f}),o.css({left:f,right:f});var h=l<=u?1:Math.ceil(l/u);o.data("current",h),o.data("showNum",u),o.data("totalPageNum",Math.ceil(c/u)),a.text(h+"/"+Math.ceil(c/u)),e.resziePageNum(h)},resziePageNum:function(t){var e=this;console.log("currentPageNum",t);var n=e.context.dataset.$playermod.find(".txp_interact_hide_video_layer"),i=e.context.dataset.$playermod.find(".txp_interact_layer_body"),o=i.find(".txp_hv_item"),a=n.find(".txp_btn_prev"),r=n.find(".txp_btn_next"),s=i.data("totalPageNum"),c=i.data("showNum"),d=i.data("total");if(1===t&&a.addClass("txp_disabled"),t>1&&a.removeClass("txp_disabled"),t===s&&r.addClass("txp_disabled"),t<s&&r.removeClass("txp_disabled"),1===t)o.removeClass("tvp_none");else{var l=c*(t-1);l=l+c>d?d-c:l,o.slice(0,l).addClass("tvp_none"),o.slice(l).removeClass("tvp_none")}e.checkBlockHide()},checkBlockHide:function(){this.context.dataset.$playermod.find(".txp_interact_layer_body").find(".txp_hv_block").each(function(t,e){var n=s(e).find(".txp_hv_item"),i=s(e).find(".txp_hv_item.none");n.size()===i.size()?s(e).addClass("tvp_none"):s(e).removeClass("tvp_none")})},pageHandle:function(){function t(t,e){i.data("current",t),o.text(t+"/"+e)}var e=this,n=e.context.dataset.$playermod.find(".txp_interact_hide_video_layer"),i=e.context.dataset.$playermod.find(".txp_interact_layer_body"),o=n.find(".txp_page_num"),a=i.find(".txp_hv_item"),r=n.find(".txp_btn_prev"),s=n.find(".txp_btn_next"),c=i.data("total");s.click(function(){var n=i.data("showNum"),o=i.data("totalPageNum"),d=i.data("current");if(!(d<o))return s.addClass("txp_disabled"),!1;r.removeClass("txp_disabled");var l=n*d;l=l+n>c?c-n:l,a.slice(0,l).addClass("tvp_none"),a.slice(l).removeClass("tvp_none"),d++,e.checkBlockHide(),t(d,o),d===o&&s.addClass("txp_disabled")}),r.click(function(){var n=i.data("showNum"),o=i.data("totalPageNum"),c=i.data("current");if(!(c>1))return r.addClass("txp_disabled"),!1;c--,s.removeClass("txp_disabled"),a.slice(n*(c-1),n*c).removeClass("tvp_none"),a.slice(n*c).addClass("tvp_none"),e.checkBlockHide(),t(c,o),1===c&&r.addClass("txp_disabled")})},formatDuration:function(t){var e=Math.floor(t/60),n=Math.floor(e/60);e-=60*n;var i=Math.floor(t%60),o=function(t){return t>9?t:"0"+t};return i=o(i),e=o(e),(n?o(n)+":":"")+e+":"+i},setNextVid:function(t){if(!u||!u.length)return!1;for(var e="",n=!1,i=0,o=u.length;i<o;i++)u[i]===t&&(i===o-1?n=!0:e=u[i+1]);e&&setTimeout(function(){PLAYER.setNextVid({nextVid:!0,next:e})},1e3),n&&setTimeout(function(){PLAYER.setNextVid({nextVid:!1})},1e3)},checkLastVid:function(t){for(var e=!1,n=0,i=u.length;n<i;n++)u[n]===t&&n===i-1&&(e=!0,this.context.dataset.isLastVid=!0);e&&this.context.dataset.$playermod.find(".txp_btn_show_all_hide_video").trigger("click")},showBtnHideVideo:function(t){var e=!1;if(!u||!u.length)return!1;for(var n=0,i=u.length;n<i;n++)if(u[n]===t){e=!0;break}e&&this.context.dataset.$playermod.find(".txp_btn_show_all_hide_video").removeClass("txp_none")},observerPlayerSize:function(){var t=this,e=t.context.dataset.$playermod[0];new ResizeObserver(function(e){t.context.dataset.playerWidth!==e[0].contentRect.width&&(t.context.dataset.playerWidth=e[0].contentRect.width,t.resizeHideVideosLayer())}).observe(e)}},r.register("UiPlayHideVideos",n)},function(t,e,n){"use strict";var i=n(46),o=window.Txplayer,a=window.PageMessage;t.exports={defaultParam:function(t){t.getUserBulletData=function(){return{headImg:i.login.getAvatar()}},t.loginHandler={isLogin:function(){return i.login.isLogin()},getVipInfo:i.vip.getVipInfo}},beforeCreate:function(t){},afterCreate:function(t){r=t,i&&i.login&&o&&o.msg&&(i.login.addLoginCallback(function(){o.msg.broadcast("afterLogin")}),i.login.addLogoutCallback(function(){o.msg.broadcast("afterLogout")}))}};var r=null;a.on("tvp-bulletStatus",function(t){r?t?r.openBullet():r.closeBullet():setTimeout(function(t){a.emit("tvp-bulletStatus",t)}.bind(this,t),1500)})},function(t,e){t.exports=txv},function(t,e){"use strict";var n=window.PageMessage;t.exports={defaultParam:function(){},beforeCreate:function(){},afterCreate:function(t){i=t,t.on("playStateChange",function(t){-1!=t.state&&(o=!0)})}};var i,o,a=null;n.on("tvp-seekto",function(t){if(i&&i.isApiExist("seekTo")&&o)return void i.seekTo(t);a&&i.getVid()!=a||(a=i.getVid(),setTimeout(function(t){n.emit("tvp-seekto",t)}.bind(this,t),1500))}),n.on("tvp-play",function(){i&&i.play()}),n.on("tvp-pause",function(){i&&i.pause()}),n.on("tvp-togglePlayPause",function(){i&&i.togglePlayPause()}),n.on("tvp-onlineNum",function(t){i&&"function"==typeof i.setOnlineNum&&i.setOnlineNum(t)}),n.on("tvp-seekRight",function(t){t=t||5,i&&"function"==typeof i.seekRight&&i.seekRight(t)}),n.on("tvp-seekLeft",function(t){t=t||5,i&&"function"==typeof i.seekLeft&&i.seekLeft(t)}),n.on("tvp-toggleWindowFullScreen",function(){i&&"function"==typeof i.toggleWindowFullScreen&&i.toggleWindowFullScreen()}),n.on("tvp-setSmallWindowMode",function(t){txv.log.log(" isSmall "+t),i?i.setSmallWindowMode(t):setTimeout(function(t){n.emit("tvp-setSmallWindowMode",t)}.bind(this,t),1500)}),n.on("tvp-getStarListRefresh",function(t){i&&i.starListRefresh&&i.starListRefresh()}),n.on("tvp-shareBtnClick",function(){i&&i.taskSupport&&i.taskSupport(1)}),txv.login.addOpenLoginCallback(function(){try{i.isBrowserFullscreen()?-1==window.location.search.indexOf("clientType=car")&&i.exitBrowserFullscreen():i.isWindowFullscreen&&-1==window.location.search.indexOf("clientType=car")&&i.exitWindowFullscreen()}catch(t){}})},function(t,e){"use strict";t.exports={defaultParam:function(t){},beforeCreate:function(t){},afterCreate:function(t){var e=!1;txv.login.addLoginCancelCallback(function(){e&&t.closeLoginGuide({isVip:!1,success:!1}),e=!1}),txv.login.addLoginCallback(function(){e&&t.closeLoginGuide({isVip:!1,success:!0}),e=!1}),t.on("showLoginGuide",function(){e=!0,txv.login.openLogin({})})}}},function(t,e,n){"use strict";var i=n(50),o=n(46),a=window.PageMessage,r=n(61);window.HAS_OLD_HISTORY_PLUGIN=!1,t.exports={defaultParam:function(t){["flash","html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("txp-history-plugin")}),t.getHistoryReportParam=function(){return{recordHistory:!(COVER_INFO.cover_id&&1==COVER_INFO.positive_trailer&&1!=VIDEO_INFO.positive_trailer),title:VIDEO_INFO.title,episode:VIDEO_INFO.episode}}},beforeCreate:function(t){t.vid=VIDEO_INFO.vid;var e=o.util.getUrlParam("start"),n=o.util.getUrlParam("debug");if("0"===e||e>VIDEO_INFO.head_time)t.connectionPlayTime=e,i.onlyRegist();else{i.debug(n);var a=VIDEO_INFO.vid;location.href.match("v.qq.com/x/cover/.{15}.html")&&!o.util.getUrlParam("vid")&&(a=10==COVER_INFO.type?a:"");var s=i.install(a,COVER_INFO.cover_id);if(!s||!s.vid)return;if(!a&&COVER_INFO.cover_id&&1==COVER_INFO.positive_trailer){var c=!1,d="";if(COVER_INFO.nomal_ids.forEach(function(t){t.V==s.vid&&(c=2&t.F),!d&&2&t.F&&(d=t.V)}),!c)return void playJSBridge.changeVid(d,{},d==VIDEO_INFO.vid)}t.vid=s.vid,t.title=s.title;var l=s.time>.98*s.dur;l&&!a&&-1!=[2,3,106].indexOf(VIDEO_INFO.type)?r.get(s.vid,{offset:1},function(t,e){t||-1==e.category_map.indexOf("正片")?playJSBridge.changeVid(s.vid,{},!0):playJSBridge.changeVid(e,{})}):(l||(t.connectionPlayTime=s.time),s.vid!=VIDEO_INFO.vid&&playJSBridge.changeVid(s.vid,{},!0))}},afterCreate:function(t){t.on("uiTipsClicked",function(e){var n=e.time;e.vid===t.getVid()?a.wait("tvp-ready",function(){t.seekTo(n)}):playJSBridge.changeVid(e.vid,{cid:e.cid,autoplay:!0,connectionPlayTime:n})})}}},function(t,e,n){function i(t){this.dataset={},this.context=t,R||this.init()}function o(t,e){E&&V&&console.log("[",b,"]",t,e)}function a(t){var e;return t&&"undefined"!=typeof t.typeid?e=+t.typeid:window.COVER_INFO&&"undefined"!=typeof COVER_INFO.typeid?e=+COVER_INFO.typeid:window.VIDEO_INFO&&"undefined"!=typeof VIDEO_INFO.type?e=+VIDEO_INFO.type:t&&"undefined"!=typeof t.episode&&(e=2),e}function r(){window.Txplayer&&"function"==typeof Txplayer.register&&Txplayer.register(b,i)}var s,c,d,l,u,p,f,h,v,g,m,y,_,x=n(51),w=n(60),b="txp-history-plugin",T=1,C=2,I=3,O=10,k=!1,E=!1,V=window.console&&"function"==typeof console.log,N=!1,P=location.pathname,S=location.search,D=/\/[a-z0-9A-Z]{11}\.html$/.test(P)||/vid\=[a-z0-9A-Z]{11}/.test(S),R=!1,M=i.prototype;M.init=function(){this.addEventListener()},M.addEventListener=function(){function t(t){o("play type: ",t),s=e.context.dataset.vid;var i=e.context.dataset.duration||0;if(!k){k=!0;var r="";if(n){var p={};c?p.cid=c:p.vid=s,x.get(p,function(n,i){if(r=y,!n&&i){var c=i;c.keyid=c.keyid.replace(/^_/,"");var p=c.keyid&&c.keyid.split("_")||["",""];v=p[1],g=p[0];var f=+c.time,_=+c.dur,x=+c.platform;if(-1==f)f=0;else if(-2==f||_&&(Math.abs(_-f)<=5||f>.99*_))return;if(m=f,c.episode=w.formatEpisode(c.episode),o("remote: ",c),"ad"===t&&(v&&v===s||!v&&d&&d===s||v&&v===d))return void(k=!1);if(0===f)return tipsToShow=y,e.showTips();var b=Math.abs(f-l)>30;if(v&&v!==s||d&&d!==s||v!==d||b){if(!D&&(!h||c.serverDate>h)){var E="";if(v&&v===s||!v&&d&&d===s||v&&v===d===s)E+="本集";else if(c.episode)E=E+"第"+c.episode+"集";else{if(!c.title)return;E=E+"《"+c.title+"》"}10==c.typeid&&2==x||e.context.userMsg.broadcast("uiTipsClicked",{vid:v||d,cid:g||u,time:m||l});var V={1:"客户端",3:"手机端",4:"pad端",5:"手机端"};tipsToShow=V[x]?"您在"+V[x]+"播放至"+E+" "+w.formatPlayTime(f)+"，已自动为您跳转":10!=c.typeid?"已为您跳转至最新播放记录 "+E+" "+w.formatPlayTime(f):"";var N=function(t){t&&1!=t.state||(e.context.msg.off("playStateChange.historyWaitForOnPlay",N),e.showTips(tipsToShow))};return void e.context.msg.on("playStateChange.historyWaitForOnPlay",N)}var E="",P=a(c),S=c.title||"";if(P===O||P===T){if(!b&&g)return e.showTips(y);if(v){if(v===s)return e.showTips(y);E="已观看至"}else{if(!d)return e.showTips(y);if(d===s)return e.showTips(y);E="已观看至"}S&&(E+="《"+S+"》")}else if(P===C||P===I)if(E="已观看至",v&&v===s||!v&&d&&d===s||v&&v===d===s)E+="本集";else if(c.episode)E=E+"第"+c.episode+"集";else{if(!c.title)return;E=E+"《"+c.title+"》"}r="云端记录："+E+'<a href="javascript:;" data-action="clickTips">'+w.formatPlayTime(f)+", 跳转播放</a>"}}tipsToShow=r,e.showTips(tipsToShow)})}else{if("ad"===t&&(s===d||!D))return void(k=!1);if(!i&&"ad"!==t&&e.userApi&&e.userApi.getDuration)try{i=e.userApi.getDuration()||0}catch(f){}if(i){if(i=+i,!isNaN(i)&&(Math.abs(i-_)<5||_>.99*i))return;e.showTips(y)}else e.showTips(y)}}}var e=this;N="flash"===this.context.config.playerType;var n=window.txv&&txv.login.isLogin()||!1;this.dataset.eventsList={},this.dataset.eventsList[Txplayer.util.getUniqueMsgKey("uiTipsClicked")]=function(t){t.target&&"cancelTips"==$(t.target).attr("data-action2")?e.context.msg.broadcast("hideUiTips"):(o("uiTipsClicked: ",t),t.vid=v||d,t.cid=g||u,t.time=m||l,e.context.userMsg.broadcast("uiTipsClicked",t))},this.dataset.eventsList[Txplayer.util.getUniqueMsgKey("adStart")]=function(){t("ad")},this.dataset.eventsList[Txplayer.util.getUniqueMsgKey("isPlayingAdStatusChange")]=function(e){t(e?"ad":"film")},
N&&(this.dataset.eventsList[Txplayer.util.getUniqueMsgKey("playStateChange")]=function(e){e&&1==e.state&&t("film")}),this.dataset.eventsList[Txplayer.util.getUniqueMsgKey("vidChange")]=function(t){k=!0,o("vidChange",t)},$.each(this.dataset.eventsList,function(t,n){e.context.msg.on(t,n)})},M.showTips=function(t,e){e=e||{},o("tips: ",t);var n=this.context.dataset.duration||0;if(!n&&this.userApi&&this.userApi.getDuration)try{n=this.userApi.getDuration()||0}catch(s){}if(!n||(n=+n,isNaN(n)||!(Math.abs(n-_)<5||_>.99*n))){var i=a();if(t&&(i==C||i==T||i==O||i==I||106==i))if(N){var r=new RegExp('<a href="javascript:;" data-action="clickTips">',"g");t=t.replace(/\<\/a>/g,"]").replace(/\<a\>/g,"[").replace(r,"["),o("flash tips: ",t),this.context.userApi.seekTo({showHistoryTips:!0,msg:t})}else this.context.msg.broadcast("showUiSeekTip",{time:15,uiText:t,hideClose:e.hideClose})}},t.exports={name:b,version:"2.6.2",debug:function(t){E=t},onlyRegist:function(){R=!0,window.Txplayer&&"function"==typeof Txplayer.register&&Txplayer.register(b,i)},install:function(t,e){if(0===arguments.length)return{};var n={};s=t||"",c=e||"",r(),c?n=x.getSync({cid:c,vid:s}):s&&(n=x.getSync({vid:s}));var i=n.keyid&&n.keyid.split("_")||["",""];return d=i[1]||s,u=i[0]||c,l=n.time?+n.time:0,f=n.episode||"",p=n.title||"",h=n.serverDate,n.cid=u,n.vid=d,n.time=l,n.time||(n.time=0),n.time>0?D&&s&&d&&d!==s&&l>0&&(f||p)?(f=w.formatEpisode(f),f?y="历史记录，您已观看至第"+f+'集<a href="javascript:;" data-action="clickTips">'+w.formatPlayTime(l)+", 跳转播放</a>":p&&(y="历史记录，您已观看至《"+p+'》<a href="javascript:;" data-action="clickTips">'+w.formatPlayTime(l)+", 跳转播放</a>")):y='您上次观看至<a href="javascript:;" data-action="clickTips">'+w.formatPlayTime(n.time)+"</a>处, 正在为您续播":y="",_=n.time,o("defaultText: ",y),o("local: ",n),D&&s&&d!==s&&(n={}),n}}},function(t,e,n){function i(){}function o(){var t=T.get("main_login"),e="";if("wx"===t){var n=T.get("vuserid");if(n&&n.length>0)return parseInt(n,10)}else if("qq"===t){var i=T.get("vqq_vuserid");if(i)e=parseInt(i,10);else{var o=/^\s*|\s*$/g,a=T.get("skey")||"",r=T.get("lskey")||"";a=a.replace(o,""),r=r.replace(o,""),a||r?(!(e=parseInt(T.get("uin").replace(/^o0*/g,""),10))||e<=1e4)&&(!(e=parseInt(T.get("luin").replace(/^o0*/g,""),10))||e<=1e4)&&(e=""):e=""}}return e}function a(){var t=o();return t?V+t:V}function r(t,e){return t=t||"",e=e||"",t+D+e}function s(t,e){var n=[];return t=t.split(P),b.forEach(t,function(t){~t.indexOf(e)&&(t=t.split(S),n.push(new C(t)))}),n}function c(t){var e,n={},i=E.get(V)||"";return i&&(e=s(i,t)||[],n=t.length>2?e[0]||{}:_(e)),n||{}}function d(t,e){var n,i=r(t,e),o=a(),d=E.get(o)||"",l={};return d&&(n=s(d,i),l=i.length>2?n[0]||{}:_(n)),l&&l.keyid||(l=c(i)),l}function l(t){var e,n,i=a(),o=E.get(i)||"",r=o.split(P),s=r.length,c=t.cid||undefined,d=t.vid||undefined;if(o.indexOf(c)>-1||o.indexOf(d)>-1){for(e=s-1;e>=0;e--)if(n=r[e].split(S),n[0].indexOf(c)>-1||n[0].indexOf(d)>-1){r.splice(e,1),r.unshift(new C(t).toString());break}}else s>=R&&r.splice(s-1,1),r.unshift(new C(t).toString());E.set(i,r.join(P))}function u(){return+new Date-$>M}function p(t,e){function n(t){F=!1,t||f(o)}l(t);var i=a();if((e||u())&&!F&&i!==V){$=+new Date,F=!0;var o=v();if(o.length>0)if(o.length>1)I.batchReport({list:o.join(P)},n);else{var r=o[0].split("+");I.reportOne({keyid:r[0],time:r[1],date:r[2],hd:r[3],typeid:r[4]},n)}else if(E.safariPrivateMode){var s=new C(t);I.reportOne({keyid:s.keyid,time:s.time,date:parseInt(s.date/1e3),hd:s.hd,typeid:s.typeid},n)}}return!0}function f(t){E.remove(V);var e,n,i,o=+new Date,r=a(),s=E.get(r)||"";b.forEach(t,function(t){t=t.split("+")[0],(e=s.indexOf(t))>-1&&(n=s.indexOf(P,e),i=s.slice(e,n),i=i.split(S),i[8]=o,s=s.slice(0,e)+i.join(S)+s.slice(n))}),E.set(r,s)}function h(t){return[t[0],t[3],parseInt(t[2]/1e3),t[9],t[6]].join("+")}function v(){var t,e=[],n=a();return t=E.get(V)||"",n!=V&&(t+=P+(E.get(n)||"")),t=t.split(P),b.forEach(t,function(t){t=t.split(S),t[2]>=t[8]&&e.push(h(t))}),e}function g(t){var e=[],n=[],i=!1,o=a(),r=E.get(o)||"";r=s(r,"_");var c,d,l;b.forEach(r,function(e){i=!1,b.some(t,function(t){if(l=e.keyid.split(D),d=l[0]||undefined,c=l[1]||undefined,t.keyid.indexOf(d)>-1||t.keyid.indexOf(c)>-1)return parseInt(t.date)<parseInt(e.date)&&(t.keyid===e.keyid?(t.time=e.time||t.time,t.episode=e.episode||t.episode,t.hd=e.hd||t.hd,t.date=e.date,t.serverDate=e.serverDate):b.extend(t,e)),i=!0,!0}),i||n.push(e)}),t=t.concat(n),t.sort(k.by("date")),t.splice(R,t.length-R),b.forEach(t,function(t){e.push(t.toString())}),E.set(o,e.join(P))}function m(t,e){function n(n,i){if(n)e(n);else{var a,r=x(i);a=t.cid||t.vid?r[0]||{}:_(r||[]),e(null,a),E.support&&setTimeout(function(){g(x(i,!0)),l&&(s[o]=+new Date,E.setJSON(N,s))})}}var i=r(t.cid,t.vid),o=a();if(o===V)return void e("用户没有登陆");var s=y(),c={},l=!0;if(i.length>2&&(l=!1),"array"==b.type(t)&&(l=!1,i=t.join(P)),t.cur&&(c.cur=t.cur,l=!1),t.pn&&(c.pn=t.pn,l=!1),l&&!function(){if(!E.support)return!1;var t=parseInt(s[o])||0;return+new Date-t>L&&(delete s[o],E.setJSON(N,s),!0)}())return void e(null,d());!function(){O.getHistory(i,n,c)}()}function y(){if(!E.support)return{};var t=E.get(N);return t=t||"{}",t=JSON.parse(t)}function _(t){for(var e={},n=0,i=t.length;n<i;n++)e[t[n].keyid]=t[n];return e}function x(t,e){var n=[];return e?b.forEach(t,function(t){n.push(new C(t))}):b.forEach(t,function(t){t.dur=t.tl,t.date=1e3*t.date,t.serverDate=t.date+1e3,n.push(new C(t))}),n}function w(t,e){return e=e||11,new RegExp("^[a-zA-Z0-9]{"+e+"}$").test(t)}var b=n(4),T=n(22),C=n(52),I=n(53),O=n(57),k=n(58),E=n(59),V="ten_video_history",N="ten_video_history_uin",P="|",S=",",D="_",R=100,M=12e4,$=M,L=36e5,F=!1,q={get:function(t,e){if("function"==typeof t&&(e=t,t={}),"array"===b.type(t)&&t.length>10)throw new Error("一次最多传入10个");m(t,e)},getSync:function(t){return E.support?(t=t||{},d(t.cid,t.vid)):{}},set:function(t,e){return!!E.support&&("object"===b.type(t)&&(t.time=parseInt(t.time),!(!t.vid||isNaN(t.time))&&(!(!w(t.vid,11)&&!w(t.cid,15))&&(t.hd=t.hd&&parseInt(t.hd)||0,t.typeid=t.typeid&&t.typeid.toString()||"",t.title=t.title||"",t.title=t.title.replace(/,/g,"，"),t.title=t.title.replace(/\|/g," "),p(t,e)))))},setByBeacon:function(t){if("object"!==b.type(t))return!1;if(t.time=parseInt(t.time),!t.vid||isNaN(t.time))return!1;if(!w(t.vid,11)&&!w(t.cid,15))return!1;t.hd=t.hd&&parseInt(t.hd)||0,t.typeid=t.typeid&&t.typeid.toString()||"",t.title=t.title||"",t.title=t.title.replace(/,/g,"，"),t.title=t.title.replace(/\|/g," "),l(t);var e=new C(t);return I.beaconReport({keyid:e.keyid,time:e.time,date:parseInt(e.date/1e3),hd:e.hd,typeid:e.typeid})}};E.safariPrivateMode||q.get(i),t.exports=q},function(t,e){function n(t){(t.title||t.vtit)&&(t.title=(t.title||"")+" "+(t.vtit||"")),this.title=t.title||t[1]||"",this.title=this.title.replace(/,/g,"，").replace(/\|/g," "),this.time=t.time||t[3]||0,this.dur=t.dur||t.tl||t[4]||0,this.episode=t.episode||t[7]||0,this.ispay=t.ispay||t[5]||"",this.keyid=t[0]||t.keyid||(t.cid||"")+"_"+(t.vid||""),this.typeid=t.typeid||t.ctypeid||t[6]||"",this.date=t.date||t[2]||(new Date).getTime(),this.serverDate=t.serverDate||t[8]||0,this.hd=t.hd||t[9]||0,this.platform=t.platform||t[10]||0}n.prototype.toString=function(){var t=this.title||"";return t=t.replace(/,/g,"，"),t=t.replace(/\|/g," "),[this.keyid,t,this.date,this.time,this.dur,this.ispay,this.typeid,this.episode,this.serverDate,this.hd,this.platform].join(",")},t.exports=n},function(t,e,n){function i(t){t=s.extend(t,{plat:2,pver:3,rf:"v",t:r.rParamT.ONEREPORT});var e=d;return s.objEach(t,function(t,n){e+="&"+t+"="+n}),"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(e,"")}function o(t,e){t=s.extend(t,{plat:2,pver:3,rf:"v",t:r.rParamT.ONEREPORT}),c(d,t,function(t,n){t?e("上报失败"):e(null,n)})}function a(t,e){t=s.extend({pn:1,list:"",rf:"v"},t,{t:r.rParamT.BATCHREPORT,cur:1,simp:1,plat:2,pver:3}),c(d,t,function(t,n){t?e("上报失败"):e(null,n)})}var r=n(54),s=n(4),c=n(55),d=r.api.myviewreport;t.exports={reportOne:o,batchReport:a,beaconReport:i}},function(t,e){t.exports={api:{specifyview:"//node.video.qq.com/x/api/specify_history",myviewreport:"//like.video.qq.com/fcgi-bin/myviewreport?otype=json",batchview:"//node.video.qq.com/x/api/batch_history"},rParamT:{ONEREPORT:3,BATCHREPORT:4}}},function(t,e,n){"use strict";function i(){}function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function a(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function r(t,e,n){var r=arguments;return s(function(s,v){var g;if("object"==typeof e&&(g=e,e=n,n=r[3]),g=g||{},n=n||{},"function"!=typeof(e=e||i))throw Error("illegal jsonp callback function:",e);var m=document.getElementsByTagName("head")?document.getElementsByTagName("head")[0]:document.body,y=document.createElement("script");y.charset="UTF-8";var _=[n.ns||l,p++,o()].join("_"),x=!0,w="_t",b=n.time;n.callbackid&&(_=n.callbackid),!1===b?x=!1:b&&(w=b),g[n.pn||n.callbackName||u]=_,x&&(g[w]=+new Date);var T=function(t){a(y),e(null,t),s&&s(t)},C=function(t){a(y),e(t||"error"),window[_]=T=C=i,v&&v(t||error)},I=window[_];window[_]=function(t){window[_]=i;try{I&&I(t)}finally{T(t),T=C=i}},y.onerror=y.onabort=function(t){C(t?t.type:"error")},c.forEach(h,function(e){"function"==c.type(e)&&(t=e(t,g)||t)}),y.src=d.queryJoin(t,g),m.appendChild(y),setTimeout(function(){C("timeout")},n.timeout||f)})}function s(t){if(window.Promise)return new Promise(t);t(i,i)}var c=n(4),d=n(56),l="_jsonp",u="callback",p=0,f=2e4,h=[];r.timeout=function(t){f=t},r.ns=function(t){l=t},r.pn=function(t){u=t},r.before=function(t){h.push(t)},t.exports=r},function(t,e,n){"use strict";var i=n(4),o={queryParse:function(t,e){if(!t)return{};e=e||"&";var n=t.replace(/^\?/,""),o={},a=n?n.split(e):null;return a&&a.length>0&&i.forEach(a,function(t){t=t.split("=");var e=t.splice(0,1),n=t.join("=");o[e]=decodeURIComponent(n)}),o},queryJoin:function(t){var e=[].slice.call(arguments);e[0]={};var n=o.queryStringify(i.extend.apply(i,e));if(!n)return t;var a;return a=/[\?&]$/.test(t)?"":~t.indexOf("?")?"&":"?",t+a+n},queryStringify:function(t,e){return t?i.map(i.keys(t),function(e){return e+"="+encodeURIComponent(t[e])}).join(e||"&"):""}};t.exports=o},function(t,e,n){function i(t,e,n){var i,d,l=a.getNewToken();t.length>2?(i={list:t},d=o.api.specifyview):(i={pn:0,cur:0},d=o.api.batchview,n.pn&&n.pn>c&&(n.pn=c),i=s.extend(i,n)),i=s.extend(i,l),r(d,i,function(n,i){n?e(n):i&&i.result&&i.result.code<0?e("请求失败"):(i=i&&i.list||[],i.length>0?e(null,i):e("不存在"+t+"的历史记录"))})}var o=n(54),a=n(58),r=n(55),s=n(4),c=10;t.exports={getHistory:i}},function(t,e,n){var i=n(22),o={by:function(t){return function(e,n){return(parseInt(e[t])||0)<(parseInt(n[t])||0)?1:-1}},getNewToken:function(){var t={},e=i.get("main_login");if("qq"===e){var n=i.get("vqq_vusession"),a=(i.get("skey")||i.get("lskey")||"").replace(/^[\n\s]+|[\n\s]+$/g,"");n&&n.length>0?t={g_vstk:o.time33(n)}:a&&(t={g_tk:o.time33(a)})}else if("wx"===e){var n=i.get("vusession"),r=o.time33(n);t={g_wxtk:r}}return t},getToken:function(){var t=(i.get("skey")||i.get("lskey")||"").replace(/^[\n\s]+|[\n\s]+$/g,"");return t?o.time33(t):""},time33:function(t){for(var e=0,n=t.length,i=5381;e<n;++e)i+=(i<<5)+t.charAt(e).charCodeAt();return 2147483647&i}};t.exports=o},function(t,e){var n={get:function(t){return n.support?localStorage.getItem(t):null},set:function(t,e){if(n.support)try{localStorage.setItem(t,e)}catch(i){}},setJSON:function(t,e){if(n.support)try{e=JSON.stringify(e),n.set(t,e)}catch(i){}},remove:function(t){if(n.support)try{localStorage.removeItem(t)}catch(e){}},support:function(){return"undefined"!=typeof window.localStorage&&!!localStorage.getItem&&"undefined"!=typeof JSON}(),safariPrivateMode:!1};try{n.support&&(localStorage.setItem("supportLocalStorageSetItem",1),localStorage.removeItem("supportLocalStorageSetItem"))}catch(i){n.safariPrivateMode=!0}t.exports=n},function(t,e){t.exports={formatPlayTime:function(t){if("string"==typeof t&&(t=parseInt(t)),"number"==typeof t){t=parseInt(t);var e,n,i,o=function(t){return t<10?"0"+t:t};return e=parseInt(t/3600),n=parseInt((t-3600*e)/60),i=parseInt(t-3600*e-60*n),0===e?[o(n),o(i)].join(":"):[e,o(n),o(i)].join(":")}},formatEpisode:function(t){return t=t||"",/^\d*$/.test(t)?t=parseInt(t):(t=t.replace(/[^0-9]/,""),t=t.length>0?parseInt(t):""),t}}},function(t,e,n){"use strict";function i(t){setTimeout(t,0)}function o(){}var a=n(62),r=n(9),s=n(4),c={};window.ListInfo=t.exports={get:function(t,e,n){n||"function"!=typeof e||(n=e),e=e||{},n=n||o;var d=e.sync||!1;if(t instanceof Array){if(d)return t.map(function(t){return a.data[t]});var p=[];t.forEach(function(t){var e=r.Deferred();a.data[t]?e.resolve(a.data[t]):c[t]?e=c[t]:(l(t,function(n,i){n?(c[t]=undefined,e.reject(n)):u(t,function(n,o){c[t]=undefined,n?e.resolve(i):e.resolve(r.extend(i,o))})}),c[t]=e),p.push(e)}),r.when.apply(r,p).done(function(){var t=Array.prototype.slice.call(arguments,0);t.forEach(function(e,n){a.data[e.vid]=t[n]=a.data[e.vid]||e}),n(null,t)}).fail(function(t){n(t)})}else{var f=e.offset;if(f){var h=s.indexOf(a.vid,t);if(!(t=a.vid[h+f])){if(d)throw new Error("没有合适的视频了");return n(new Error("没有合适的视频了"))}}if(d)return a.data[t]||null;a.data[t]?i(function(){n(null,a.data[t])}):l(t,function(e,i){u(t,function(t,o){o&&i&&(a.data[i.vid]=a.data[i.vid]||r.extend(i,o)),n(e||t,i&&o&&a.data[i.vid])})})}},vidlist:function(t,e){return t=t||0,e=e?Math.min(e,a.vid.length):a.vid.length,a.vid.slice(t,e)},max:a.vid.length};var d=n(63),l=d(682),u=d(1566)},function(t,e){t.exports=LIST_INFO},function(t,e,n){"use strict";var i=n(9),o=n(1);t.exports=function(t){function e(){var t=c.slice(0);c=[];var e=t.map(function(t){return t.id});return i.ajax({url:"//union.video.qq.com/fcgi-bin/data?otype=json&"+s+"&idlist="+e.join(","),dataType:"jsonp"}).done(function(n){if(0==!n.errorno)return void e.forEach(function(e,i){t[i].callback(new Error(n.errormsg))});n.results.forEach(function(e,n){0===e.retcode&&e.fields?(e.fields.id=e.id,t[n].callback(null,e.fields)):t[n].callback(new Error("err result, retcode: "+e.retcode))})}).fail(function(e){t.forEach(function(t){t.callback(e)})})}function n(t,n){c.push({id:t,callback:n||noop}),30==c.length?(clearTimeout(r),r=null,e()):r||(r=setTimeout(function(){e(),r=null},50))}function a(t){return new o(function(e,i){n(t,function(t,n){t?i(t):e(n)})})}if(!t)throw new Error("需要vunion的tid");var r,s=["tid="+t,"appid=20001238","appkey=6c03bbe9658448a4","union_platform=1"].join("&"),c=[];return function(t,e){t instanceof Array?o.all(t.map(function(t){return a(t)})).then(function(t){e&&e(null,t)})["catch"](function(t){e&&e(t)}):n(t,e)}}},function(t,e){"use strict";var n=window.PageMessage;t.exports={defaultParam:function(){},beforeCreate:function(){},afterCreate:function(t){t.on("playStateChange",function(t){switch(t.state){case 0:n.emit("tvp-playend",t);break;case 1:n.emit("tvp-playing",t);break;case 2:n.emit("tvp-paused",t)}}).on("ready",function(){n.emit("tvp-ready",t)}).on("timeupdate",function(){n.emit("tvp-timeupdate",t.getCurrentTime())}).on("adStart",function(){n.emit("tvp-adStart")}).on("adEnd",function(){n.emit("tvp-adEnd")}).on("browserFullscreenChange",function(t){n.emit("tvp-browfullscreen",t),t||-1==window.location.search.indexOf("clientType=car")||window.PLAYER.enterBrowserFullscreen()}).on("windowFullscreenChange",function(t){n.emit("tvp-winfullscreen",t)}).on("toggleHotBarrage",function(t){n.emit("tvp-toggleHotBarrage",t)}).on("showUIVipGuide",function(t){n.emit("tvp-showUIVipGuide",t)}).on("switchBullet",function(t){n.emit("tvp-switchBullet",t)}).on("brandApiReady",function(t){n.emit("tvp-brandApiReady",t)}).on("bulletReady",function(t){n.emit("tvp-bulletReady",t)}).on("resume",function(){n.emit("tvp-resume")}).on("volumeChange",function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("tvp-volumeChange"),n.emit.apply(n,t)}).on("vidChange",function(t){n.emit("tvp-vidChange",t)}).on("error",function(t){n.emit("tvp-error",t)}).on("languageSet",function(e){n.emit("languageSet",e,t.getCurrentTime())}).on("101componentReady",function(t){n.emit("tvp-starListReady",t)}).on("101componentRefresh",function(t){n.emit("tvp-starListRefresh",t)}).on("playerNameChange",function(t){n.emit("tvp-playerNameChange",t)})}}},function(t,e,n){"use strict";var i=(n(4),n(66),n(67)),o=(i.getNext,window.PageMessage);n(61),n(11)("PLAYER-MIXIN-PLAYNEXT");t.exports={defaultParam:function(t){t.getNextVid=function(){return i.getNextData.apply(this,arguments)}},beforeCreate:function(){},afterCreate:function(t,e){a=t,t.on("beforePlayNext",function(t){var e=t.vid;if(e&&11!=e.length&&/\.html/i.test(e))return void(location.href=e);window.PageMessage.emit("playNext",e)}),i.setCurrentVid(e.vid)},beforePlay:function(t,e){t.nextVid="wait"}};var a=null;o.on("tvp-setNextVid",function(t){a&&a.isApiExist("setNextVid")&&a.isApiExist("getVid")?t.curVid==a.getVid()&&a.setNextVid(t):setTimeout(function(e){o.emit("tvp-setNextVid",t)},1500)}),o.on("playNext",function(t){t&&11==t.length&&playJSBridge.changeVid(t,{},!0)}),o.on("vidChanged",function(t){i.setCurrentVid(t.vid)})},function(t,e){t.exports=COVER_INFO},function(t,e,n){"use strict";function i(t,e){if(c)return e(null,c);window.PageMessage&&window.PageMessage.emit("loadRecommends",t,function(t,n){if(t){if(t&&t.length>0){var i=t[0].split("|");i[0]==COVER_INFO.cover_id&&(i=t[1].split("|")),c={title:i[1],previewPoster:i[3]||i[2],preview:i[2],pageUrl:o(i[0]),nextVid:!0,vid:o(i[0])}}else t&&(c=t);e(null,c)}})}function o(t,e){var n="";return"string"==typeof t?15==t.length?(n="/x/cover/"+t,"string"==typeof e&&e&&(n+="/"+e),n+=".html"):n="/x/page/"+t+".html":"string"==typeof e&&(n+="/x/page/"+e+".html"),n}var a=n(61),r=n(4),s=n(3),c=null,d={};t.exports={getNextData:function(t){return d},setCurrentVid:function(t){txv.login.addReadyCallback(function(){txv.vip.getVipInfo().always(function(){setTimeout(function(){a.get(t,{offset:1},function(e,n){if(e){var a=COVER_INFO&&COVER_INFO.cover_id,c=r.indexOf(LIST_INFO.vid,t),l=LIST_INFO.vid[c+1];l?(d={nextVid:"wait",canPreload:!0,pageUrl:o(a,l),vid:o(a,l),title:"下一个视频"},window.PageMessage.emit("tvp-setNextVid",{nextVid:!0,curVid:t})):i(t,function(e,n){d=n||null,window.PageMessage.emit("tvp-setNextVid",{nextVid:!!n,curVid:t})})}else d=r.extend(s(n),{nextVid:"wait",canPreload:!0}),window.PageMessage.emit("tvp-setNextVid",{nextVid:!0,curVid:t})})},16)})})}}},function(t,e,n){"use strict";var i=n(17);t.exports={defaultParam:function(t){t.playerInitTime=window.player_time_speed?window.player_time_speed.playerjs:0,t.pageInitTime=window.player_time_speed?window.player_time_speed.start:0},beforeCreate:function(t){},afterCreate:function(t,e){var n;t.on("ready",function(){window.player_time_speed&&(window.player_time_speed.playerInit=(new Date).getTime())}).on("playStateChange",function(t){1==t.state&&(window.player_time_speed&&!window.player_time_speed.firstPic&&(window.player_time_speed.firstPic=(new Date).getTime()),!n&&(n=!0)&&i.vv(e.tpid)),-1==t.state&&(n=!1)}).on("adStart",function(){window.player_time_speed&&!window.player_time_speed.firstPic&&(window.player_time_speed.firstPic=(new Date).getTime())})}}},function(t,e,n){"use strict";function i(){return o.login.isLogin()?a.vip<0?a.vip:a.vip>0?2:1==a.adpass?6:null!==a.qqvip?a.qqvip?a.qqvip+3:1:90:0}var o=n(46);t.exports={defaultParam:function(t){t.getUserType=i},beforeCreate:function(t){},afterCreate:function(t){}};var a={vip:-1,adpass:0};o.login.addReadyCallback(function(){o.vip.getVipInfo().done(function(t){a=t})}),o.login.addLoginCallback(function(){o.vip.getVipInfo().done(function(t){a=t})}),o.login.addLogoutCallback(function(){a={vip:-1}})},function(t,e,n){"use strict";var i=n(71);t.exports={defaultParam:function(t){t.showOpenVIPGuide=function(){window.PageMessage.emit("tvp-skipad")}},beforeCreate:function(){COVER_INFO.id&&i.getPayTips(function(t){txv.vip.newpayTips=t})},afterCreate:function(t){}}},function(t,e,n){function i(t){return{skipad:1,paytips:2,"1080P":8,sidebar:9,openvip:10,layer:10,trialFinish:10}[t]}var o=n(72),a=n(23),r=n(22),s={userTicket:null,eventText:null,eventTextConfig:null,isVip:null,vipInfo:null,bindAccount:null,openText:null,openTips:null,openConfig:null,newPayStatus:null,newPayTips:null,newPayAdvancedStatus:[]},c=function(){s={userTicket:null,eventText:null,eventTextConfig:null,isVip:null,vipInfo:null,bindAccount:null,openText:null,openTips:null,openTipsConfig:null,openConfig:null,newPayStatus:null,newPayTips:null,newPayAdvancedStatus:[]}},d=function(){s={userTicket:null,eventText:null,eventTextConfig:null,openText:null,openTips:null,openTipsConfig:null,openConfig:null,newPayStatus:null,newPayTips:null,newPayAdvancedStatus:[]}},l=function(t){var e=t.split(" "),n=e[0].split("-"),i=e[1].split(":"),o=new Date(n[0],n[1]-1,n[2],i[0],i[1],i[2]);return Math.ceil((o.getTime()-new Date)/864e5)},u=function(t){var t=t+"";return 1===t.length&&(t="0"+t),t},p=function(t){var e=new Date,n=e.getTime()+864e5*parseInt(t,10);return e.setTime(n),e.getFullYear()+"-"+u(e.getMonth()+1)+"-"+u(e.getDate())+" "+u(e.getHours())+":"+u(e.getMinutes())+":"+u(e.getSeconds())},f=function(t){return new Date(t.replace(/-/g,"/")).getTime()>(new Date).getTime()},h=function(t,e,n,i){if(t){var o,a=window==top,r=a?document:top.document,s=r.body.scrollTop,c=r.documentElement.clientHeight,d=$(t);e=e||d.width()||373,n=n||d.height()||235,i=!1===i,0==s&&(s=r.documentElement.scrollTop),0==c&&(c=r.body.clientHeight),o=parseInt(d.css("zIndex")),d.css({width:e+"px",height:n+"px",top:"50%",left:"50%",marginLeft:-e/2+"px",marginTop:-n/2+"px",position:"fixed",zIndex:o||"10001",display:"block"})}},v=function(t){if(null!==s.userTicket)return void t(s.userTicket);$.ajax({url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_AggTicket_R&cmd=2",dataType:"jsonp",CSRF:!0,success:function(e){0===e.ret&&e.ticket_num?(s.userTicket=e.ticket_num.com_ticke_total_num,t(e.ticket_num.com_ticke_total_num)):t(0)},error:function(){t(0)}})},g=function(t){return v(t)},m=function(t){$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/pay?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3&otype=json",dataType:"jsonp",CSRF:!0,data:{id:COVER_INFO.cover_id,uin:txv.login.getUin()},success:function(e){if(0==e.result.code&&(1==e.pay||e.privilegePayState))return void t(!0,e);t(!1)},error:function(){t(!1)}})},y=function(t){if(null!==s.eventText)return void t(s.eventText);$.ajax({url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_VipActConf_V2&cmd=2&posId=24&platform=1",dataType:"jsonp",success:function(e){if(e&&e.posList&&e.posList[0]&&0==e.posList[0].code&&e.posList[0].confData&&e.posList[0].confData[0]){var n=e.posList[0].confData[0];if(n.begTime&&!w(n.begTime))return t(""),void(s.eventText="");if(n.endTime&&w(n.endTime))return t(""),void(s.eventText="");t(n.iconTxt),s.eventText=n.iconTxt,s.eventTextConfig=n}else t(""),s.eventText=""},error:function(){t("")}})},_=function(t){return t/100+""},x=function(t){if(!t)return!1;if("string"!=typeof t)return!1;var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/);if(e&&e[5]){var n=parseInt(e[2],10),i=parseInt(e[3],10),o=new Date,a=o.getMonth()+1,r=o.getDate();return n==a&&i==r?e[4]+":"+e[5]:n+"月"+i+"日"}return!1},w=function(t){var e=t.match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/),n=new Date;return n.setFullYear(e[1]),n.setMonth(e[2]-1),n.setDate(e[3]),n.setHours(e[4]),n.setMinutes(e[5]),n.setSeconds(e[6]),(new Date).getTime()>n.getTime()},b=function(t,e){if(e){if((e=parseInt(e,10))<60)return e+"秒";if(e<3600){return Math.floor(e/60)+"分钟"}var n=Math.floor(e/3600),i=e-3600*n,o="";return i>0&&(o=Math.floor(i/60)+"分钟"),n+"小时"+o}var a={1306029:"0分钟",1306030:"5分钟",1306031:"10分钟",1324045:"1分钟",1324046:"2分钟",1324047:"3分钟",1324048:"4分钟"};return a[t]?a[t]:"未知时间"},T=function(t){if(null!==s.isVip)return void t(s.isVip,s.vipInfo);txv.vip.getVipInfo().done(function(e){e.vip?(t(!0,e),s.isVip=!0):(t(!1,e),s.isVip=!1),s.vipInfo=e}).fail(function(){t(!1,{})})},C=function(t){$.ajax({url:"//access.video.qq.com/trans/pay.video.qq.com/fcgi-bin/pay?vappid=68106135&vsecret=e667570eb833960cc41051d498df1c233308eb195dba2cc3",dataType:"jsonp",CSRF:!0,data:{id:COVER_INFO.cover_id,uin:txv.login.getUin(),otype:"json",isneedmovie:1},success:function(e){e.valid_days?t(e.valid_days):txv.tips.Msg({title:"影片数据读取错误，请刷新重试",buttons:["刷新"]}).done(function(){window.location.reload()})},error:function(){txv.tips.Msg({title:"影片数据读取错误，请刷新重试",buttons:["刷新"]}).done(function(){window.location.reload()})}})},I=function(t,e,n){var i=$.extend({key4:9,key11:2,_scene:2,_cid:COVER_INFO.id,_vid:VIDEO_INFO.vid},e),a=$.pay(i,"aid"),r=$.extend({id:t,pay_type:0,use_ws:!0,aid:a,cid:COVER_INFO.id,vid:VIDEO_INFO.vid,scan_suc:function(){o.click("vip_layer:scanSucc")},pay_suc:function(){window.location.reload()}},n);"qq"===txv.login.getLoginType()&&U()&&(r.appid=txv.cookie.get("vqq_appid"),r.openid=txv.cookie.get("vqq_openid")),$.pay_qrimg(r)},O=function(t){"undefined"==typeof $.pay?$.getScript("//vm.gtimg.cn/tencentvideo_v1/script/vip.minipay.js",function(){t()}):t()},k=function(){txv.login.addCloseLoginCallback(function(){0!==$(".mask_layer").length&&1!==$(".mask_layer:hidden").length||1!==$(".tvip_layer").length||txv.login.showMask()})},E=function(){return COVER_INFO.type==V.TV?(VIP_INFO.episodeVip=parseInt(VIP_INFO.episodeVip,10),VIP_INFO.episodeCurrent=parseInt(VIP_INFO.episodeCurrent,10),VIP_INFO.episode_all=parseInt(VIP_INFO.episode_all,10),VIP_INFO.episodeVip==VIP_INFO.episodeCurrent&&VIP_INFO.episodeCurrent<COVER_INFO.episode_all?"开通VIP会员免费看":VIP_INFO.episodeCurrent<COVER_INFO.episode_all?"开通VIP会员抢先看":"开通VIP会员看全集"):"开通VIP会员免费看"},V={MOVIE:1,DOCO:9,MUSIC:22,EDU:27,TV:2,CARTOON:3,FUNNY:43},N=function(t){return!!VIDEO_INFO.trytime&&("0"!=VIDEO_INFO.trytime&&("1306029"!=VIDEO_INFO.trytime&&!!t))},P=function(t){for(var e=(txv.login.isLogin(),txv.login.getUin()),n=txv.login.getLoginType()||"qq",i=[{adArray:t.ss_adv,qq:1,wx:108},{adArray:t.s_adv,qq:1,wx:108},{adArray:t.a_adv,qq:1,wx:108}],o=0;o<i.length;o++){var a=i[o];if(a.adArray)for(var r=0;r<a.adArray.length;r++)if(a[n]==a.adArray[r].platform&&S(a.adArray[r].white_list,e)&&a.adArray[r].open_text)return a.adArray[r].open_text}return""},S=function(t,e){return!t||!(!txv.login.isLogin()||!txv.login.isQQLogin())&&t.indexOf(""+e)>-1},D=function(t){$.ajax({url:"//mobile.video.qq.com/fcgi-bin/dout_iphone?otype=json&auto_id=1362&platform=7&version=0",dataType:"jsonp",success:function(e){if(0==e.returncode){var n=P(e);t(n)}else t(!1)},error:function(){t(!1)}})},R=function(t){if(null!==s.openTips)return void t(s.openTips);y(function(e){e?(t(e),s.openTips=e):D(function(e){t(e),s.openTips=e})})},M=function(t){$.ajax({dataType:"jsonp",url:"//pay.video.qq.com/fcgi-bin/check_login?otype=json",data:{type:1,uin:txv.login.getUin(),skey:txv.login.getSkey()},success:function(e){var n=e.result.code;t(0==n)},error:function(e){t(!1)}})},L=function(t){if(null!==s.openConfig)return void t(s.openConfig);$.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_VipActConf_V2&cmd=2&posId=1&platform=1&cid="+COVER_INFO.id+"&version=6.0.0",success:function(e){if(e&&e.posList&&"undefined"!=typeof e.posList[0]){for(var n=0;n<e.posList.length;n++)0==e.posList[n].code&&(s.openConfig=e.posList[n].confData[0],t(e.posList[n].confData[0]));t(!1)}else t(!1)},error:function(e){t(!1)}})},F=null,q=function(t){F||(F={},F.f_module="web播放页",F.f_type=4,F.f_pt=1e3,F.f_url=window.location.pathname,F.f_dm=window.location.hostname,F.f_cid=COVER_INFO.id,txv.login.isLogin()&&(F.f_logintype=r.get("main_login"),F.f_vuserid=r.get("vuserid")));var e="//btrace.qq.com/kvcollect?BossId=5814&Pwd=1682996435";T(function(n,i){F.f_vip=n?1:0,F.f_level=n?i.level:0;var o=$.extend(F,t);for(var r in o)o[r]&&(e+="&"+r+"="+encodeURIComponent(o[r]));a(e)})},j=function(t){var e={};"text"===t.type?s.openConfig&&(s.openConfig.ptag&&(e.f_ptag=s.openConfig.ptag),s.openConfig.magicId&&(e.f_cubeid=s.openConfig.magicId),s.openConfig.configId&&(e.f_item=s.openConfig.configId)):"tips"===t.type&&s.eventTextConfig&&(s.eventTextConfig.ptag&&(e.f_ptag=s.eventTextConfig.ptag),s.eventTextConfig.magicId&&(e.f_cubeid=s.eventTextConfig.magicId),s.eventTextConfig.configId&&(e.f_item=s.eventTextConfig.configId)),delete t.type,q($.extend(e,t))},A=function(t){return!(!t.c_single_price||!t.c_vip_price)&&t.c_single_price>t.c_vip_price},U=function(){return document.cookie.indexOf("vqq_appid")>-1},B=function(){$.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=bindcard&cmd=44804&cid="+COVER_INFO.id+"&vid="+VIDEO_INFO.vid,success:function(t){},error:function(t){}})},J=function(){return!(!COVER_INFO.is_commodity_shelves_name||!COVER_INFO.is_commodity_shelves_name[0]||"是"!=COVER_INFO.is_commodity_shelves_name[0])},H=function(){return!(!COVER_INFO.pay_for_knowledge_name||!COVER_INFO.pay_for_knowledge_name[0]||"是"!=COVER_INFO.pay_for_knowledge_name[0])},Q=function(){return(9==COVER_INFO.pay_status||10==COVER_INFO.pay_status||11==COVER_INFO.pay_status||12==COVER_INFO.pay_status)&&(!VIDEO_INFO.pay_status||(9==VIDEO_INFO.pay_status||10==VIDEO_INFO.pay_status||11==VIDEO_INFO.pay_status||12==VIDEO_INFO.pay_status))},W=function(t,e){return $.ajax({dataType:"jsonp",type:"json",url:"//union.video.qq.com/fcgi-bin/data?appid=10001002&appkey=0f2ea8eeb956f5bc&otype=json&tid=1417&idlist="+t,success:function(t){e(t&&0==t.errorno&&t.results&&t.results[0]?t.results[0].fields.pay_status:!1)},error:function(t){e(!1)}}),9},z=function(t){if(null!==s.newPayStatus)return void t(s.newPayStatus);T(function(e,n){$.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_pre_authentication&cmd=24792",data:{platform:2,cid:COVER_INFO.id,vid:VIDEO_INFO.vid,type:0,isVip:e,vipLevel:n.level},success:function(e){0===e.ret?(s.newPayStatus=e,t(e)):t(!1)},error:function(e){t(!1)}})})},Y=function(t,e){if(t)return s.newPayAdvancedStatus[t]?void e(s.newPayAdvancedStatus[t]):void $.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_pre_authentication&cmd=24965",data:{actionType:t},success:function(n){0===n.ret?(s.newPayAdvancedStatus[t]=n,e(n)):e(!1)},error:function(t){e(!1)}})},K=function(t){return COVER_INFO.id?null!==s.newPayTips?void t(s.newPayTips):void $.ajax({dataType:"jsonp",url:"//vip.video.qq.com/fcgi-bin/comm_cgi?name=spp_pc_pay_tips&cmd=24793",data:{platform:2,cid:COVER_INFO.id,vid:VIDEO_INFO.vid},success:function(e){0===e.ret?(s.newPayTips=e,t(e)):t(!1)},error:function(e){t(!1)}}):void t(null)},G=function(t,e,n){U()?txv.login.isLogin()?t():($("#ff_poptip").remove(),X(t,e,n)):!txv.login.isLogin()||"qq"==txv.login.getLoginType()&&txv.login.isLowLogin()?($("#ff_poptip").remove(),X(t,e,n)):"qq"==txv.login.getLoginType()?M(function(i){i?t():($("#ff_poptip").remove(),X(t,e,n))}):t()},X=function(t,e,n){var i=function(){console.log("登录回调",e,n),T(function(i){console.log(i,e,n),i?"minipay"!==n&&(txv.cookie.set("vip_newpay_action",n+"|"+e),console.log(txv.cookie.get("vip_newpay_action"))):t()}),txv.login.removeLoginCallback(i)};txv.login.addLoginCallback(i),txv.login.openLogin()},Z=function(t){var e=document.createElement("div");e.innerHTML=t;var n=e.innerText||e.textContent;return e=null,n};t.exports={clearCache:c,checkPaid:m,getUserTicket:g,getEventText:y,getExpireDays:l,getFormatPrice:_,getTrailerDate:x,isBeforDate:w,getTryTime:b,getVipInfo:T,showFixedWindow:h,getVideoDays:C,getExpDate:p,setQrImage:I,loadMinipayJS:O,checkLoginMask:k,getOpenVIPText:E,isLateDate:f,VideoTypes:V,hasTryTime:N,getOpenVIPAD:D,getOpenTips:R,checkQQStrongLogin:M,getButtonConfig:L,bossReport:q,openReport:j,vipHasDiscount:A,isNewQQLogin:U,isVideoOffline:J,lv8PlayReport:B,isPayKnowledge:H,isUnsupportedCover:Q,getVideoPayStatus:W,getNewPayStatus:z,getPayTips:K,checkLoginBeforePay:G,getNewPayAdvancedStatus:Y,getAidKey4:i,clearNewpayCache:d,htmlDecode:Z}},function(t,e,n){"use strict";function i(){return p||window.jQuery||window.$}function o(t,e){return f.hot([m,"event",t,e].join(".")),this}function a(t,e,n){return f.hot([m,"click",t,e,n].join(".")),this}function r(t){
return f.hot([m,"pageview",t].join(".")),this}function s(t,e){return f.hot([m,"stat",t,e].join(".")),this}function c(t){return"array"!==h.type(t)?"":h.map(t,function(t){return h.map(t,function(t){return encodeURIComponent(t)}).join(",")}).join("|")}function d(t){return"string"!=typeof t?[]:h.map(t.split("|"),function(t){return h.map(t.split(","),function(t){return decodeURIComponent(t)})})}function l(t,e){switch(t){case"click":a.apply(this,e);break;case"pageview":r.apply(this,e);break;case"event":o.apply(this,e);break;case"stat":s.apply(this,e)}}function u(t){var e=Array.prototype.slice.call(arguments,1);if(v)try{var n=localStorage.getItem(y);try{n=d(n)}catch(i){}return"array"!==h.type(n)&&(n=[]),n.push([t].concat(e)),void localStorage.setItem(y,c(n))}catch(i){}l(t,e)}var p,f=n(18),h=n(4),v="localStorage"in window&&null!==window.localStorage,g="index",m="vplay",y=m+"_lazy_reports";t.exports={setPage:function(t){return g=t,this},setJQ:function(t){return p=t,this},bind2d:function(t,e,n){var o=i();return o(t).on("click","["+n+"]",function(t){for(var i,r=t.currentTarget,s=o(r).attr(n),c=10;c&&r&&!(i=o(r).attr(e));)c--,r=r.parentNode;i&&a(g,i,s)}),this},bind:function(t,e){var n=i();return n(t).on("click","["+e+"]",function(t){var i=t.currentTarget,o=n(i),r=o.attr(e);if("A"==i.tagName){var s=o.attr("href"),c=o.attr("target");if(!/^(javascript:|#)/.test(s)&&!c)return void u("click",g,r,"")}a(g,r,"")}),this},click:function(t){return a(g,t,"")},event:function(t){return o(g,t)},stat:function(t){return s(g,t)},flush:function(){if(localStorage)try{var t=localStorage.getItem(y);localStorage.removeItem(y),t&&(t=d(t),h.forEach(t,function(t){l(t[0],t.slice(1))}))}catch(e){}},pv:r}},function(t,e,n){function i(t){if(!(-1==[3,106].indexOf(COVER_INFO.type)||COVER_INFO.dialogue&&COVER_INFO.version_cid))return void(t&&t(!1));LIST_INFO.vid?s.get(LIST_INFO.vid,function(e,n){if(1==COVER_INFO.type&&n&&n.length>1){for(var i=[],a=0;a<n.length;a++){var r=n[a].vid,s=n[a];if(!s||1!=s.positive_trailer||!s.langue)break;for(var d=!1,l=0;l<i.length;l++)if(s.langue==i[l].title){d=!0;break}d||i.push({vid:r,title:s.langue,lang:a})}if(i.length>1){for(var a=0;a<n.length;a++){for(var r=n[a].vid,s=n[a],u=[],p=!1,l=0;l<i.length;l++){var f={vid:i[l].vid,title:i[l].title,lang:i[l].lang};r==f.vid&&(f.sel=1,p=!0),u.push(f)}p&&(n[a].langueList=u)}return void o(null,function(e){t&&t(!0,e)})}}else{if((2==COVER_INFO.type&&COVER_INFO.langue||-1!=[3,106].indexOf(COVER_INFO.type)&&COVER_INFO.dialogue)&&COVER_INFO.version_cid){var h=!1;return void $.ajax({url:"//node.video.qq.com/x/api/language?cid="+COVER_INFO.version_cid.replace(/\+/g,","),dataType:"jsonp"}).done(function(e){if(e&&e.length>0){for(var i=0;i<n.length;i++){var a=n[i].vid,r=n[i];n[i].langueList=[],n[i].langueList.push({vid:a,title:COVER_INFO.langue||COVER_INFO.dialogue,lang:0,sel:1});for(var s=0;s<e.length;s++)if(e[s]&&e[s].id&&e[s].jsonData){var c=e[s].jsonData;if(c&&(c.langue||c.dialogue)&&c.vidlist&&c.vidlist.length)for(var d=0;d<c.vidlist.length;d++){var l=c.vidlist[d];if((r.episode>0?r.episode==l.episode:i==s)&&r.category_map&&r.category_map.length>0&&l.category_map&&l.category_map.length>0&&r.category_map[0]==l.category_map[0]){n[i].langueList.push({vid:c.vidlist[d].vid,title:c.langue||c.dialogue,lang:s+1,cid:e[s].id}),h=!0;break}}}}o(null,function(e){t&&t(h,e)})}else t&&t(!1)})}if(9==COVER_INFO.type&&COVER_INFO.langue&&COVER_INFO.version_cid){var h=!1;$.ajax({url:"//node.video.qq.com/x/api/language?cid="+COVER_INFO.version_cid.replace(/\+/g,","),dataType:"jsonp"}).done(function(e){e&&e.length||t&&t(!1),c.forEach(e,function(t,e){var n=t.jsonData;n.vidlist=n.vidlist&&c.filter(n.vidlist,function(t){return t.category_map&&-1!=t.category_map.indexOf("正片")&&(!t.sync_cover||t.sync_cover==COVER_INFO.version_cid)})});for(var i=0,a=0,r=n.length;a<r;a++)if(-1!=n[a].category_map.indexOf("正片")&&n[a].langue==COVER_INFO.langue){var s=[];s.push({title:COVER_INFO.langue||COVER_INFO.dialogue,lang:0,sel:1}),c.forEach(e,function(t,e){var n=t.jsonData;n.vidlist[i]&&s.push({vid:n.vidlist[i++].vid,title:n.langue||n.dialogue,lang:e+1,cid:t.id})}),n[a].langueList=s}o(null,function(e){t&&t(!0,e)})})}else t&&t(!1)}}):t&&t(!1)}function o(t,e){t=t||VIDEO_INFO.vid,s.get(t,function(t,n){e(n&&n.langueList&&n.langueList.length>1?n.langueList:[])})}var a=window.PageMessage,r=n(74),s=n(61),c=n(4);t.exports={afterCreate:function(){VIDEO_INFO&&COVER_INFO&&LIST_INFO&&-1!=[1,2,3,9,106].indexOf(COVER_INFO.type)&&txv.login.addReadyCallback(function(){txv.vip.getVipInfo().always(function(){setTimeout(function(){i(function(t,e){t&&(a.on("setLanguage",function(t){a.wait("tvp-ready",function(e){e&&"function"==typeof e.setLanguage&&e.setLanguage(t)})}),e&&a.emit("setLanguage",e),a.on("vidChanged",function(t){o(t.vid,function(t){t&&a.emit("setLanguage",t)})}),a.on("languageSet",function(t,e){if(t)if(1==COVER_INFO.type&&t.vid)window.playJSBridge.changeVid(t.vid,{connectionPlayTime:e});else if(-1!=[2,3,9,106].indexOf(COVER_INFO.type)&&t.cid&&t.cid!=COVER_INFO.cover_id){var n=r.playUrl(t.cid,t.vid),i=location.href.split("?")[1]||"";i&&-1!=i.indexOf("player=frame")?-1!=i.indexOf("start=")?n+="?"+i.replace(/(start=)(\d+)/,"$1"+e):n+="?start="+e+"&"+i:n+="?start="+e,window.location.assign(n)}}))})},60)})})}}},function(t,e,n){var i=n(4);t.exports={formatNum:function(t){if(!t)return 0;t+="";var e=t.split(""),n=(e.shift(),"");return t<1e4?t:t>=1e4&&t<1e8?(t=parseInt(t/1e3)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"万"):t>=1e8?(t=parseInt(t/1e7)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"亿"):void 0},formatNum2:function(t){if(!t)return 0;t+="";var e=t.split(""),n=(e.shift(),"");return t<1e4?t:t>=1e4&&t<1e8?(t=Math.round(t/1e3)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"万"):t>=1e8?(t=Math.round(t/1e7)+"",e=t.split(""),n=e.pop(),e.join("")+"."+(n||"")+"亿"):void 0},splitNum:function(t){for(var e=t+"",n="",i=e.length,o=0;i--;)o&&o%3==0&&(n=","+n),o++,n=e[i]+n;return n},formatDate:function(t,e){if(!t)return"";if("string"==typeof t&&(t=new Date(t.replace(/-/g,"/"))),"Invalid Date"==t.toString())return"";e=e||"yyyy-MM-dd";var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},strCut:function(t,e,n){if(t=String(t),e-=0,n=n||"",isNaN(e))return t;for(var i=t.length,o=Math.min(Math.floor(e/2),i),a=t.slice(0,o).replace(/[^\x00-\xFF]/g,"**").length;o<i&&a<e;o++)a+=1+(t.charCodeAt(o)>255);return t.slice(0,a>e?o-1:o)+(o<i?n:"")},playUrl:function(t,e){var n="";return"string"==typeof t?15==t.length?(n="/x/cover/"+t,"string"==typeof e&&e&&(n+="/"+e),n+=".html"):n="/x/page/"+t+".html":"string"==typeof e&&(n+="/x/page/"+e+".html"),n},detailUrl:function(t){return t&&t.length>0?"//v.qq.com/detail/"+t.substr(0,1)+"/"+t+".html":"javascript:;"},searchUrl:function(t,e){if(t&&t.length>0){e=e||"vlist";return"//v.qq.com/search.html?pagetype=4&stag=txt.playpage."+e+"&ms_key="+t}return""},rankUrl:function(t){var e="?",n="";return t.typeid&&(n+=e+"type="+t.typeid,e="&"),t.starid&&(n+=e+"fromStar="+t.starid,e="&"),t.fantuan&&(n+=e+"fromFantuan="+t.fantuan),"//v.qq.com/doki/rank"+n},dokiStarUrl:function(t){if(!t.starid)return t.starname?"//v.qq.com/x/search/?stag=txt.playpage.vppstar&q="+encodeURIComponent(t.starname):"#";var e=t.scfBase||"undefined"!=typeof window&&window.GRAY_SCF_DOKI_STAR,n=(e?"//v.qq.com/s/biu/star?id=":"//v.qq.com/doki/star?id=")+t.starid;return t.tabid&&(n+="&tabid="+t.tabid),t.position&&(n+="#"+t.position),n},noteDetailUrl:function(t,e){return t&&e?"//v.qq.com/doki/doki_note/detail?starid="+t+"&noteid="+e:"//v.qq.com"},showTime:function(t,e){if(!t)return e?"00:00:00":"00:00";if("string"==typeof t&&-1!=t.indexOf(":"))return t;var n=function(t){return t=parseInt(t),t<10?"0"+t:""+t},i=[];return e?(i.push(n(t/3600)),i.push(n(t%3600/60))):i.push(n(t/60)),i.push(n(t%60)),i.join(":")},coverCornerText:function(t,e){function n(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}var i=/\/\/([\w\.]+\/)+(\w+\.\w+)$/,o="";if(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(a){}t.tag_3&&t.tag_3.id>0&&-1!=n(3,e)&&(o=t.tag_3.text),t.tag_4&&t.tag_4.id>0&&-1!=n(4,e)&&(o=t.tag_4.text),t.tag_1&&t.tag_1.id>0&&-1!=n(1,e)&&(o=t.tag_1.text),t.tag_2&&t.tag_2.id>0&&-1!=n(2,e)&&i.test(t.tag_2.param)&&(o=t.tag_2.text)}return o?'<i class="mark_vip_text">'+o+"</i>":""},coverCorner:function(t,e){function n(t,e){return t.replace(/\{(\w+)\}/g,function(t,n){var i=e[n]||"";return"param2x"==n&&i&&(i+=" 2x"),i&&i.replace&&i.replace(/^http\:/,"")})}function i(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}var o="",a=/(^1X)|(\/\/([\w\.]+\/)+(\w+\.\w+)$)/;if(e=e||[1,2,3,4],t){if("string"==typeof t)try{t=JSON.parse(t)}catch(d){}if(t.tag_3&&t.tag_3.id>0&&-1!=i(3,e)&&(o+=n('<div class="figure_count"><span class="num">{text}</span></div>',t.tag_3)),t.tag_4&&t.tag_4.id>0&&-1!=i(4,e)&&(o+=n('<sup class="{param}">{text}</sup>',t.tag_4)),t.tag_1&&t.tag_1.id>0&&-1!=i(1,e)&&(o+=n('<sup class="{param}">{text}</sup>',t.tag_1)),t.tag_2&&t.tag_2.id>0&&-1!=i(2,e)&&a.test(t.tag_2.param)){var r=t.tag_2.param,s=r.split(";"),c={};s.forEach(function(t){if(t){var e=t.split("=");e&&2===e.length&&(c[e[0]]=e[1])}}),c["1X"]&&(t.tag_2.param=c["1X"],t.tag_2.param2x=c["2X"]||""),o+=n('<i class="mark_v"><img src="{param}" srcset="{param2x}" alt="{text}"></i>',t.tag_2)}}return o},playnumIcon:function(){return'<i class="icon_xs triangle_next_xs"><svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10"><use xlink:href="#svg_triangle_next_xs"></use></svg></i>'},hasRight:function(t){if(t&&t.length>0)for(var e=0;e<t.length;e++)if("2"==t[e]||2==t[e])return!0;return!1},copyrightCover:function(t){if(t&&4==t.cover_checkup_grade&&t.copyright_id>0){for(var e=0;e<t.playright.length;e++)if("2"==t.playright[e])return!0;if(!0&t.data_flag)return!0}return!1},isMainEpisode:function(t){return t=t||[],[10139,10150,10416,10890,10470,10471,10994,10999,10001,10002,10003,10472].indexOf(t[0])},metaTitle:function(t,e){if(3==t.type||106==t.type){if(e.category_map&&e.category_map.length>0&&[10994,10999].indexOf(e.category_map[0])>-1){var n="";return n=0==e.c_title_output.indexOf("第")?e.c_title_output:"第"+e.c_title_output+"集",t.title+" "+n+"_1080P在线观看平台"}return e.c_title_output+"_"+t.title+"_1080P在线观看平台"}if(2==t.type){if(e.category_map&&e.category_map.length>0&&[10470,10471,10994,10999].indexOf(e.category_map[0])>-1){var n="";return n=0==e.c_title_output.indexOf("第")?e.c_title_output:"第"+e.c_title_output+"集",t.title+" "+n+"_1080P在线观看平台"}return e.c_title_output+"_"+t.title+"_1080P在线观看平台"}if(1==t.type)return e.category_map&&e.category_map.length>0&&[10139,10150,10416,10834,10890].indexOf(e.category_map[0])>-1?e.c_title_output+"_电影_高清1080P在线观看平台":e.c_title_output+"_"+t.title+"_电影_高清1080P在线观看平台";if(10==t.type){var i=e.c_title_output;return t.column&&t.column.column_id>0&&0==t.column.hide_flag?t.column.title+i+"_综艺_高清1080P在线观看平台":i+t.title+"_综艺_高清1080P在线观看平台"}var i=e.c_title_output;return t.column&&t.column.column_id>0&&0==t.column.hide_flag?i+"_"+t.column.title:i+"_"+t.title},metaDesc:function(t,e,n){if(1==t.type||2==t.type||3==t.type||9==t.type||106==t.type)return n||t.description||"";if(10==t.type)return t.column&&t.column.column_id>0&&0==t.column.hide_flag?t.column.description||"":t.description||"";var i=t.title||"";return t.second_title&&t.second_title.length>0?i+=": "+t.second_title:e.c_title_output&&e.c_title_output.length>0&&(i+=": "+e.c_title_output),i},metaKeys:function(t,e){var n=[];if(1==t.type||2==t.type||3==t.type||106==t.type){if(t.alias&&t.alias.length>0&&(n=n.concat(t.alias)),t.leading_actor&&t.leading_actor.length>0)for(var i=t.leading_actor.length>3?3:t.leading_actor.length,o=0;o<i;o++)n.push(t.leading_actor[o])}else if(t.column&&t.column.column_id>0&&0==t.column.hide_flag&&n.push(t.column.title),10==t.type){if(t.guests&&t.guests.length>0)for(var i=t.guests.length>3?3:t.guests.length,o=0;o<i;o++)n.push(t.guests[o])}else if(9==t.type){if(t.tag&&t.tag.length>0)for(var i=t.tag.length>3?3:t.tag.length,o=0;o<i;o++)n.push(t.tag[o])}else t.urlHasVid?e.pioneer_tag&&e.pioneer_tag.length>0?n.push(e.pioneer_tag.replace("+",",")):t.keyword&&t.keyword.length>0&&(n=n.concat(t.keyword)):t.keyword&&t.keyword.length>0?n=n.concat(t.keyword):e.pioneer_tag&&e.pioneer_tag.length>0&&n.push(e.pioneer_tag.replace("+",","));return n.push(t.type_name),n.join(",")},realLength:function(t){if(t){for(var e=0,n=0;n<t.length;n++)t.charAt(n).match(/[\x00-\x07]/)||(t.charAt(n).match(/[\x07-\xFF]/)?e+=1:e+=2);return e}},listStyleListTitle:function(t,e){var n,i=t.vname_title||t.title||"",o=t.series_part_title||(t.series_name||"")+t.episode,a=t.episode,r="title";switch(+e.list_show_style){case 1530990:+a>0?(n=+a,r="episode"):(n=i,r="autotitle");break;case 1530992:n=o;break;case 1532404:var s=+a;n=[s<10?"0"+s:s,i].join(" ");break;case 1532405:n=[o,i].join(" ");break;case 1530991:case 8259075:n=i;break;default:152462==e.digital_mode&&+t.episode>0?(n=t.episode,r="episode"):n=t.title}return{text:n,style:r}},listStyleTitle:function(t,e,n){var i=n||{},o='<a href="/detail/{cover.cover_id.charAt(0)}/{cover.cover_id}.html" class="_main_title" target="_blank" _stat="intro:title" title="{title}">{title}</a>';e.cover_id?o=o.replace("{cover.cover_id.charAt(0)}",e.cover_id.charAt(0)).replace("{cover.cover_id}",e.cover_id):i.wrapA=!1;var a=t.vname_title||t.title||"",r=t.series_part_title,s=t.episode;t.category_map=t.category_map||[];var c=9!=e.type&&9!=t.type;if(t.category_map&&-1==t.category_map.indexOf("正片")&&-1==t.category_map.indexOf("预告片"))return t.title;var d;switch(+e.list_show_style){case 1530990:d=+s>0?["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[a],c&&(c=e.title);break;case 1530992:d=[r],c&&(c=t.series_name);break;case 1532404:d=["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":""),a],c&&(c=e.title);break;case 1532405:d=[r,a],c&&(c=t.series_name);break;case 1530991:case 8259075:d=[a],c&&(c=e.title);break;default:d=152462==e.digital_mode&&+t.episode>0?["第"+ +s+"集"+(-1!=t.category_map.indexOf("预告片")?"预告":"")]:[t.title],c&&(c=e.title)}return i.wrapA&&c&&(c=o.replace(/\{title\}/g,c)),c&&d.unshift(c),d.join(" ")},peopleHref:function(t,e){return e?"http://v.qq.com/x/star/"+e:"http://v.qq.com/search.html?pagetype=3&stag=txt.playpage.vppdesc&ms_key="+encodeURIComponent(t)},imgUrl:function(t){return t&&t.replace(/^http\:/,"")},escape:function(t){return t?String(t).replace(/([&<>'"])/g,"\\$1").replace(/[\n\r\s\t\v]/g,""):""},coverPic:function(t,e,n){var i="//i.gtimg.cn/qqlive/img/jpgcache/files/qqvideo/";if("string"==typeof t){var o=[];e&&o.push(e),n=n||"",n.length>0&&(n="_"+n),o=o.concat([t.charAt(0),t+n+".jpg"]),i+=o.join("/")}return i},extend:function(){return i.extend.apply(i,arguments)},chnSlice:function(t,e){if(t){for(var n=[],i=0,o=0;o<t.length&&(t.charAt(o).match(/[\x00-\x07]/)||(t.charAt(o).match(/[\x07-\xFF]/)?i+=1:i+=2),n.push(t.charAt(o)),!(i>=e));o++);return n.join("")}},coverPicSize:function(t,e){return t?(t=this.imgUrl(t),t.replace(/\/0$/,"/"+e)):""},formatPeople:function(t,e){if(!t||!e||!e[0])return[];for(var n={},i=[],o=0;o<e.length;o++)for(var a=e[o],r=function(t,e){if(!(t&&e&&t.length&&e.length&&t.length==e.length))return[];for(var n=[],i=0;i<t.length;i++)n.push({id:t[i],name:e[i]});return n}(t[a.id],t[a.name]),s=0;s<r.length;s++){var a=r[s];a.id&&!n[a.id]&&(i.push(a),n[a.id]=!0)}return i},payStatusCorner:function(t,e,n){var i="";return 8!=t||e?(i=4==t?6:7==t?7:5,n?'<i class="mark_vip_text">VIP</i>':'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_'+i+'.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_'+i+'@2x.png 2x" alt="更新"></i>'):""},tvCorner:function(t,e){if(t.imgtag_ver){var n={};try{n=JSON.parse(t.imgtag_ver).tag_2}catch(a){}if(n.id>0&&n.text&&n.param){var i=n.param.split(";"),o={};return i.forEach(function(t){if(t){var e=t.split("=");e&&2===e.length&&(o[e[0]]=e[1])}}),o["1X"]&&o["2X"]?'<i class="mark_v"><img src="'+this.imgUrl(o["1X"])+'" srcset="'+this.imgUrl(o["2X"])+' 2x" /></i>':""}}return e.pre_play_plats_id&&e.pre_play_plats_id.length>0&&!this.hasRight(t.playright)?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_19.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_19@2x.png 2x" alt="抢先"></i>':t.category_map&&t.category_map.length>0&&-1!=t.category_map.indexOf("预告片")?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/20190401/sub_number_yu@1x.png" srcset="//i.gtimg.cn/qqlive/images/20190401/sub_number_yu@2x.png 2x"></i>':e.vipPage&&t.drm>0?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/mark/mark_14.png" srcset="//i.gtimg.cn/qqlive/images/mark/mark_14@2x.png 2x" alt="vip"></i>':306061==t.update_flag?'<i class="mark_v"><img src="//i.gtimg.cn/qqlive/images/20190401/sub_number_xin@1x.png" srcset="//i.gtimg.cn/qqlive/images/20190401/sub_number_xin@2x.png 2x"></i>':""},imgHttps:function(t){return t?t.replace(/^http:\/\//,"//"):""},coverTitle:function(t){return t.category_map&&-1!=t.category_map.indexOf("正片")||"79752"==t.column_id?"《"+t.title+"》":""},timeISO8601:function(t,e){var n="PT";return t>3600&&(n+=Math.floor(t/3600)+"H"),t>60&&(n+=Math.floor(t%3600/60)+"M"),n+=Math.floor(t%60)+"S"},navLink:function(t,e){var n="";return(e&&e.data&&e.data.content||[]).some(function(e){return e.title==t&&(n=e.link_addr,!0)}),n},youngRankUrl:function(t){return"//v.qq.com/p/mv/younghot20.html"+(t?"#"+t:"")},getPeriodTime:function(t){var e,n,i,o=new Date;switch(t){case"week":i=o%864e5;var a=o.getDay();o-=i,e=o-(a+6)%7*864e5,n=o+(7-a)%7*864e5;break;case"month":i=o%864e5,o.setDate(1),e=o-i,o.setMonth(o.getMonth()+1),n=o-864e5-i;break;default:e=n=0}return{begin:e,end:n}}}},function(t,e){var n=window.PageMessage;t.exports={afterCreate:function(t){for(var e=[32,37,39,74,75,76,70],i=["INPUT","EMBED"],o=48;o<=57;o++)e.push(o);for(var o=96;o<=105;o++)e.push(o);$("body").on({keydown:function(t){-1!=$.inArray(t.which,e)&&-1==$.inArray(t.target.tagName,i)&&t.preventDefault()},keyup:function(o){if(-1!=$.inArray(o.which,e)&&-1==$.inArray(o.target.tagName,i)){o.preventDefault();var a=o.which;if(a>=48&&a<=57){var r=t.getDuration();n.emit("tvp-seekto",r*((a-48)/10))}else if(a>=96&&a<=105){var r=t.getDuration();n.emit("tvp-seekto",r*((a-96)/10))}else switch(a){case 32:n.emit("tvp-togglePlayPause");break;case 37:n.emit("tvp-seekLeft",5);break;case 39:n.emit("tvp-seekRight",5)}}}})}}},function(t,e,n){var i,o=n(77);try{var a=txv.Boss.windGet;if(a){var r=a();r&&(i=encodeURIComponent(r))}if(!i){var s=document.createElement("a");s.href=location.href;var c=o.shift(s.search),d=c.text;"?"==d&&(d=""),s.search=d,"function"==typeof history.replaceState&&history.replaceState({},"",s.href),function(t){return"string"==typeof t&&""!=t}(c.data)&&(i=c.data,i.search("%253D")>-1&&(i=decodeURIComponent(i)))}}catch(l){}t.exports={defaultParam:function(t){t.outerReportData=i},beforeCreate:function(){},afterCreate:function(){}}},function(t,e,n){var i=n(4),o=n(78);t.exports={set:function(t,e){var n=o.qs(t.replace(/^\?/,""));return n.wind=$.param(e),{text:"?"+$.param(n)}},shift:function(t){var e=o.qs(t.replace(/^\?/,"")),n=e.wind,a={text:t};if(n){var r={};i.forEach(i.keys(e),function(t){"wind"!=t&&(r[t]=e[t])}),a.text="?"+$.param(r),a.data=n}return a}}},function(t,e,n){function i(t,e){return"string"==typeof t&&""!=t?(e=e||{},o.forEach(t.split("&"),function(t){var n=t.split("="),i=n[0],o=n[1];i&&o&&""!=i&&(e[i]=o)}),e):e||t||{}}var o=n(4),a="_wind",r=window.$;t.exports={setAttr:function(t){a=t},setJq:function(t){r=t},param:function(t){var e=r(t);if(e[0]){var n="";return e.parents("["+a+"]").each(function(t,e){var i=r(e),o=i.attr(a);n+=(t?"&":"")+o}),n}},calIdx:function(t,e){var n=r(t);if(n[0]){"number"!=typeof e.controlidx&&(e.controlidx=n.index());var o="number"!=typeof e.columnidx;n.parents("["+a+"]").each(function(t,n){var s=r(n);i(s.attr(a),e),e.columnname&&o&&(o=!1,e.columnidx=s.parent().children("["+a+"]").index(s))})}},qs:i}},function(t,e,n){"use strict";var i=n(80),o=txv.client,a=n(83),r=n(11)("PLAYER-MIXIN-CLIENT");t.exports={defaultParam:function(t){txv.ua.macs||["flash","html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("popup-client-plugin")})},beforeCreate:function(t){},afterCreate:function(t){t.on("clickOpenPcClient",function(t){r("clickOpenPcClient event received"),t=t||{};var e=t.sso,n=t.confid;if(e){if(r("clickOpenPcClient start copy"),n){var o="qqlivechannel="+n;if(txv.ua.ie){var s=new Date;s.setTime(s.getTime()+864e5),document.cookie=o+";path=/;expires="+s.toGMTString()}else a(o)}r("clickOpenPcClient start exec"),i.exec(e).then(function(){r("clickOpenPcClient exec done");var t=window.PLAYER;t&&t.pause&&t.pause()})}else i.play("web.vkadun")}),t.on("customTipsClicked",function(t){if("clientfree"==$(t.target).attr("data-behave")){var e=window.PLAYER,n="qqlive://sso/vbarid="+(COVER_INFO.cover_id||"")+"&videoid="+VIDEO_INFO.vid+"&start="+Math.max(0,e.getCurrentTime()-5)+"&rfid="+localStorage.getItem("gp-rfid");o.open({sso:n,atag:"v_player_clientfree",success:function(){r("clickOpenPcClient exec done"),e&&e.pause&&e.pause()}})}})}}},function(t,e,n){function i(t,e){return new s(function(n,i){var o=function(){i(),e&&e(),r()};l.exist().done(function(){l.open(t).done(function(){n()}).fail(o)}).fail(o)})}function o(t){txv.tips.FloatWarning({title:t,useMask:!1})}function a(t){return $.extend({cid:COVER_INFO.cover_id,vid:d},t)}function r(){u||(u=setTimeout(function(){u=0,l.download("vxiazai")},1e3))}var s=n(1),c=(n(81),n(82),navigator.userAgent.indexOf("QQLive"),window.PageMessage),d=VIDEO_INFO.vid;c.on("vidChanged",function(t){d=t.vid});var l=txv.client,u=0;t.exports={exist:l.exist,open:l.open,download:function(t,e){/^web\./.test(t)||(t="web."+t);var n={};return e=a(e||{}),e.cid?(n.vbarid=e.cid,n.vlist=e.vid):n.videoid=e.cid,i("qqlive://download/"+$.param(n)+"&atag="+t,function(){})},play:function(t,e){/^web\./.test(t)||(t="web."+t);var n={};return e=a(e||{}),e.cid&&(n.vbarid=e.cid),e.vid&&(n.videoid=e.vid),i("qqlive://sso/"+$.param(n)+"&atag="+t,function(){})},exec:function(t,e){return e=e||{},nopop="undefined"!=typeof e.nopop,i(t,function(){!nopop&&o("未检测到腾讯视频客户端，安装后可在客户端观看")})}}},function(module,exports){module.exports=function(d){with(d)return'<div class="mod_fixed_action_download _single_tip">\n\t<a class="btn_close _btn_close" href="javascript:;">\n\t\t<i class="icon_xs icon_close_xs"><svg class="svg_icon" viewBox="0 0 10 10" width="10" height="10"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_close_xs"></use></svg></i>\n\t</a>\n\t<div class="fixed_action_download">\n\t\t<div class="dl_item cf">\n\t\t\t<span class="dl_icon">\n\t\t\t\t<i class="icon_dl_round"></i>\n\t\t\t\t<i class="icon icon_dl"><svg class="svg_icon" viewBox="0 0 20 20" width="20" height="20"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg_icon_dl"></use></svg></i>\n\t\t\t</span>\n\t\t\t<span class="dl_txt">正在下载腾讯视频客户端，安装完成后立即下载视频</span>\n\t\t</div>\n\t\t<div class="rec_feature cf">\n\t\t\t<span class="feature_tit">客户端特权:</span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_fh"></i>\n                <span class="icon_text">3倍流畅播放</span>\n            </span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_hd"></i>\n                <span class="icon_text">免费蓝光</span>\n            </span>\n            <span class="feature_item">\n                <i class="icon_feature icon_feature_dl"></i>\n                <span class="icon_text">极速下载</span>\n            </span>\n        </div>\n\t</div>\n\t<i class="triangle_down"><i class="triangle_inner"></i></i>\n</div>'}},function(t,e,n){var i=n(4),o={},a=function(t,e,n,a){var r=i.extend(i.escape.bind(i),o,a);return t.$compile(e(i.extend({},n,{_:r})))};a.to=function(t){var e=a.apply(this,arguments);return t.appendChild(e),e},a.replace=function(t){var e=a.apply(this,arguments);if(!t.parentNode)throw Error("target element without parentNode.");return t.parentNode.replaceChild(e,t),e},a.helper=function(t,e){return o[t]=e,this},a.helpers=function(t){return i.extend(o,t),this},t.exports=a},function(t,e,n){"use strict";function i(){try{document.execCommand("copy")}catch(t){}}function o(t){var e="rtl"==document.documentElement.getAttribute("dir");a(),c=function(){return a()},s=document.body.addEventListener("click",c)||!0,r=document.createElement("textarea"),r.style.fontSize="12pt",r.style.border="0",r.style.padding="0",r.style.margin="0",r.style.position="absolute",r.style[e?"right":"left"]="-9999px",r.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",r.setAttribute("readonly",""),r.value=t,document.body.appendChild(r),d(r),i()}function a(){s&&(document.body.removeEventListener("click",c),s=null,c=null),r&&(document.body.removeChild(r),r=null)}var r,s,c,d=n(84);t.exports=function(t){return a(),o(t),i()}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),o=document.createRange();o.selectNodeContents(t),i.removeAllRanges(),i.addRange(o),e=i.toString()}return e}t.exports=n},function(t,e,n){"use strict";n(11)("PLAYER-MIXIN-PLUGINS");t.exports={defaultParam:function(t){-1==[1,2,3,9,10,106].indexOf(COVER_INFO.type)&&["flash","html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("closetoend-recommend")}),"80856"==COLUMN_INFO.column_id&&"string"==typeof location.href&&null!=location.href.match(/\/x\/cover|\/x\/page/)&&["html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("Components101"),"80856"==COLUMN_INFO.column_id?t.showId="1660480":t.showId=COLUMN_INFO.draft_state_id[0]}),-1!=[2,3].indexOf(COVER_INFO.type)&&["html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("BarrageInteractEgg")}),-1!=[1,2,3,9,10,106].indexOf(COVER_INFO.type)&&["html5hd","chromehls","safarihls"].forEach(function(e){t.extendPluginsMap.vod[e].push("UiPlayHideVideos")})},beforeCreate:function(t){},afterCreate:function(t){}}}]);